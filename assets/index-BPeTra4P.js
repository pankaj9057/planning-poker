function uI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qw={exports:{}},Za={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ry=Object.getOwnPropertySymbols,lI=Object.prototype.hasOwnProperty,cI=Object.prototype.propertyIsEnumerable;function fI(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function hI(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Xw=hI()?Object.assign:function(e,t){for(var n,r=fI(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)lI.call(n,s)&&(r[s]=n[s]);if(ry){i=ry(n);for(var a=0;a<i.length;a++)cI.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},Yw={exports:{}},Ee={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Xw,es=60103,Jw=60106;Ee.Fragment=60107;Ee.StrictMode=60108;Ee.Profiler=60114;var Zw=60109,eb=60110,tb=60112;Ee.Suspense=60113;var nb=60115,rb=60116;if(typeof Symbol=="function"&&Symbol.for){var Cn=Symbol.for;es=Cn("react.element"),Jw=Cn("react.portal"),Ee.Fragment=Cn("react.fragment"),Ee.StrictMode=Cn("react.strict_mode"),Ee.Profiler=Cn("react.profiler"),Zw=Cn("react.provider"),eb=Cn("react.context"),tb=Cn("react.forward_ref"),Ee.Suspense=Cn("react.suspense"),nb=Cn("react.memo"),rb=Cn("react.lazy")}var iy=typeof Symbol=="function"&&Symbol.iterator;function dI(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}function eu(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob={};function ts(e,t,n){this.props=e,this.context=t,this.refs=ob,this.updater=n||ib}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(eu(85));this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sb(){}sb.prototype=ts.prototype;function vp(e,t,n){this.props=e,this.context=t,this.refs=ob,this.updater=n||ib}var wp=vp.prototype=new sb;wp.constructor=vp;yp(wp,ts.prototype);wp.isPureReactComponent=!0;var bp={current:null},ab=Object.prototype.hasOwnProperty,ub={key:!0,ref:!0,__self:!0,__source:!0};function lb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ab.call(t,r)&&!ub.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:es,type:e,key:o,ref:s,props:i,_owner:bp.current}}function pI(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xp(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function mI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oy=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mI(""+e.key):t.toString(36)}function Zu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case es:case Jw:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Kf(s,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(oy,"$&/")+"/"),Zu(i,t,n,"",function(l){return l})):i!=null&&(xp(i)&&(i=pI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+Kf(o,a);s+=Zu(o,t,n,u,i)}else if(u=dI(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+Kf(o,a++),s+=Zu(o,t,n,u,i);else if(o==="object")throw t=""+e,Error(eu(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function Pu(e,t,n){if(e==null)return e;var r=[],i=0;return Zu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function gI(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var cb={current:null};function dr(){var e=cb.current;if(e===null)throw Error(eu(321));return e}var yI={ReactCurrentDispatcher:cb,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:bp,IsSomeRendererActing:{current:!1},assign:yp};Ee.Children={map:Pu,forEach:function(e,t,n){Pu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pu(e,function(){t++}),t},toArray:function(e){return Pu(e,function(t){return t})||[]},only:function(e){if(!xp(e))throw Error(eu(143));return e}};Ee.Component=ts;Ee.PureComponent=vp;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yI;Ee.cloneElement=function(e,t,n){if(e==null)throw Error(eu(267,e));var r=yp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=bp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)ab.call(t,u)&&!ub.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:es,type:e.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:eb,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Zw,_context:e},e.Consumer=e};Ee.createElement=lb;Ee.createFactory=function(e){var t=lb.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:tb,render:e}};Ee.isValidElement=xp;Ee.lazy=function(e){return{$$typeof:rb,_payload:{_status:-1,_result:e},_init:gI}};Ee.memo=function(e,t){return{$$typeof:nb,type:e,compare:t===void 0?null:t}};Ee.useCallback=function(e,t){return dr().useCallback(e,t)};Ee.useContext=function(e,t){return dr().useContext(e,t)};Ee.useDebugValue=function(){};Ee.useEffect=function(e,t){return dr().useEffect(e,t)};Ee.useImperativeHandle=function(e,t,n){return dr().useImperativeHandle(e,t,n)};Ee.useLayoutEffect=function(e,t){return dr().useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return dr().useMemo(e,t)};Ee.useReducer=function(e,t,n){return dr().useReducer(e,t,n)};Ee.useRef=function(e){return dr().useRef(e)};Ee.useState=function(e){return dr().useState(e)};Ee.version="17.0.2";Yw.exports=Ee;var ue=Yw.exports;const xe=Ja(ue);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI=ue,fb=60103;Za.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var sy=Symbol.for;fb=sy("react.element"),Za.Fragment=sy("react.fragment")}var wI=vI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bI=Object.prototype.hasOwnProperty,xI={key:!0,ref:!0,__self:!0,__source:!0};function hb(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)bI.call(t,r)&&!xI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fb,type:e,key:o,ref:s,props:i,_owner:wI.current}}Za.jsx=hb;Za.jsxs=hb;Qw.exports=Za;var d=Qw.exports,db={exports:{}},In={},pb={exports:{}},mb={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,l=null,c=function(){if(u!==null)try{var j=e.unstable_now();u(!0,j),u=null}catch(M){throw setTimeout(c,0),M}};t=function(j){u!==null?setTimeout(t,0,j):(u=j,setTimeout(c,0))},n=function(j,M){l=setTimeout(j,M)},r=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,w=null,g=-1,m=5,v=0;e.unstable_shouldYield=function(){return e.unstable_now()>=v},i=function(){},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<j?Math.floor(1e3/j):5};var b=new MessageChannel,x=b.port2;b.port1.onmessage=function(){if(w!==null){var j=e.unstable_now();v=j+m;try{w(!0,j)?x.postMessage(null):(y=!1,w=null)}catch(M){throw x.postMessage(null),M}}else y=!1},t=function(j){w=j,y||(y=!0,x.postMessage(null))},n=function(j,M){g=h(function(){j(e.unstable_now())},M)},r=function(){f(g),g=-1}}function T(j,M){var $=j.length;j.push(M);e:for(;;){var te=$-1>>>1,he=j[te];if(he!==void 0&&0<P(he,M))j[te]=M,j[$]=he,$=te;else break e}}function S(j){return j=j[0],j===void 0?null:j}function k(j){var M=j[0];if(M!==void 0){var $=j.pop();if($!==M){j[0]=$;e:for(var te=0,he=j.length;te<he;){var ke=2*(te+1)-1,Ae=j[ke],He=ke+1,Ft=j[He];if(Ae!==void 0&&0>P(Ae,$))Ft!==void 0&&0>P(Ft,Ae)?(j[te]=Ft,j[He]=$,te=He):(j[te]=Ae,j[ke]=$,te=ke);else if(Ft!==void 0&&0>P(Ft,$))j[te]=Ft,j[He]=$,te=He;else break e}}return M}return null}function P(j,M){var $=j.sortIndex-M.sortIndex;return $!==0?$:j.id-M.id}var D=[],Y=[],se=1,ie=null,me=3,ce=!1,E=!1,A=!1;function ee(j){for(var M=S(Y);M!==null;){if(M.callback===null)k(Y);else if(M.startTime<=j)k(Y),M.sortIndex=M.expirationTime,T(D,M);else break;M=S(Y)}}function K(j){if(A=!1,ee(j),!E)if(S(D)!==null)E=!0,t(z);else{var M=S(Y);M!==null&&n(K,M.startTime-j)}}function z(j,M){E=!1,A&&(A=!1,r()),ce=!0;var $=me;try{for(ee(M),ie=S(D);ie!==null&&(!(ie.expirationTime>M)||j&&!e.unstable_shouldYield());){var te=ie.callback;if(typeof te=="function"){ie.callback=null,me=ie.priorityLevel;var he=te(ie.expirationTime<=M);M=e.unstable_now(),typeof he=="function"?ie.callback=he:ie===S(D)&&k(D),ee(M)}else k(D);ie=S(D)}if(ie!==null)var ke=!0;else{var Ae=S(Y);Ae!==null&&n(K,Ae.startTime-M),ke=!1}return ke}finally{ie=null,me=$,ce=!1}}var R=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){E||ce||(E=!0,t(z))},e.unstable_getCurrentPriorityLevel=function(){return me},e.unstable_getFirstCallbackNode=function(){return S(D)},e.unstable_next=function(j){switch(me){case 1:case 2:case 3:var M=3;break;default:M=me}var $=me;me=M;try{return j()}finally{me=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=R,e.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=me;me=j;try{return M()}finally{me=$}},e.unstable_scheduleCallback=function(j,M,$){var te=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?te+$:te):$=te,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=$+he,j={id:se++,callback:M,priorityLevel:j,startTime:$,expirationTime:he,sortIndex:-1},$>te?(j.sortIndex=$,T(Y,j),S(D)===null&&j===S(Y)&&(A?r():A=!0,n(K,$-te))):(j.sortIndex=he,T(D,j),E||ce||(E=!0,t(z))),j},e.unstable_wrapCallback=function(j){var M=me;return function(){var $=me;me=M;try{return j.apply(this,arguments)}finally{me=$}}}})(mb);pb.exports=mb;var SI=pb.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=ue,$e=Xw,ut=SI;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ec)throw Error(H(227));var gb=new Set,ya={};function Li(e,t){No(e,t),No(e+"Capture",t)}function No(e,t){for(ya[e]=t,e=0;e<t.length;e++)gb.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay=Object.prototype.hasOwnProperty,uy={},ly={};function TI(e){return ay.call(ly,e)?!0:ay.call(uy,e)?!1:EI.test(e)?ly[e]=!0:(uy[e]=!0,!1)}function II(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kI(e,t,n,r){if(t===null||typeof t>"u"||II(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sp=/[\-:]([a-z])/g;function Ep(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sp,Ep);xt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sp,Ep);xt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sp,Ep);xt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tp(e,t,n,r){var i=xt.hasOwnProperty(t)?xt[t]:null,o=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(kI(t,n,i,r)&&(n=null),r||i===null?TI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fi=Ec.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=60103,ui=60106,Sr=60107,Ip=60108,Xs=60114,kp=60109,Cp=60110,Tc=60112,Ys=60113,wl=60120,Ic=60115,Np=60116,_p=60121,Pp=60128,yb=60129,jp=60130,Uh=60131;if(typeof Symbol=="function"&&Symbol.for){var ot=Symbol.for;Vs=ot("react.element"),ui=ot("react.portal"),Sr=ot("react.fragment"),Ip=ot("react.strict_mode"),Xs=ot("react.profiler"),kp=ot("react.provider"),Cp=ot("react.context"),Tc=ot("react.forward_ref"),Ys=ot("react.suspense"),wl=ot("react.suspense_list"),Ic=ot("react.memo"),Np=ot("react.lazy"),_p=ot("react.block"),ot("react.scope"),Pp=ot("react.opaque.id"),yb=ot("react.debug_trace_mode"),jp=ot("react.offscreen"),Uh=ot("react.legacy_hidden")}var cy=typeof Symbol=="function"&&Symbol.iterator;function bs(e){return e===null||typeof e!="object"?null:(e=cy&&e[cy]||e["@@iterator"],typeof e=="function"?e:null)}var Qf;function Bs(e){if(Qf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qf=t&&t[1]||""}return`
`+Qf+e}var Xf=!1;function ju(e,t){if(!e||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bs(e):""}function CI(e){switch(e.tag){case 5:return Bs(e.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return e=ju(e.type,!1),e;case 11:return e=ju(e.type.render,!1),e;case 22:return e=ju(e.type._render,!1),e;case 1:return e=ju(e.type,!0),e;default:return""}}function go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case ui:return"Portal";case Xs:return"Profiler";case Ip:return"StrictMode";case Ys:return"Suspense";case wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cp:return(e.displayName||"Context")+".Consumer";case kp:return(e._context.displayName||"Context")+".Provider";case Tc:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Ic:return go(e.type);case _p:return go(e._render);case Np:t=e._payload,e=e._init;try{return go(e(t))}catch{}}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function vb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NI(e){var t=vb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ou(e){e._valueTracker||(e._valueTracker=NI(e))}function wb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vh(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bb(e,t){t=t.checked,t!=null&&Tp(e,"checked",t,!1)}function Bh(e,t){bb(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qh(e,t.type,n):t.hasOwnProperty("defaultValue")&&qh(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qh(e,t,n){(t!=="number"||bl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function _I(e){var t="";return Ec.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function zh(e,t){return e=$e({children:void 0},t),(t=_I(t.children))&&(e.children=t),e}function yo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function xb(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Gh={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Sb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Au,Eb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==Gh.svg||"innerHTML"in e)e.innerHTML=t;else{for(Au=Au||document.createElement("div"),Au.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Au.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PI=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){PI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function Tb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function Ib(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var jI=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kh(e,t){if(t){if(jI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Qh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Op(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xh=null,vo=null,wo=null;function my(e){if(e=nu(e)){if(typeof Xh!="function")throw Error(H(280));var t=e.stateNode;t&&(t=jc(t),Xh(e.stateNode,e.type,t))}}function kb(e){vo?wo?wo.push(e):wo=[e]:vo=e}function Cb(){if(vo){var e=vo,t=wo;if(wo=vo=null,my(e),t)for(e=0;e<t.length;e++)my(t[e])}}function Ap(e,t){return e(t)}function Nb(e,t,n,r,i){return e(t,n,r,i)}function Dp(){}var _b=Ap,li=!1,Yf=!1;function Rp(){(vo!==null||wo!==null)&&(Dp(),Cb())}function OI(e,t,n){if(Yf)return e(t,n);Yf=!0;try{return _b(e,t,n)}finally{Yf=!1,Rp()}}function wa(e,t){var n=e.stateNode;if(n===null)return null;var r=jc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Yh=!1;if(lr)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Yh=!1}function AI(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Zs=!1,xl=null,Sl=!1,Jh=null,DI={onError:function(e){Zs=!0,xl=e}};function RI(e,t,n,r,i,o,s,a,u){Zs=!1,xl=null,AI.apply(DI,arguments)}function LI(e,t,n,r,i,o,s,a,u){if(RI.apply(this,arguments),Zs){if(Zs){var l=xl;Zs=!1,xl=null}else throw Error(H(198));Sl||(Sl=!0,Jh=l)}}function Mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gy(e){if(Mi(e)!==e)throw Error(H(188))}function FI(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gy(i),e;if(o===r)return gy(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function jb(e){if(e=FI(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function yy(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var Ob,Lp,Ab,Db,Zh=!1,Mn=[],Pr=null,jr=null,Or=null,ba=new Map,xa=new Map,Ss=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function wy(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Es(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e=ed(t,n,r,i,o),t!==null&&(t=nu(t),t!==null&&Lp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function MI(e,t,n,r,i){switch(t){case"focusin":return Pr=Es(Pr,e,t,n,r,i),!0;case"dragenter":return jr=Es(jr,e,t,n,r,i),!0;case"mouseover":return Or=Es(Or,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ba.set(o,Es(ba.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xa.set(o,Es(xa.get(o)||null,e,t,n,r,i)),!0}return!1}function $I(e){var t=ci(e.target);if(t!==null){var n=Mi(t);if(n!==null){if(t=n.tag,t===13){if(t=Pb(n),t!==null){e.blockedOn=t,Db(e.lanePriority,function(){ut.unstable_runWithPriority(e.priority,function(){Ab(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Up(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=nu(n),t!==null&&Lp(t),e.blockedOn=n,!1;t.shift()}return!0}function by(e,t,n){el(e)&&n.delete(t)}function UI(){for(Zh=!1;0<Mn.length;){var e=Mn[0];if(e.blockedOn!==null){e=nu(e.blockedOn),e!==null&&Ob(e);break}for(var t=e.targetContainers;0<t.length;){var n=Up(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Mn.shift()}Pr!==null&&el(Pr)&&(Pr=null),jr!==null&&el(jr)&&(jr=null),Or!==null&&el(Or)&&(Or=null),ba.forEach(by),xa.forEach(by)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Zh||(Zh=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,UI)))}function Rb(e){function t(i){return Ts(i,e)}if(0<Mn.length){Ts(Mn[0],e);for(var n=1;n<Mn.length;n++){var r=Mn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Ts(Pr,e),jr!==null&&Ts(jr,e),Or!==null&&Ts(Or,e),ba.forEach(t),xa.forEach(t),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)$I(n),n.blockedOn===null&&Ss.shift()}function Du(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ao={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Jf={},Lb={};lr&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function kc(e){if(Jf[e])return Jf[e];if(!ao[e])return e;var t=ao[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lb)return Jf[e]=t[n];return e}var Fb=kc("animationend"),Mb=kc("animationiteration"),$b=kc("animationstart"),Ub=kc("transitionend"),Vb=new Map,Fp=new Map,VI=["abort","abort",Fb,"animationEnd",Mb,"animationIteration",$b,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ub,"transitionEnd","waiting","waiting"];function Mp(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Fp.set(r,t),Vb.set(r,i),Li(i,[r])}}var BI=ut.unstable_now;BI();var je=8;function no(e){if(1&e)return je=15,1;if(2&e)return je=14,2;if(4&e)return je=13,4;var t=24&e;return t!==0?(je=12,t):e&32?(je=11,32):(t=192&e,t!==0?(je=10,t):e&256?(je=9,256):(t=3584&e,t!==0?(je=8,t):e&4096?(je=7,4096):(t=4186112&e,t!==0?(je=6,t):(t=62914560&e,t!==0?(je=5,t):e&67108864?(je=4,67108864):e&134217728?(je=3,134217728):(t=805306368&e,t!==0?(je=2,t):1073741824&e?(je=1,1073741824):(je=8,e))))))}function qI(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function zI(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,e))}}function Sa(e,t){var n=e.pendingLanes;if(n===0)return je=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(o!==0)r=o,i=je=15;else if(o=n&134217727,o!==0){var u=o&~s;u!==0?(r=no(u),i=je):(a&=o,a!==0&&(r=no(a),i=je))}else o=n&~s,o!==0?(r=no(o),i=je):a!==0&&(r=no(a),i=je);if(r===0)return 0;if(r=31-Vr(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&!(t&s)){if(no(t),i<=je)return t;je=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vr(t),i=1<<n,r|=e[n],t&=~i;return r}function Bb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function El(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=ro(24&~t),e===0?El(10,t):e;case 10:return e=ro(192&~t),e===0?El(8,t):e;case 8:return e=ro(3584&~t),e===0&&(e=ro(4186112&~t),e===0&&(e=512)),e;case 2:return t=ro(805306368&~t),t===0&&(t=268435456),t}throw Error(H(358,e))}function ro(e){return e&-e}function Zf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cc(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Vr(t),e[t]=n}var Vr=Math.clz32?Math.clz32:WI,HI=Math.log,GI=Math.LN2;function WI(e){return e===0?32:31-(HI(e)/GI|0)|0}var KI=ut.unstable_UserBlockingPriority,QI=ut.unstable_runWithPriority,tl=!0;function XI(e,t,n,r){li||Dp();var i=$p,o=li;li=!0;try{Nb(i,e,t,n,r)}finally{(li=o)||Rp()}}function YI(e,t,n,r){QI(KI,$p.bind(null,e,t,n,r))}function $p(e,t,n,r){if(tl){var i;if((i=(t&4)===0)&&0<Mn.length&&-1<vy.indexOf(e))e=ed(null,e,t,n,r),Mn.push(e);else{var o=Up(e,t,n,r);if(o===null)i&&wy(e,r);else{if(i){if(-1<vy.indexOf(e)){e=ed(o,e,t,n,r),Mn.push(e);return}if(MI(o,e,t,n,r))return;wy(e,r)}e1(e,t,r,null,n)}}}}function Up(e,t,n,r){var i=Op(r);if(i=ci(i),i!==null){var o=Mi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=Pb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return e1(e,t,r,i,n),null}var Cr=null,Vp=null,nl=null;function qb(){if(nl)return nl;var e,t=Vp,n=t.length,r,i="value"in Cr?Cr.value:Cr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return nl=i.slice(e,1<r?1-r:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ru(){return!0}function xy(){return!1}function mn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ru:xy,this.isPropagationStopped=xy,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bp=mn(ns),tu=$e({},ns,{view:0,detail:0}),JI=mn(tu),eh,th,Is,Nc=$e({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(eh=e.screenX-Is.screenX,th=e.screenY-Is.screenY):th=eh=0,Is=e),eh)},movementY:function(e){return"movementY"in e?e.movementY:th}}),Sy=mn(Nc),ZI=$e({},Nc,{dataTransfer:0}),ek=mn(ZI),tk=$e({},tu,{relatedTarget:0}),nh=mn(tk),nk=$e({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=mn(nk),ik=$e({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ok=mn(ik),sk=$e({},ns,{data:0}),Ey=mn(sk),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ck(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lk[e])?!!t[e]:!1}function qp(){return ck}var fk=$e({},tu,{key:function(e){if(e.key){var t=ak[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hk=mn(fk),dk=$e({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ty=mn(dk),pk=$e({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),mk=mn(pk),gk=$e({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=mn(gk),vk=$e({},Nc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wk=mn(vk),bk=[9,13,27,32],zp=lr&&"CompositionEvent"in window,ea=null;lr&&"documentMode"in document&&(ea=document.documentMode);var xk=lr&&"TextEvent"in window&&!ea,zb=lr&&(!zp||ea&&8<ea&&11>=ea),Iy=" ",ky=!1;function Hb(e,t){switch(e){case"keyup":return bk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function Sk(e,t){switch(e){case"compositionend":return Gb(t);case"keypress":return t.which!==32?null:(ky=!0,Iy);case"textInput":return e=t.data,e===Iy&&ky?null:e;default:return null}}function Ek(e,t){if(uo)return e==="compositionend"||!zp&&Hb(e,t)?(e=qb(),nl=Vp=Cr=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zb&&t.locale!=="ko"?null:t.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tk[e.type]:t==="textarea"}function Wb(e,t,n,r){kb(r),t=Tl(t,"onChange"),0<t.length&&(n=new Bp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ta=null,Ea=null;function Ik(e){Yb(e,0)}function _c(e){var t=co(e);if(wb(t))return e}function kk(e,t){if(e==="change")return t}var Kb=!1;if(lr){var rh;if(lr){var ih="oninput"in document;if(!ih){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),ih=typeof Ny.oninput=="function"}rh=ih}else rh=!1;Kb=rh&&(!document.documentMode||9<document.documentMode)}function _y(){ta&&(ta.detachEvent("onpropertychange",Qb),Ea=ta=null)}function Qb(e){if(e.propertyName==="value"&&_c(Ea)){var t=[];if(Wb(t,Ea,e,Op(e)),e=Ik,li)e(t);else{li=!0;try{Ap(e,t)}finally{li=!1,Rp()}}}}function Ck(e,t,n){e==="focusin"?(_y(),ta=t,Ea=n,ta.attachEvent("onpropertychange",Qb)):e==="focusout"&&_y()}function Nk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(Ea)}function _k(e,t){if(e==="click")return _c(t)}function Pk(e,t){if(e==="input"||e==="change")return _c(t)}function jk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:jk,Ok=Object.prototype.hasOwnProperty;function Ta(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ok.call(t,n[r])||!wn(e[n[r]],t[n[r]]))return!1;return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jy(e,t){var n=Py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function Xb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oy(){for(var e=window,t=bl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bl(e.document)}return t}function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ak=lr&&"documentMode"in document&&11>=document.documentMode,lo=null,nd=null,na=null,rd=!1;function Ay(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||lo==null||lo!==bl(r)||(r=lo,"selectionStart"in r&&td(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&Ta(na,r)||(na=r,r=Tl(nd,"onSelect"),0<r.length&&(t=new Bp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lo)))}Mp("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Mp("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Mp(VI,2);for(var Dy="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),oh=0;oh<Dy.length;oh++)Fp.set(Dy[oh],0);No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function Ry(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,LI(r,t,void 0,e),e.currentTarget=null}function Yb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Ry(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Ry(i,a,l),o=u}}}if(Sl)throw e=Jh,Sl=!1,Jh=null,e}function Re(e,t){var n=n1(t),r=e+"__bubble";n.has(r)||(Zb(t,e,2,!1),n.add(r))}var Ly="_reactListening"+Math.random().toString(36).slice(2);function Jb(e){e[Ly]||(e[Ly]=!0,gb.forEach(function(t){Dk.has(t)||Fy(t,!1,e,null),Fy(t,!0,e,null)}))}function Fy(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;e==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument);var s=n1(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Zb(o,e,i,t),s.add(a))}function Zb(e,t,n,r){var i=Fp.get(t);switch(i===void 0?2:i){case 0:i=XI;break;case 1:i=YI;break;default:i=$p}n=i.bind(null,t,n,e),i=void 0,!Yh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function e1(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ci(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}OI(function(){var l=o,c=Op(n),h=[];e:{var f=Vb.get(e);if(f!==void 0){var p=Bp,y=e;switch(e){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":p=hk;break;case"focusin":y="focus",p=nh;break;case"focusout":y="blur",p=nh;break;case"beforeblur":case"afterblur":p=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mk;break;case Fb:case Mb:case $b:p=rk;break;case Ub:p=yk;break;case"scroll":p=JI;break;case"wheel":p=wk;break;case"copy":case"cut":case"paste":p=ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ty}var w=(t&4)!==0,g=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var v=l,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,m!==null&&(x=wa(v,m),x!=null&&w.push(Ia(v,x,b)))),g)break;v=v.return}0<w.length&&(f=new p(f,y,null,n,c),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&!(t&16)&&(y=n.relatedTarget||n.fromElement)&&(ci(y)||y[rs]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=l,y=y?ci(y):null,y!==null&&(g=Mi(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=l),p!==y)){if(w=Sy,x="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ty,x="onPointerLeave",m="onPointerEnter",v="pointer"),g=p==null?f:co(p),b=y==null?f:co(y),f=new w(x,v+"leave",p,n,c),f.target=g,f.relatedTarget=b,x=null,ci(c)===l&&(w=new w(m,v+"enter",y,n,c),w.target=b,w.relatedTarget=g,x=w),g=x,p&&y)t:{for(w=p,m=y,v=0,b=w;b;b=Yi(b))v++;for(b=0,x=m;x;x=Yi(x))b++;for(;0<v-b;)w=Yi(w),v--;for(;0<b-v;)m=Yi(m),b--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=Yi(w),m=Yi(m)}w=null}else w=null;p!==null&&My(h,f,p,w,!1),y!==null&&g!==null&&My(h,g,y,w,!0)}}e:{if(f=l?co(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=kk;else if(Cy(f))if(Kb)T=Pk;else{T=Nk;var S=Ck}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=_k);if(T&&(T=T(e,l))){Wb(h,T,n,c);break e}S&&S(e,f,l),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&qh(f,"number",f.value)}switch(S=l?co(l):window,e){case"focusin":(Cy(S)||S.contentEditable==="true")&&(lo=S,nd=l,na=null);break;case"focusout":na=nd=lo=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Ay(h,n,c);break;case"selectionchange":if(Ak)break;case"keydown":case"keyup":Ay(h,n,c)}var k;if(zp)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else uo?Hb(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(zb&&n.locale!=="ko"&&(uo||P!=="onCompositionStart"?P==="onCompositionEnd"&&uo&&(k=qb()):(Cr=c,Vp="value"in Cr?Cr.value:Cr.textContent,uo=!0)),S=Tl(l,P),0<S.length&&(P=new Ey(P,e,null,n,c),h.push({event:P,listeners:S}),k?P.data=k:(k=Gb(n),k!==null&&(P.data=k)))),(k=xk?Sk(e,n):Ek(e,n))&&(l=Tl(l,"onBeforeInput"),0<l.length&&(c=new Ey("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=k))}Yb(h,t)})}function Ia(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wa(e,n),o!=null&&r.unshift(Ia(e,o,i)),o=wa(e,t),o!=null&&r.push(Ia(e,o,i))),e=e.return}return r}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function My(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=wa(n,o),u!=null&&s.unshift(Ia(n,u,a))):i||(u=wa(n,o),u!=null&&s.push(Ia(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}function Il(){}var sh=null,ah=null;function t1(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function id(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,Rk=typeof clearTimeout=="function"?clearTimeout:void 0;function Hp(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function bo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Uy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var uh=0;function Lk(e){return{$$typeof:Pp,toString:e,valueOf:e}}var Pc=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Pc,kl="__reactProps$"+Pc,rs="__reactContainer$"+Pc,Vy="__reactEvents$"+Pc;function ci(e){var t=e[Nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uy(e);e!==null;){if(n=e[Nr])return n;e=Uy(e)}return t}e=n,n=e.parentNode}return null}function nu(e){return e=e[Nr]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function jc(e){return e[kl]||null}function n1(e){var t=e[Vy];return t===void 0&&(t=e[Vy]=new Set),t}var od=[],fo=-1;function Kr(e){return{current:e}}function Fe(e){0>fo||(e.current=od[fo],od[fo]=null,fo--)}function Ke(e,t){fo++,od[fo]=e.current,e.current=t}var Br={},At=Kr(Br),Jt=Kr(!1),Ei=Br;function _o(e,t){var n=e.type.contextTypes;if(!n)return Br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Cl(){Fe(Jt),Fe(At)}function By(e,t,n){if(At.current!==Br)throw Error(H(168));Ke(At,t),Ke(Jt,n)}function r1(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,go(t)||"Unknown",i));return $e({},n,r)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,Ei=At.current,Ke(At,e),Ke(Jt,Jt.current),!0}function qy(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=r1(e,t,Ei),r.__reactInternalMemoizedMergedChildContext=e,Fe(Jt),Fe(At),Ke(At,e)):Fe(Jt),Ke(Jt,n)}var Gp=null,wi=null,Fk=ut.unstable_runWithPriority,Wp=ut.unstable_scheduleCallback,sd=ut.unstable_cancelCallback,Mk=ut.unstable_shouldYield,zy=ut.unstable_requestPaint,ad=ut.unstable_now,$k=ut.unstable_getCurrentPriorityLevel,Oc=ut.unstable_ImmediatePriority,i1=ut.unstable_UserBlockingPriority,o1=ut.unstable_NormalPriority,s1=ut.unstable_LowPriority,a1=ut.unstable_IdlePriority,lh={},Uk=zy!==void 0?zy:function(){},Zn=null,ol=null,ch=!1,Hy=ad(),Nt=1e4>Hy?ad:function(){return ad()-Hy};function Po(){switch($k()){case Oc:return 99;case i1:return 98;case o1:return 97;case s1:return 96;case a1:return 95;default:throw Error(H(332))}}function u1(e){switch(e){case 99:return Oc;case 98:return i1;case 97:return o1;case 96:return s1;case 95:return a1;default:throw Error(H(332))}}function Ti(e,t){return e=u1(e),Fk(e,t)}function ka(e,t,n){return e=u1(e),Wp(e,t,n)}function Qn(){if(ol!==null){var e=ol;ol=null,sd(e)}l1()}function l1(){if(!ch&&Zn!==null){ch=!0;var e=0;try{var t=Zn;Ti(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Zn=null}catch(n){throw Zn!==null&&(Zn=Zn.slice(e+1)),Wp(Oc,Qn),n}finally{ch=!1}}}var Vk=Fi.ReactCurrentBatchConfig;function Pn(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Nl=Kr(null),_l=null,ho=null,Pl=null;function Kp(){Pl=ho=_l=null}function Qp(e){var t=Nl.current;Fe(Nl),e.type._context._currentValue=t}function c1(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function xo(e,t){_l=e,Pl=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function En(e,t){if(Pl!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Pl=e,t=1073741823),t={context:e,observedBits:t,next:null},ho===null){if(_l===null)throw Error(H(308));ho=t,_l.dependencies={lanes:0,firstContext:t,responders:null}}else ho=ho.next=t;return e._currentValue}var br=!1;function Xp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function f1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Gy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ca(e,t,n,r){var i=e.updateQueue;br=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;if(c!==null){c=c.updateQueue;var h=c.lastBaseUpdate;h!==s&&(h===null?c.firstBaseUpdate=l:h.next=l,c.lastBaseUpdate=u)}}if(o!==null){h=i.baseState,s=0,c=l=u=null;do{a=o.lane;var f=o.eventTime;if((r&a)===a){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(a=t,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,a);break e}h=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=y.payload,a=typeof p=="function"?p.call(f,h,a):p,a==null)break e;h=$e({},h,a);break e;case 2:br=!0}}o.callback!==null&&(e.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else f={eventTime:f,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=f,u=h):c=c.next=f,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(!0);c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,iu|=s,e.lanes=s,e.memoizedState=h}}function Wy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var h1=new Ec.Component().refs;function jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ac={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fn(),i=Rr(e),o=Ar(r,i);o.payload=t,n!=null&&(o.callback=n),Dr(e,o),Lr(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fn(),i=Rr(e),o=Ar(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),Dr(e,o),Lr(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),r=Rr(e),i=Ar(n,r);i.tag=2,t!=null&&(i.callback=t),Dr(e,i),Lr(e,r,n)}};function Ky(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ta(n,r)||!Ta(i,o):!0}function d1(e,t,n){var r=!1,i=Br,o=t.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Zt(t)?Ei:At.current,r=t.contextTypes,o=(r=r!=null)?_o(e,i):Br),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ac,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ac.enqueueReplaceState(t,t.state,null)}function ud(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=h1,Xp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Zt(t)?Ei:At.current,i.context=_o(e,o)),Ca(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ac.enqueueReplaceState(i,i.state,null),Ca(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Lu=Array.isArray;function ks(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=r.refs;s===h1&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Fu(e,t){if(e.type!=="textarea")throw Error(H(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function p1(e){function t(g,m){if(e){var v=g.lastEffect;v!==null?(v.nextEffect=m,g.lastEffect=m):g.firstEffect=g.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=zr(g,m),g.index=0,g.sibling=null,g}function o(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags=2,m):v):(g.flags=2,m)):m}function s(g){return e&&g.alternate===null&&(g.flags=2),g}function a(g,m,v,b){return m===null||m.tag!==6?(m=mh(v,g.mode,b),m.return=g,m):(m=i(m,v),m.return=g,m)}function u(g,m,v,b){return m!==null&&m.elementType===v.type?(b=i(m,v.props),b.ref=ks(g,m,v),b.return=g,b):(b=ll(v.type,v.key,v.props,null,g.mode,b),b.ref=ks(g,m,v),b.return=g,b)}function l(g,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=gh(v,g.mode,b),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function c(g,m,v,b,x){return m===null||m.tag!==7?(m=Io(v,g.mode,b,x),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"||typeof m=="number")return m=mh(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vs:return v=ll(m.type,m.key,m.props,null,g.mode,v),v.ref=ks(g,null,m),v.return=g,v;case ui:return m=gh(m,g.mode,v),m.return=g,m}if(Lu(m)||bs(m))return m=Io(m,g.mode,v,null),m.return=g,m;Fu(g,m)}return null}function f(g,m,v,b){var x=m!==null?m.key:null;if(typeof v=="string"||typeof v=="number")return x!==null?null:a(g,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vs:return v.key===x?v.type===Sr?c(g,m,v.props.children,b,x):u(g,m,v,b):null;case ui:return v.key===x?l(g,m,v,b):null}if(Lu(v)||bs(v))return x!==null?null:c(g,m,v,b,null);Fu(g,v)}return null}function p(g,m,v,b,x){if(typeof b=="string"||typeof b=="number")return g=g.get(v)||null,a(m,g,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:return g=g.get(b.key===null?v:b.key)||null,b.type===Sr?c(m,g,b.props.children,x,b.key):u(m,g,b,x);case ui:return g=g.get(b.key===null?v:b.key)||null,l(m,g,b,x)}if(Lu(b)||bs(b))return g=g.get(v)||null,c(m,g,b,x,null);Fu(m,b)}return null}function y(g,m,v,b){for(var x=null,T=null,S=m,k=m=0,P=null;S!==null&&k<v.length;k++){S.index>k?(P=S,S=null):P=S.sibling;var D=f(g,S,v[k],b);if(D===null){S===null&&(S=P);break}e&&S&&D.alternate===null&&t(g,S),m=o(D,m,k),T===null?x=D:T.sibling=D,T=D,S=P}if(k===v.length)return n(g,S),x;if(S===null){for(;k<v.length;k++)S=h(g,v[k],b),S!==null&&(m=o(S,m,k),T===null?x=S:T.sibling=S,T=S);return x}for(S=r(g,S);k<v.length;k++)P=p(S,g,k,v[k],b),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),m=o(P,m,k),T===null?x=P:T.sibling=P,T=P);return e&&S.forEach(function(Y){return t(g,Y)}),x}function w(g,m,v,b){var x=bs(v);if(typeof x!="function")throw Error(H(150));if(v=x.call(v),v==null)throw Error(H(151));for(var T=x=null,S=m,k=m=0,P=null,D=v.next();S!==null&&!D.done;k++,D=v.next()){S.index>k?(P=S,S=null):P=S.sibling;var Y=f(g,S,D.value,b);if(Y===null){S===null&&(S=P);break}e&&S&&Y.alternate===null&&t(g,S),m=o(Y,m,k),T===null?x=Y:T.sibling=Y,T=Y,S=P}if(D.done)return n(g,S),x;if(S===null){for(;!D.done;k++,D=v.next())D=h(g,D.value,b),D!==null&&(m=o(D,m,k),T===null?x=D:T.sibling=D,T=D);return x}for(S=r(g,S);!D.done;k++,D=v.next())D=p(S,g,k,D.value,b),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?k:D.key),m=o(D,m,k),T===null?x=D:T.sibling=D,T=D);return e&&S.forEach(function(se){return t(g,se)}),x}return function(g,m,v,b){var x=typeof v=="object"&&v!==null&&v.type===Sr&&v.key===null;x&&(v=v.props.children);var T=typeof v=="object"&&v!==null;if(T)switch(v.$$typeof){case Vs:e:{for(T=v.key,x=m;x!==null;){if(x.key===T){switch(x.tag){case 7:if(v.type===Sr){n(g,x.sibling),m=i(x,v.props.children),m.return=g,g=m;break e}break;default:if(x.elementType===v.type){n(g,x.sibling),m=i(x,v.props),m.ref=ks(g,x,v),m.return=g,g=m;break e}}n(g,x);break}else t(g,x);x=x.sibling}v.type===Sr?(m=Io(v.props.children,g.mode,b,v.key),m.return=g,g=m):(b=ll(v.type,v.key,v.props,null,g.mode,b),b.ref=ks(g,m,v),b.return=g,g=b)}return s(g);case ui:e:{for(x=v.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=gh(v,g.mode,b),m.return=g,g=m}return s(g)}if(typeof v=="string"||typeof v=="number")return v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=mh(v,g.mode,b),m.return=g,g=m),s(g);if(Lu(v))return y(g,m,v,b);if(bs(v))return w(g,m,v,b);if(T&&Fu(g,v),typeof v>"u"&&!x)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,go(g.type)||"Component"))}return n(g,m)}}var Ol=p1(!0),m1=p1(!1),ru={},qn=Kr(ru),Na=Kr(ru),_a=Kr(ru);function fi(e){if(e===ru)throw Error(H(174));return e}function ld(e,t){switch(Ke(_a,t),Ke(Na,e),Ke(qn,ru),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wh(t,e)}Fe(qn),Ke(qn,t)}function jo(){Fe(qn),Fe(Na),Fe(_a)}function Xy(e){fi(_a.current);var t=fi(qn.current),n=Wh(t,e.type);t!==n&&(Ke(Na,e),Ke(qn,n))}function Yp(e){Na.current===e&&(Fe(qn),Fe(Na))}var We=Kr(0);function Al(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=null,_r=null,zn=!1;function g1(e,t){var n=bn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function cd(e){if(zn){var t=_r;if(t){var n=t;if(!Yy(e,t)){if(t=bo(n.nextSibling),!t||!Yy(e,t)){e.flags=e.flags&-1025|2,zn=!1,tr=e;return}g1(tr,n)}tr=e,_r=bo(t.firstChild)}else e.flags=e.flags&-1025|2,zn=!1,tr=e}}function Jy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Mu(e){if(e!==tr)return!1;if(!zn)return Jy(e),zn=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!id(t,e.memoizedProps))for(t=_r;t;)g1(e,t),t=bo(t.nextSibling);if(Jy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_r=bo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=tr?bo(e.stateNode.nextSibling):null;return!0}function fh(){_r=tr=null,zn=!1}var So=[];function Jp(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var ra=Fi.ReactCurrentDispatcher,xn=Fi.ReactCurrentBatchConfig,Pa=0,Qe=null,It=null,pt=null,Dl=!1,ia=!1;function Kt(){throw Error(H(321))}function Zp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function em(e,t,n,r,i,o){if(Pa=o,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=e===null||e.memoizedState===null?qk:zk,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(H(301));o+=1,pt=It=null,t.updateQueue=null,ra.current=Hk,e=n(r,i)}while(ia)}if(ra.current=Ml,t=It!==null&&It.next!==null,Pa=0,pt=It=Qe=null,Dl=!1,t)throw Error(H(300));return e}function hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Qe.memoizedState=pt=e:pt=pt.next=e,pt}function $i(){if(It===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=pt===null?Qe.memoizedState:pt.next;if(t!==null)pt=t,It=e;else{if(e===null)throw Error(H(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},pt===null?Qe.memoizedState=pt=e:pt=pt.next=e}return pt}function $n(e,t){return typeof t=="function"?t(e):t}function Cs(e){var t=$i(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,u=i;do{var l=u.lane;if((Pa&l)===l)a!==null&&(a=a.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};a===null?(s=a=c,o=r):a=a.next=c,Qe.lanes|=l,iu|=l}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=s,wn(r,t.memoizedState)||(jn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ns(e){var t=$i(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);wn(o,t.memoizedState)||(jn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Zy(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Pa&e)===e)&&(t._workInProgressVersionPrimary=r,So.push(t))),e)return n(t._source);throw So.push(t),Error(H(350))}function y1(e,t,n,r){var i=zt;if(i===null)throw Error(H(349));var o=t._getVersion,s=o(t._source),a=ra.current,u=a.useState(function(){return Zy(i,t,n)}),l=u[1],c=u[0];u=pt;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,y=h.source;h=h.subscribe;var w=Qe;return e.memoizedState={refs:f,source:t,subscribe:r},a.useEffect(function(){f.getSnapshot=n,f.setSnapshot=l;var g=o(t._source);if(!wn(s,g)){g=n(t._source),wn(c,g)||(l(g),g=Rr(w),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var m=i.entanglements,v=g;0<v;){var b=31-Vr(v),x=1<<b;m[b]|=g,v&=~x}}},[n,t,r]),a.useEffect(function(){return r(t._source,function(){var g=f.getSnapshot,m=f.setSnapshot;try{m(g(t._source));var v=Rr(w);i.mutableReadLanes|=v&i.pendingLanes}catch(b){m(function(){throw b})}})},[t,r]),wn(p,n)&&wn(y,t)&&wn(h,r)||(e={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:c},e.dispatch=l=rm.bind(null,Qe,e),u.queue=e,u.baseQueue=null,c=Zy(i,t,n),u.memoizedState=u.baseState=c),c}function v1(e,t,n){var r=$i();return y1(r,e,t,n)}function _s(e){var t=hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},e=e.dispatch=rm.bind(null,Qe,e),[t.memoizedState,e]}function Rl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ev(e){var t=hi();return e={current:e},t.memoizedState=e}function Ll(){return $i().memoizedState}function fd(e,t,n,r){var i=hi();Qe.flags|=e,i.memoizedState=Rl(1|t,n,void 0,r===void 0?null:r)}function tm(e,t,n,r){var i=$i();r=r===void 0?null:r;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,r!==null&&Zp(r,s.deps)){Rl(t,n,o,r);return}}Qe.flags|=e,i.memoizedState=Rl(1|t,n,o,r)}function tv(e,t){return fd(516,4,e,t)}function Fl(e,t){return tm(516,4,e,t)}function w1(e,t){return tm(4,2,e,t)}function b1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x1(e,t,n){return n=n!=null?n.concat([e]):null,tm(4,2,b1.bind(null,t,e),n)}function nm(){}function S1(e,t){var n=$i();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function E1(e,t){var n=$i();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bk(e,t){var n=Po();Ti(98>n?98:n,function(){e(!0)}),Ti(97<n?97:n,function(){var r=xn.transition;xn.transition=1;try{e(!1),t()}finally{xn.transition=r}})}function rm(e,t,n){var r=fn(),i=Rr(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Qe||s!==null&&s===Qe)ia=Dl=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,wn(u,a))return}catch{}finally{}Lr(e,i,r)}}var Ml={readContext:En,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useOpaqueIdentifier:Kt,unstable_isNewReconciler:!1},qk={readContext:En,useCallback:function(e,t){return hi().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:tv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fd(4,2,b1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fd(4,2,e,t)},useMemo:function(e,t){var n=hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=rm.bind(null,Qe,e),[r.memoizedState,e]},useRef:ev,useState:_s,useDebugValue:nm,useDeferredValue:function(e){var t=_s(e),n=t[0],r=t[1];return tv(function(){var i=xn.transition;xn.transition=1;try{r(e)}finally{xn.transition=i}},[e]),n},useTransition:function(){var e=_s(!1),t=e[0];return e=Bk.bind(null,e[1]),ev(e),[e,t]},useMutableSource:function(e,t,n){var r=hi();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},y1(r,e,t,n)},useOpaqueIdentifier:function(){if(zn){var e=!1,t=Lk(function(){throw e||(e=!0,n("r:"+(uh++).toString(36))),Error(H(355))}),n=_s(t)[1];return!(Qe.mode&2)&&(Qe.flags|=516,Rl(5,function(){n("r:"+(uh++).toString(36))},void 0,null)),t}return t="r:"+(uh++).toString(36),_s(t),t},unstable_isNewReconciler:!1},zk={readContext:En,useCallback:S1,useContext:En,useEffect:Fl,useImperativeHandle:x1,useLayoutEffect:w1,useMemo:E1,useReducer:Cs,useRef:Ll,useState:function(){return Cs($n)},useDebugValue:nm,useDeferredValue:function(e){var t=Cs($n),n=t[0],r=t[1];return Fl(function(){var i=xn.transition;xn.transition=1;try{r(e)}finally{xn.transition=i}},[e]),n},useTransition:function(){var e=Cs($n)[0];return[Ll().current,e]},useMutableSource:v1,useOpaqueIdentifier:function(){return Cs($n)[0]},unstable_isNewReconciler:!1},Hk={readContext:En,useCallback:S1,useContext:En,useEffect:Fl,useImperativeHandle:x1,useLayoutEffect:w1,useMemo:E1,useReducer:Ns,useRef:Ll,useState:function(){return Ns($n)},useDebugValue:nm,useDeferredValue:function(e){var t=Ns($n),n=t[0],r=t[1];return Fl(function(){var i=xn.transition;xn.transition=1;try{r(e)}finally{xn.transition=i}},[e]),n},useTransition:function(){var e=Ns($n)[0];return[Ll().current,e]},useMutableSource:v1,useOpaqueIdentifier:function(){return Ns($n)[0]},unstable_isNewReconciler:!1},Gk=Fi.ReactCurrentOwner,jn=!1;function Qt(e,t,n,r){t.child=e===null?m1(t,null,n,r):Ol(t,e.child,n,r)}function nv(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=em(e,t,n,r,o,i),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nr(e,t,i)):(t.flags|=1,Qt(e,t,r,i),t.child)}function rv(e,t,n,r,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!lm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,T1(e,t,s,r,i,o)):(e=ll(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,!(i&o)&&(i=s.memoizedProps,n=n.compare,n=n!==null?n:Ta,n(i,r)&&e.ref===t.ref)?nr(e,t,o):(t.flags|=1,e=zr(s,r),e.ref=t.ref,e.return=t,t.child=e)}function T1(e,t,n,r,i,o){if(e!==null&&Ta(e.memoizedProps,r)&&e.ref===t.ref)if(jn=!1,(o&i)!==0)e.flags&16384&&(jn=!0);else return t.lanes=e.lanes,nr(e,t,o);return hd(e,t,n,r,o)}function hh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},Uu(t,n);else if(n&1073741824)t.memoizedState={baseLanes:0},Uu(t,o!==null?o.baseLanes:n);else return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Uu(t,e),null;else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Uu(t,r);return Qt(e,t,i,n),t.child}function I1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function hd(e,t,n,r,i){var o=Zt(n)?Ei:At.current;return o=_o(t,o),xo(t,i),n=em(e,t,n,r,o,i),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nr(e,t,i)):(t.flags|=1,Qt(e,t,n,i),t.child)}function iv(e,t,n,r,i){if(Zt(n)){var o=!0;il(t)}else o=!1;if(xo(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),d1(t,n,r),ud(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=En(l):(l=Zt(n)?Ei:At.current,l=_o(t,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Qy(t,s,r,l),br=!1;var f=t.memoizedState;s.state=f,Ca(t,r,s,i),u=t.memoizedState,a!==r||f!==u||Jt.current||br?(typeof c=="function"&&(jl(t,n,c,r),u=t.memoizedState),(a=br||Ky(t,n,a,r,f,u,l))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{s=t.stateNode,f1(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Pn(t.type,a),s.props=l,h=t.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=Zt(n)?Ei:At.current,u=_o(t,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==u)&&Qy(t,s,r,u),br=!1,f=t.memoizedState,s.state=f,Ca(t,r,s,i);var y=t.memoizedState;a!==h||f!==y||Jt.current||br?(typeof p=="function"&&(jl(t,n,p,r),y=t.memoizedState),(l=br||Ky(t,n,l,r,f,y,u))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return dd(e,t,n,r,o,i)}function dd(e,t,n,r,i,o){I1(e,t);var s=(t.flags&64)!==0;if(!r&&!s)return i&&qy(t,n,!1),nr(e,t,o);r=t.stateNode,Gk.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ol(t,e.child,null,o),t.child=Ol(t,null,a,o)):Qt(e,t,a,o),t.memoizedState=r.state,i&&qy(t,n,!0),t.child}function ov(e){var t=e.stateNode;t.pendingContext?By(e,t.pendingContext,t.pendingContext!==t.context):t.context&&By(e,t.context,!1),ld(e,t.containerInfo)}var $u={dehydrated:null,retryLane:0};function sv(e,t,n){var r=t.pendingProps,i=We.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Ke(We,i&1),e===null?(r.fallback!==void 0&&cd(t),e=r.children,i=r.fallback,o?(e=av(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$u,e):typeof r.unstable_expectedLoadTime=="number"?(e=av(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$u,t.lanes=33554432,e):(n=cm({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?o?(r=lv(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$u,r):(n=uv(e,t,r.children,n),t.memoizedState=null,n):o?(r=lv(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$u,r):(n=uv(e,t,r.children,n),t.memoizedState=null,n)}function av(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=cm(t,i,0,null),n=Io(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function uv(e,t,n,r){var i=e.child;return e=i.sibling,n=zr(i,{mode:"visible",children:n}),!(t.mode&2)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function lv(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return!(o&2)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,s=n.lastEffect,s!==null?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zr(s,a),e!==null?r=zr(e,r):(r=Io(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function cv(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),c1(e.return,t)}function dh(e,t,n,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function fv(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Qt(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cv(e,n);else if(e.tag===19)cv(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(We,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Al(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dh(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Al(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dh(t,!0,n,null,o,t.lastEffect);break;case"together":dh(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),iu|=t.lanes,n&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var k1,pd,C1,N1;k1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pd=function(){};C1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fi(qn.current);var o=null;switch(n){case"input":i=Vh(e,i),r=Vh(e,r),o=[];break;case"option":i=zh(e,i),r=zh(e,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=Hh(e,i),r=Hh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Il)}Kh(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ya.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ya.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Re("scroll",e),o||a===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===Pp?u.toString():(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};N1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ps(e,t){if(!zn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wk(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zt(t.type)&&Cl(),null;case 3:return jo(),Fe(Jt),Fe(At),Jp(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mu(t)?t.flags|=4:r.hydrate||(t.flags|=256)),pd(t),null;case 5:Yp(t);var i=fi(_a.current);if(n=t.type,e!==null&&t.stateNode!=null)C1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(H(166));return null}if(e=fi(qn.current),Mu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nr]=t,r[kl]=o,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(e=0;e<qs.length;e++)Re(qs[e],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":fy(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":dy(r,o),Re("invalid",r)}Kh(n,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):ya.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Re("scroll",r));switch(n){case"input":Ou(r),hy(r,o,!0);break;case"textarea":Ou(r),py(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Il)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===Gh.html&&(e=Sb(n)),e===Gh.html?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Nr]=t,e[kl]=r,k1(e,t,!1,!1),t.stateNode=e,s=Qh(n,r),n){case"dialog":Re("cancel",e),Re("close",e),i=r;break;case"iframe":case"object":case"embed":Re("load",e),i=r;break;case"video":case"audio":for(i=0;i<qs.length;i++)Re(qs[i],e);i=r;break;case"source":Re("error",e),i=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),i=r;break;case"details":Re("toggle",e),i=r;break;case"input":fy(e,r),i=Vh(e,r),Re("invalid",e);break;case"option":i=zh(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Re("invalid",e);break;case"textarea":dy(e,r),i=Hh(e,r),Re("invalid",e);break;default:i=r}Kh(n,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Ib(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Eb(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&va(e,u):typeof u=="number"&&va(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Re("scroll",e):u!=null&&Tp(e,o,u,s))}switch(n){case"input":Ou(e),hy(e,r,!1);break;case"textarea":Ou(e),py(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?yo(e,!!r.multiple,o,!1):r.defaultValue!=null&&yo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Il)}t1(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)N1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));n=fi(_a.current),fi(qn.current),Mu(t)?(r=t.stateNode,n=t.memoizedProps,r[Nr]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=t,t.stateNode=r)}return null;case 13:return Fe(We),r=t.memoizedState,t.flags&64?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&Mu(t):n=e.memoizedState!==null,r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||We.current&1?gt===0&&(gt=3):((gt===0||gt===3)&&(gt=4),zt===null||!(iu&134217727)&&!(os&134217727)||Eo(zt,Pt))),(r||n)&&(t.flags|=4),null);case 4:return jo(),pd(t),e===null&&Jb(t.stateNode.containerInfo),null;case 10:return Qp(t),null;case 17:return Zt(t.type)&&Cl(),null;case 19:if(Fe(We),r=t.memoizedState,r===null)return null;if(o=(t.flags&64)!==0,s=r.rendering,s===null)if(o)Ps(r,!1);else{if(gt!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(s=Al(e),s!==null){for(t.flags|=64,Ps(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(We,We.current&1|2),t.child}e=e.sibling}r.tail!==null&&Nt()>bd&&(t.flags|=64,o=!0,Ps(r,!1),t.lanes=33554432)}else{if(!o)if(e=Al(s),e!==null){if(t.flags|=64,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ps(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!zn)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Nt()-r.renderingStartTime>bd&&n!==1073741824&&(t.flags|=64,o=!0,Ps(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Nt(),n.sibling=null,t=We.current,Ke(We,o?t&1|2:t&1),n):null;case 23:case 24:return um(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(H(156,t.tag))}function Kk(e){switch(e.tag){case 1:Zt(e.type)&&Cl();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(jo(),Fe(Jt),Fe(At),Jp(),t=e.flags,t&64)throw Error(H(285));return e.flags=t&-4097|64,e;case 5:return Yp(e),null;case 13:return Fe(We),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Fe(We),null;case 4:return jo(),null;case 10:return Qp(e),null;case 23:case 24:return um(),null;default:return null}}function im(e,t){try{var n="",r=t;do n+=CI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function md(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qk=typeof WeakMap=="function"?WeakMap:Map;function _1(e,t,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,xd=r),md(e,t)},n}function P1(e,t,n){n=Ar(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return md(e,t),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this),md(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}var Xk=typeof WeakSet=="function"?WeakSet:Set;function hv(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Fr(e,n)}else t.current=null}function Yk(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Pn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Hp(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(H(163))}function Jk(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&($1(n,e),sC(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Pn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&Wy(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Wy(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&t1(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Rb(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function dv(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Tb("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pv(e,t){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(Gp,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)$1(t,n);else{r=t;try{i()}catch(o){Fr(r,o)}}n=n.next}while(n!==e)}break;case 1:if(hv(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Fr(t,o)}break;case 5:hv(t);break;case 4:j1(e,t)}}function mv(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gv(e){return e.tag===5||e.tag===3||e.tag===4}function yv(e){e:{for(var t=e.return;t!==null;){if(gv(t))break e;t=t.return}throw Error(H(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(H(161))}n.flags&16&&(va(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||gv(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?gd(e,n,t):yd(e,n,t)}function gd(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Il));else if(r!==4&&(e=e.child,e!==null))for(gd(e,t,n),e=e.sibling;e!==null;)gd(e,t,n),e=e.sibling}function yd(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}function j1(e,t){for(var n=t,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(H(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=e,a=n,u=a;;)if(pv(s,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(s=i,a=n.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(pv(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ph(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(n[kl]=r,e==="input"&&r.type==="radio"&&r.name!=null&&bb(n,r),Qh(e,i),t=Qh(e,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?Ib(n,a):s==="dangerouslySetInnerHTML"?Eb(n,a):s==="children"?va(n,a):Tp(n,s,a,t)}switch(e){case"input":Bh(n,r);break;case"textarea":xb(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?yo(n,!!r.multiple,o,!1):e!==!!r.multiple&&(r.defaultValue!=null?yo(n,!!r.multiple,r.defaultValue,!0):yo(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(H(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,Rb(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(am=Nt(),dv(t.child,!0)),vv(t);return;case 19:vv(t);return;case 17:return;case 23:case 24:dv(t,t.memoizedState!==null);return}throw Error(H(163))}function vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xk),t.forEach(function(r){var i=lC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zk(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var eC=Math.ceil,$l=Fi.ReactCurrentDispatcher,om=Fi.ReactCurrentOwner,fe=0,zt=null,nt=null,Pt=0,Ii=0,vd=Kr(0),gt=0,Dc=null,is=0,iu=0,os=0,sm=0,wd=null,am=0,bd=1/0;function ss(){bd=Nt()+500}var X=null,Ul=!1,xd=null,Un=null,qr=!1,oa=null,zs=90,Sd=[],Ed=[],or=null,sa=0,Td=null,sl=-1,er=0,al=0,aa=null,ul=!1;function fn(){return fe&48?Nt():sl!==-1?sl:sl=Nt()}function Rr(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return Po()===99?1:2;if(er===0&&(er=is),Vk.transition!==0){al!==0&&(al=wd!==null?wd.pendingLanes:0),e=er;var t=4186112&~al;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Po(),fe&4&&e===98?e=El(12,er):(e=qI(e),e=El(e,er)),e}function Lr(e,t,n){if(50<sa)throw sa=0,Td=null,Error(H(185));if(e=Rc(e,t),e===null)return null;Cc(e,t,n),e===zt&&(os|=t,gt===4&&Eo(e,Pt));var r=Po();t===1?fe&8&&!(fe&48)?Id(e):(Tn(e,n),fe===0&&(ss(),Qn())):(!(fe&4)||r!==98&&r!==99||(or===null?or=new Set([e]):or.add(e)),Tn(e,n)),wd=e}function Rc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function Tn(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Vr(s),u=1<<a,l=o[a];if(l===-1){if(!(u&r)||u&i){l=t,no(u);var c=je;o[a]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Sa(e,e===zt?Pt:0),t=je,r===0)n!==null&&(n!==lh&&sd(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==lh&&sd(n)}t===15?(n=Id.bind(null,e),Zn===null?(Zn=[n],ol=Wp(Oc,l1)):Zn.push(n),n=lh):t===14?n=ka(99,Id.bind(null,e)):(n=zI(t),n=ka(n,O1.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function O1(e){if(sl=-1,al=er=0,fe&48)throw Error(H(327));var t=e.callbackNode;if(Qr()&&e.callbackNode!==t)return null;var n=Sa(e,e===zt?Pt:0);if(n===0)return null;var r=n,i=fe;fe|=16;var o=L1();(zt!==e||Pt!==r)&&(ss(),To(e,r));do try{rC();break}catch(a){R1(e,a)}while(!0);if(Kp(),$l.current=o,fe=i,nt!==null?r=0:(zt=null,Pt=0,r=gt),is&os)To(e,0);else if(r!==0){if(r===2&&(fe|=64,e.hydrate&&(e.hydrate=!1,Hp(e.containerInfo)),n=Bb(e),n!==0&&(r=Hs(e,n))),r===1)throw t=Dc,To(e,0),Eo(e,n),Tn(e,Nt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:oi(e);break;case 3:if(Eo(e,n),(n&62914560)===n&&(r=am+500-Nt(),10<r)){if(Sa(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$y(oi.bind(null,e),r);break}oi(e);break;case 4:if(Eo(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vr(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eC(n/1960))-n,10<n){e.timeoutHandle=$y(oi.bind(null,e),n);break}oi(e);break;case 5:oi(e);break;default:throw Error(H(329))}}return Tn(e,Nt()),e.callbackNode===t?O1.bind(null,e):null}function Eo(e,t){for(t&=~sm,t&=~os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),r=1<<n;e[n]=-1,t&=~r}}function Id(e){if(fe&48)throw Error(H(327));if(Qr(),e===zt&&e.expiredLanes&Pt){var t=Pt,n=Hs(e,t);is&os&&(t=Sa(e,t),n=Hs(e,t))}else t=Sa(e,0),n=Hs(e,t);if(e.tag!==0&&n===2&&(fe|=64,e.hydrate&&(e.hydrate=!1,Hp(e.containerInfo)),t=Bb(e),t!==0&&(n=Hs(e,t))),n===1)throw n=Dc,To(e,0),Eo(e,t),Tn(e,Nt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e),Tn(e,Nt()),null}function tC(){if(or!==null){var e=or;or=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Tn(t,Nt())})}Qn()}function A1(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(ss(),Qn())}}function D1(e,t){var n=fe;fe&=-2,fe|=8;try{return e(t)}finally{fe=n,fe===0&&(ss(),Qn())}}function Uu(e,t){Ke(vd,Ii),Ii|=t,is|=t}function um(){Ii=vd.current,Fe(vd)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rk(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:jo(),Fe(Jt),Fe(At),Jp();break;case 5:Yp(r);break;case 4:jo();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Qp(r);break;case 23:case 24:um()}n=n.return}zt=e,nt=zr(e.current,null),Pt=Ii=is=t,gt=0,Dc=null,sm=os=iu=0}function R1(e,t){do{var n=nt;try{if(Kp(),ra.current=Ml,Dl){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dl=!1}if(Pa=0,pt=It=Qe=null,ia=!1,om.current=null,n===null||n.return===null){gt=1,Dc=t,nt=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Pt,a.flags|=2048,a.firstEffect=a.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if(!(a.mode&2)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=(We.current&1)!==0,f=s;do{var p;if(p=f.tag===13){var y=f.memoizedState;if(y!==null)p=y.dehydrated!==null;else{var w=f.memoizedProps;p=w.fallback===void 0?!1:w.unstable_avoidThisFallback!==!0?!0:!h}}if(p){var g=f.updateQueue;if(g===null){var m=new Set;m.add(l),f.updateQueue=m}else g.add(l);if(!(f.mode&2)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var v=Ar(-1,1);v.tag=2,Dr(a,v)}a.lanes|=1;break e}u=void 0,a=t;var b=o.pingCache;if(b===null?(b=o.pingCache=new Qk,u=new Set,b.set(l,u)):(u=b.get(l),u===void 0&&(u=new Set,b.set(l,u))),!u.has(a)){u.add(a);var x=uC.bind(null,o,l,a);l.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(f!==null);u=Error((go(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}gt!==5&&(gt=2),u=im(u,a),f=s;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t;var T=_1(f,o,t);Gy(f,T);break e;case 1:o=u;var S=f.type,k=f.stateNode;if(!(f.flags&64)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Un===null||!Un.has(k)))){f.flags|=4096,t&=-t,f.lanes|=t;var P=P1(f,o,t);Gy(f,P);break e}}f=f.return}while(f!==null)}M1(n)}catch(D){t=D,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function L1(){var e=$l.current;return $l.current=Ml,e===null?Ml:e}function Hs(e,t){var n=fe;fe|=16;var r=L1();zt===e&&Pt===t||To(e,t);do try{nC();break}catch(i){R1(e,i)}while(!0);if(Kp(),fe=n,$l.current=r,nt!==null)throw Error(H(261));return zt=null,Pt=0,gt}function nC(){for(;nt!==null;)F1(nt)}function rC(){for(;nt!==null&&!Mk();)F1(nt)}function F1(e){var t=U1(e.alternate,e,Ii);e.memoizedProps=e.pendingProps,t===null?M1(e):nt=t,om.current=null}function M1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&2048){if(n=Kk(t),n!==null){n.flags&=2047,nt=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(n=Wk(n,t,Ii),n!==null){nt=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||Ii&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);gt===0&&(gt=5)}function oi(e){var t=Po();return Ti(99,iC.bind(null,e,t)),null}function iC(e,t){do Qr();while(oa!==null);if(fe&48)throw Error(H(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<o;){var u=31-Vr(o),l=1<<u;i[u]=0,s[u]=-1,a[u]=-1,o&=~l}if(or!==null&&!(r&24)&&or.has(e)&&or.delete(e),e===zt&&(nt=zt=null,Pt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=fe,fe|=32,om.current=null,sh=tl,s=Oy(),td(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(l=a.getSelection&&a.getSelection())&&l.rangeCount!==0){a=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var c=0,h=-1,f=-1,p=0,y=0,w=s,g=null;t:for(;;){for(var m;w!==a||o!==0&&w.nodeType!==3||(h=c+o),w!==u||l!==0&&w.nodeType!==3||(f=c+l),w.nodeType===3&&(c+=w.nodeValue.length),(m=w.firstChild)!==null;)g=w,w=m;for(;;){if(w===s)break t;if(g===a&&++p===o&&(h=c),g===u&&++y===l&&(f=c),(m=w.nextSibling)!==null)break;w=g,g=w.parentNode}w=m}a=h===-1||f===-1?null:{start:h,end:f}}else a=null;a=a||{start:0,end:0}}else a=null;ah={focusedElem:s,selectionRange:a},tl=!1,aa=null,ul=!1,X=r;do try{oC()}catch(D){if(X===null)throw Error(H(330));Fr(X,D),X=X.nextEffect}while(X!==null);aa=null,X=r;do try{for(s=e;X!==null;){var v=X.flags;if(v&16&&va(X.stateNode,""),v&128){var b=X.alternate;if(b!==null){var x=b.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(v&1038){case 2:yv(X),X.flags&=-3;break;case 6:yv(X),X.flags&=-3,ph(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025,ph(X.alternate,X);break;case 4:ph(X.alternate,X);break;case 8:a=X,j1(s,a);var T=a.alternate;mv(a),T!==null&&mv(T)}X=X.nextEffect}}catch(D){if(X===null)throw Error(H(330));Fr(X,D),X=X.nextEffect}while(X!==null);if(x=ah,b=Oy(),v=x.focusedElem,s=x.selectionRange,b!==v&&v&&v.ownerDocument&&Xb(v.ownerDocument.documentElement,v)){for(s!==null&&td(v)&&(b=s.start,x=s.end,x===void 0&&(x=b),"selectionStart"in v?(v.selectionStart=b,v.selectionEnd=Math.min(x,v.value.length)):(x=(b=v.ownerDocument||document)&&b.defaultView||window,x.getSelection&&(x=x.getSelection(),a=v.textContent.length,T=Math.min(s.start,a),s=s.end===void 0?T:Math.min(s.end,a),!x.extend&&T>s&&(a=s,s=T,T=a),a=jy(v,T),o=jy(v,s),a&&o&&(x.rangeCount!==1||x.anchorNode!==a.node||x.anchorOffset!==a.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&(b=b.createRange(),b.setStart(a.node,a.offset),x.removeAllRanges(),T>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b)))))),b=[],x=v;x=x.parentNode;)x.nodeType===1&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<b.length;v++)x=b[v],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}tl=!!sh,ah=sh=null,e.current=n,X=r;do try{for(v=e;X!==null;){var S=X.flags;if(S&36&&Jk(v,X.alternate,X),S&128){b=void 0;var k=X.ref;if(k!==null){var P=X.stateNode;switch(X.tag){case 5:b=P;break;default:b=P}typeof k=="function"?k(b):k.current=b}}X=X.nextEffect}}catch(D){if(X===null)throw Error(H(330));Fr(X,D),X=X.nextEffect}while(X!==null);X=null,Uk(),fe=i}else e.current=n;if(qr)qr=!1,oa=e,zs=t;else for(X=r;X!==null;)t=X.nextEffect,X.nextEffect=null,X.flags&8&&(S=X,S.sibling=null,S.stateNode=null),X=t;if(r=e.pendingLanes,r===0&&(Un=null),r===1?e===Td?sa++:(sa=0,Td=e):sa=0,n=n.stateNode,wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(Gp,n,void 0,(n.current.flags&64)===64)}catch{}if(Tn(e,Nt()),Ul)throw Ul=!1,e=xd,xd=null,e;return fe&8||Qn(),null}function oC(){for(;X!==null;){var e=X.alternate;ul||aa===null||(X.flags&8?yy(X,aa)&&(ul=!0):X.tag===13&&Zk(e,X)&&yy(X,aa)&&(ul=!0));var t=X.flags;t&256&&Yk(e,X),!(t&512)||qr||(qr=!0,ka(97,function(){return Qr(),null})),X=X.nextEffect}}function Qr(){if(zs!==90){var e=97<zs?97:zs;return zs=90,Ti(e,aC)}return!1}function sC(e,t){Sd.push(t,e),qr||(qr=!0,ka(97,function(){return Qr(),null}))}function $1(e,t){Ed.push(t,e),qr||(qr=!0,ka(97,function(){return Qr(),null}))}function aC(){if(oa===null)return!1;var e=oa;if(oa=null,fe&48)throw Error(H(331));var t=fe;fe|=32;var n=Ed;Ed=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(u){if(o===null)throw Error(H(330));Fr(o,u)}}for(n=Sd,Sd=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var a=i.create;i.destroy=a()}catch(u){if(o===null)throw Error(H(330));Fr(o,u)}}for(a=e.current.firstEffect;a!==null;)e=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=e;return fe=t,Qn(),!0}function wv(e,t,n){t=im(n,t),t=_1(e,t,1),Dr(e,t),t=fn(),e=Rc(e,1),e!==null&&(Cc(e,1,t),Tn(e,t))}function Fr(e,t){if(e.tag===3)wv(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){wv(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=im(t,e);var i=P1(n,e,1);if(Dr(n,i),i=fn(),n=Rc(n,1),n!==null)Cc(n,1,i),Tn(n,i);else if(typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function uC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Pt&n)===n&&(gt===4||gt===3&&(Pt&62914560)===Pt&&500>Nt()-am?To(e,0):sm|=n),Tn(e,t)}function lC(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(er===0&&(er=is),t=ro(62914560&~er),t===0&&(t=4194304)):t=Po()===99?1:2:t=1),n=fn(),e=Rc(e,t),e!==null&&(Cc(e,t,n),Tn(e,n))}var U1;U1=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)jn=!0;else if(n&r)jn=!!(e.flags&16384);else{switch(jn=!1,t.tag){case 3:ov(t),fh();break;case 5:Xy(t);break;case 1:Zt(t.type)&&il(t);break;case 4:ld(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ke(Nl,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return n&t.child.childLanes?sv(e,t,n):(Ke(We,We.current&1),t=nr(e,t,n),t!==null?t.sibling:null);Ke(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&64){if(r)return fv(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(We,We.current),r)break;return null;case 23:case 24:return t.lanes=0,hh(e,t,n)}return nr(e,t,n)}else jn=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=_o(t,At.current),xo(t,n),i=em(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)){var o=!0;il(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xp(t);var s=r.getDerivedStateFromProps;typeof s=="function"&&jl(t,r,s,e),i.updater=Ac,t.stateNode=i,i._reactInternals=t,ud(t,r,e,n),t=dd(null,t,r,!0,o,n)}else t.tag=0,Qt(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=fC(i),e=Pn(i,e),o){case 0:t=hd(null,t,i,e,n);break e;case 1:t=iv(null,t,i,e,n);break e;case 11:t=nv(null,t,i,e,n);break e;case 14:t=rv(null,t,i,Pn(i.type,e),r,n);break e}throw Error(H(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),hd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),iv(e,t,r,i,n);case 3:if(ov(t),r=t.updateQueue,e===null||r===null)throw Error(H(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,f1(e,t),Ca(t,r,null,n),r=t.memoizedState.element,r===i)fh(),t=nr(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(_r=bo(t.stateNode.containerInfo.firstChild),tr=t,o=zn=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],So.push(o);for(n=m1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Qt(e,t,r,n),fh();t=t.child}return t;case 5:return Xy(t),e===null&&cd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,id(r,i)?s=null:o!==null&&id(r,o)&&(t.flags|=16),I1(e,t),Qt(e,t,s,n),t.child;case 6:return e===null&&cd(t),null;case 13:return sv(e,t,n);case 4:return ld(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ol(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),nv(e,t,r,i,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var a=t.type._context;if(Ke(Nl,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=wn(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!Jt.current){t=nr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){s=a.child;for(var l=u.firstContext;l!==null;){if(l.context===r&&l.observedBits&o){a.tag===1&&(l=Ar(-1,n&-n),l.tag=2,Dr(a,l)),a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),c1(a.return,n),u.lanes|=n;break}l=l.next}}else s=a.tag===10&&a.type===t.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,xo(t,n),i=En(i,o.unstable_observedBits),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return i=t.type,o=Pn(i,t.pendingProps),o=Pn(i.type,o),rv(e,t,i,o,r,n);case 15:return T1(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zt(r)?(e=!0,il(t)):e=!1,xo(t,n),d1(t,r,i),ud(t,r,i,n),dd(null,t,r,!0,e,n);case 19:return fv(e,t,n);case 23:return hh(e,t,n);case 24:return hh(e,t,n)}throw Error(H(156,t.tag))};function cC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,r){return new cC(e,t,n,r)}function lm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fC(e){if(typeof e=="function")return lm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tc)return 11;if(e===Ic)return 14}return 2}function zr(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")lm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sr:return Io(n.children,i,o,t);case yb:s=8,i|=16;break;case Ip:s=8,i|=1;break;case Xs:return e=bn(12,n,t,i|8),e.elementType=Xs,e.type=Xs,e.lanes=o,e;case Ys:return e=bn(13,n,t,i),e.type=Ys,e.elementType=Ys,e.lanes=o,e;case wl:return e=bn(19,n,t,i),e.elementType=wl,e.lanes=o,e;case jp:return cm(n,i,o,t);case Uh:return e=bn(24,n,t,i),e.elementType=Uh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kp:s=10;break e;case Cp:s=9;break e;case Tc:s=11;break e;case Ic:s=14;break e;case Np:s=16,r=null;break e;case _p:s=22;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=bn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Io(e,t,n,r){return e=bn(7,e,r,t),e.lanes=n,e}function cm(e,t,n,r){return e=bn(23,e,r,t),e.elementType=jp,e.lanes=n,e}function mh(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function gh(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hC(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.mutableSourceEagerHydrationData=null}function dC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e,t,n,r){var i=t.current,o=fn(),s=Rr(i);e:if(n){n=n._reactInternals;t:{if(Mi(n)!==n||n.tag!==1)throw Error(H(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Zt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(H(171))}if(n.tag===1){var u=n.type;if(Zt(u)){n=r1(n,u,a);break e}}n=a}else n=Br;return t.context===null?t.context=n:t.pendingContext=n,t=Ar(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Dr(i,t),Lr(i,s,o),s}function yh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fm(e,t){bv(e,t),(e=e.alternate)&&bv(e,t)}function pC(){return null}function hm(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new hC(e,t,n!=null&&n.hydrate===!0),t=bn(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,Xp(t),e[rs]=n.current,Jb(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}hm.prototype.render=function(e){Vl(e,this._internalRoot,null,null)};hm.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Vl(null,e,null,function(){t[rs]=null})};function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mC(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new hm(e,0,t?{hydrate:!0}:void 0)}function Lc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var l=yh(s);a.call(l)}}Vl(t,s,e,i)}else{if(o=n._reactRootContainer=mC(n,r),s=o._internalRoot,typeof i=="function"){var u=i;i=function(){var l=yh(s);u.call(l)}}D1(function(){Vl(t,s,e,i)})}return yh(s)}Ob=function(e){if(e.tag===13){var t=fn();Lr(e,4,t),fm(e,4)}};Lp=function(e){if(e.tag===13){var t=fn();Lr(e,67108864,t),fm(e,67108864)}};Ab=function(e){if(e.tag===13){var t=fn(),n=Rr(e);Lr(e,n,t),fm(e,n)}};Db=function(e,t){return t()};Xh=function(e,t,n){switch(t){case"input":if(Bh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jc(r);if(!i)throw Error(H(90));wb(r),Bh(r,i)}}}break;case"textarea":xb(e,n);break;case"select":t=n.value,t!=null&&yo(e,!!n.multiple,t,!1)}};Ap=A1;Nb=function(e,t,n,r,i){var o=fe;fe|=4;try{return Ti(98,e.bind(null,t,n,r,i))}finally{fe=o,fe===0&&(ss(),Qn())}};Dp=function(){!(fe&49)&&(tC(),Qr())};_b=function(e,t){var n=fe;fe|=2;try{return e(t)}finally{fe=n,fe===0&&(ss(),Qn())}};function V1(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(t))throw Error(H(200));return dC(e,t,null,n)}var gC={Events:[nu,co,jc,kb,Cb,Qr,{current:!1}]},js={findFiberByHostInstance:ci,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},yC={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jb(e),e===null?null:e.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||pC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Gp=Vu.inject(yC),wi=Vu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gC;In.createPortal=V1;In.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):Error(H(268,Object.keys(e)));return e=jb(t),e=e===null?null:e.stateNode,e};In.flushSync=function(e,t){var n=fe;if(n&48)return e(t);fe|=1;try{if(e)return Ti(99,e.bind(null,t))}finally{fe=n,Qn()}};In.hydrate=function(e,t,n){if(!ou(t))throw Error(H(200));return Lc(null,e,t,!0,n)};In.render=function(e,t,n){if(!ou(t))throw Error(H(200));return Lc(null,e,t,!1,n)};In.unmountComponentAtNode=function(e){if(!ou(e))throw Error(H(40));return e._reactRootContainer?(D1(function(){Lc(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};In.unstable_batchedUpdates=A1;In.unstable_createPortal=function(e,t){return V1(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};In.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Lc(e,t,n,!1,r)};In.version="17.0.2";function B1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B1)}catch(e){console.error(e)}}B1(),db.exports=In;var vC=db.exports;const wC=Ja(vC),bC='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif';function xC(){const e=document.createElement("canvas");e.width=e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});return t.textBaseline="top",t.font=`100px ${bC}`,t.scale(.01,.01),t}function xv(e,t,n){return e.clearRect(0,0,100,100),e.fillStyle=n,e.fillText(t,0,0),e.getImageData(0,0,1,1).data.join(",")}function Sv(e){const t=xC(),n=xv(t,e,"#fff"),r=xv(t,e,"#000");return r===n&&!r.startsWith("0,0,0,")}function SC(e="Twemoji Country Flags",t="https://cdn.jsdelivr.net/npm/country-flag-emoji-polyfill@0.1/dist/TwemojiCountryFlags.woff2"){if(typeof window<"u"&&Sv("")&&!Sv("")){const n=document.createElement("style");return n.textContent=`@font-face {
      font-family: "${e}";
      unicode-range: U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067,
        U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F;
      src: url('${t}') format('woff2');
      font-display: swap;
    }`,document.head.appendChild(n),!0}return!1}function kd(e,t){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kd(e,t)}function Gn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kd(e,t)}var q1={exports:{}},EC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TC=EC,IC=TC;function z1(){}function H1(){}H1.resetWarningCache=z1;var kC=function(){function e(r,i,o,s,a,u){if(u!==IC){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H1,resetWarningCache:z1};return n.PropTypes=n,n};q1.exports=kC();var CC=q1.exports;const Ev=Ja(CC);function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(null,arguments)}function Bu(e){return e.charAt(0)==="/"}function vh(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function NC(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&Bu(e),o=t&&Bu(t),s=i||o;if(e&&Bu(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var l=0,c=r.length;c>=0;c--){var h=r[c];h==="."?vh(r,c):h===".."?(vh(r,c),l++):l&&(vh(r,c),l--)}if(!s)for(;l--;l)r.unshift("..");s&&r[0]!==""&&(!r[0]||!Bu(r[0]))&&r.unshift("");var f=r.join("/");return a&&f.substr(-1)!=="/"&&(f+="/"),f}var _C="Invariant failed";function Ui(e,t){throw new Error(_C)}function ua(e){return e.charAt(0)==="/"?e:"/"+e}function Tv(e){return e.charAt(0)==="/"?e.substr(1):e}function PC(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function G1(e,t){return PC(e,t)?e.substr(t.length):e}function W1(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function jC(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return o!==-1&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function Xt(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function un(e,t,n,r){var i;typeof e=="string"?(i=jC(e),i.state=t):(i=Ht({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=NC(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function dm(){var e=null;function t(s){return e=s,function(){e===s&&(e=null)}}function n(s,a,u,l){if(e!=null){var c=typeof e=="function"?e(s,a):e;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var r=[];function i(s){var a=!0;function u(){a&&s.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(l){return l!==u})}}function o(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var K1=!!(typeof window<"u"&&window.document&&window.document.createElement);function Q1(e,t){t(window.confirm(e))}function OC(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function AC(){return window.navigator.userAgent.indexOf("Trident")===-1}function DC(){return window.navigator.userAgent.indexOf("Firefox")===-1}function RC(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Iv="popstate",kv="hashchange";function Cv(){try{return window.history.state||{}}catch{return{}}}function LC(e){e===void 0&&(e={}),K1||Ui();var t=window.history,n=OC(),r=!AC(),i=e,o=i.forceRefresh,s=o===void 0?!1:o,a=i.getUserConfirmation,u=a===void 0?Q1:a,l=i.keyLength,c=l===void 0?6:l,h=e.basename?W1(ua(e.basename)):"";function f(z){var R=z||{},j=R.key,M=R.state,$=window.location,te=$.pathname,he=$.search,ke=$.hash,Ae=te+he+ke;return h&&(Ae=G1(Ae,h)),un(Ae,M,j)}function p(){return Math.random().toString(36).substr(2,c)}var y=dm();function w(z){Ht(K,z),K.length=t.length,y.notifyListeners(K.location,K.action)}function g(z){RC(z)||b(f(z.state))}function m(){b(f(Cv()))}var v=!1;function b(z){if(v)v=!1,w();else{var R="POP";y.confirmTransitionTo(z,R,u,function(j){j?w({action:R,location:z}):x(z)})}}function x(z){var R=K.location,j=S.indexOf(R.key);j===-1&&(j=0);var M=S.indexOf(z.key);M===-1&&(M=0);var $=j-M;$&&(v=!0,Y($))}var T=f(Cv()),S=[T.key];function k(z){return h+Xt(z)}function P(z,R){var j="PUSH",M=un(z,R,p(),K.location);y.confirmTransitionTo(M,j,u,function($){if($){var te=k(M),he=M.key,ke=M.state;if(n)if(t.pushState({key:he,state:ke},null,te),s)window.location.href=te;else{var Ae=S.indexOf(K.location.key),He=S.slice(0,Ae+1);He.push(M.key),S=He,w({action:j,location:M})}else window.location.href=te}})}function D(z,R){var j="REPLACE",M=un(z,R,p(),K.location);y.confirmTransitionTo(M,j,u,function($){if($){var te=k(M),he=M.key,ke=M.state;if(n)if(t.replaceState({key:he,state:ke},null,te),s)window.location.replace(te);else{var Ae=S.indexOf(K.location.key);Ae!==-1&&(S[Ae]=M.key),w({action:j,location:M})}else window.location.replace(te)}})}function Y(z){t.go(z)}function se(){Y(-1)}function ie(){Y(1)}var me=0;function ce(z){me+=z,me===1&&z===1?(window.addEventListener(Iv,g),r&&window.addEventListener(kv,m)):me===0&&(window.removeEventListener(Iv,g),r&&window.removeEventListener(kv,m))}var E=!1;function A(z){z===void 0&&(z=!1);var R=y.setPrompt(z);return E||(ce(1),E=!0),function(){return E&&(E=!1,ce(-1)),R()}}function ee(z){var R=y.appendListener(z);return ce(1),function(){ce(-1),R()}}var K={length:t.length,action:"POP",location:T,createHref:k,push:P,replace:D,go:Y,goBack:se,goForward:ie,block:A,listen:ee};return K}var Nv="hashchange",FC={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+Tv(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:Tv,decodePath:ua},slash:{encodePath:ua,decodePath:ua}};function X1(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Os(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function MC(e){window.location.hash=e}function wh(e){window.location.replace(X1(window.location.href)+"#"+e)}function $C(e){e===void 0&&(e={}),K1||Ui();var t=window.history;DC();var n=e,r=n.getUserConfirmation,i=r===void 0?Q1:r,o=n.hashType,s=o===void 0?"slash":o,a=e.basename?W1(ua(e.basename)):"",u=FC[s],l=u.encodePath,c=u.decodePath;function h(){var R=c(Os());return a&&(R=G1(R,a)),un(R)}var f=dm();function p(R){Ht(z,R),z.length=t.length,f.notifyListeners(z.location,z.action)}var y=!1,w=null;function g(R,j){return R.pathname===j.pathname&&R.search===j.search&&R.hash===j.hash}function m(){var R=Os(),j=l(R);if(R!==j)wh(j);else{var M=h(),$=z.location;if(!y&&g($,M)||w===Xt(M))return;w=null,v(M)}}function v(R){if(y)y=!1,p();else{var j="POP";f.confirmTransitionTo(R,j,i,function(M){M?p({action:j,location:R}):b(R)})}}function b(R){var j=z.location,M=k.lastIndexOf(Xt(j));M===-1&&(M=0);var $=k.lastIndexOf(Xt(R));$===-1&&($=0);var te=M-$;te&&(y=!0,se(te))}var x=Os(),T=l(x);x!==T&&wh(T);var S=h(),k=[Xt(S)];function P(R){var j=document.querySelector("base"),M="";return j&&j.getAttribute("href")&&(M=X1(window.location.href)),M+"#"+l(a+Xt(R))}function D(R,j){var M="PUSH",$=un(R,void 0,void 0,z.location);f.confirmTransitionTo($,M,i,function(te){if(te){var he=Xt($),ke=l(a+he),Ae=Os()!==ke;if(Ae){w=he,MC(ke);var He=k.lastIndexOf(Xt(z.location)),Ft=k.slice(0,He+1);Ft.push(he),k=Ft,p({action:M,location:$})}else p()}})}function Y(R,j){var M="REPLACE",$=un(R,void 0,void 0,z.location);f.confirmTransitionTo($,M,i,function(te){if(te){var he=Xt($),ke=l(a+he),Ae=Os()!==ke;Ae&&(w=he,wh(ke));var He=k.indexOf(Xt(z.location));He!==-1&&(k[He]=he),p({action:M,location:$})}})}function se(R){t.go(R)}function ie(){se(-1)}function me(){se(1)}var ce=0;function E(R){ce+=R,ce===1&&R===1?window.addEventListener(Nv,m):ce===0&&window.removeEventListener(Nv,m)}var A=!1;function ee(R){R===void 0&&(R=!1);var j=f.setPrompt(R);return A||(E(1),A=!0),function(){return A&&(A=!1,E(-1)),j()}}function K(R){var j=f.appendListener(R);return E(1),function(){E(-1),j()}}var z={length:t.length,action:"POP",location:S,createHref:P,push:D,replace:Y,go:se,goBack:ie,goForward:me,block:ee,listen:K};return z}function _v(e,t,n){return Math.min(Math.max(e,t),n)}function UC(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,o=t.initialIndex,s=o===void 0?0:o,a=t.keyLength,u=a===void 0?6:a,l=dm();function c(P){Ht(k,P),k.length=k.entries.length,l.notifyListeners(k.location,k.action)}function h(){return Math.random().toString(36).substr(2,u)}var f=_v(s,0,i.length-1),p=i.map(function(P){return typeof P=="string"?un(P,void 0,h()):un(P,void 0,P.key||h())}),y=Xt;function w(P,D){var Y="PUSH",se=un(P,D,h(),k.location);l.confirmTransitionTo(se,Y,n,function(ie){if(ie){var me=k.index,ce=me+1,E=k.entries.slice(0);E.length>ce?E.splice(ce,E.length-ce,se):E.push(se),c({action:Y,location:se,index:ce,entries:E})}})}function g(P,D){var Y="REPLACE",se=un(P,D,h(),k.location);l.confirmTransitionTo(se,Y,n,function(ie){ie&&(k.entries[k.index]=se,c({action:Y,location:se}))})}function m(P){var D=_v(k.index+P,0,k.entries.length-1),Y="POP",se=k.entries[D];l.confirmTransitionTo(se,Y,n,function(ie){ie?c({action:Y,location:se,index:D}):c()})}function v(){m(-1)}function b(){m(1)}function x(P){var D=k.index+P;return D>=0&&D<k.entries.length}function T(P){return P===void 0&&(P=!1),l.setPrompt(P)}function S(P){return l.appendListener(P)}var k={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:y,push:w,replace:g,go:m,goBack:v,goForward:b,canGo:x,block:T,listen:S};return k}var as={exports:{}},VC=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},Bl=VC;as.exports=Z1;as.exports.parse=pm;as.exports.compile=zC;as.exports.tokensToFunction=Y1;as.exports.tokensToRegExp=J1;var BC=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function pm(e,t){for(var n=[],r=0,i=0,o="",s=t&&t.delimiter||"/",a;(a=BC.exec(e))!=null;){var u=a[0],l=a[1],c=a.index;if(o+=e.slice(i,c),i=c+u.length,l){o+=l[1];continue}var h=e[i],f=a[2],p=a[3],y=a[4],w=a[5],g=a[6],m=a[7];o&&(n.push(o),o="");var v=f!=null&&h!=null&&h!==f,b=g==="+"||g==="*",x=g==="?"||g==="*",T=f||s,S=y||w,k=f||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:p||r++,prefix:f||"",delimiter:T,optional:x,repeat:b,partial:v,asterisk:!!m,pattern:S?WC(S):m?".*":qC(T,k)})}return i<e.length&&(o+=e.substr(i)),o&&n.push(o),n}function qC(e,t){return!t||t.indexOf(e)>-1?"[^"+di(e)+"]+?":di(t)+"|(?:(?!"+di(t)+")[^"+di(e)+"])+?"}function zC(e,t){return Y1(pm(e,t),t)}function HC(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function GC(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Y1(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",gm(t)));return function(i,o){for(var s="",a=i||{},u=o||{},l=u.pretty?HC:encodeURIComponent,c=0;c<e.length;c++){var h=e[c];if(typeof h=="string"){s+=h;continue}var f=a[h.name],p;if(f==null)if(h.optional){h.partial&&(s+=h.prefix);continue}else throw new TypeError('Expected "'+h.name+'" to be defined');if(Bl(f)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var y=0;y<f.length;y++){if(p=l(f[y]),!n[c].test(p))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(p)+"`");s+=(y===0?h.prefix:h.delimiter)+p}continue}if(p=h.asterisk?GC(f):l(f),!n[c].test(p))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+p+'"');s+=h.prefix+p}return s}}function di(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function WC(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function mm(e,t){return e.keys=t,e}function gm(e){return e&&e.sensitive?"":"i"}function KC(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return mm(e,t)}function QC(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(Z1(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",gm(n));return mm(o,t)}function XC(e,t,n){return J1(pm(e,n),t,n)}function J1(e,t,n){Bl(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",s=0;s<e.length;s++){var a=e[s];if(typeof a=="string")o+=di(a);else{var u=di(a.prefix),l="(?:"+a.pattern+")";t.push(a),a.repeat&&(l+="(?:"+u+l+")*"),a.optional?a.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",o+=l}}var c=di(n.delimiter||"/"),h=o.slice(-c.length)===c;return r||(o=(h?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),i?o+="$":o+=r&&h?"":"(?="+c+"|$)",mm(new RegExp("^"+o,gm(n)),t)}function Z1(e,t,n){return Bl(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?KC(e,t):Bl(e)?QC(e,t,n):XC(e,t,n)}var YC=as.exports;const JC=Ja(YC);var Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=typeof Symbol=="function"&&Symbol.for,ym=ct?Symbol.for("react.element"):60103,vm=ct?Symbol.for("react.portal"):60106,Fc=ct?Symbol.for("react.fragment"):60107,Mc=ct?Symbol.for("react.strict_mode"):60108,$c=ct?Symbol.for("react.profiler"):60114,Uc=ct?Symbol.for("react.provider"):60109,Vc=ct?Symbol.for("react.context"):60110,wm=ct?Symbol.for("react.async_mode"):60111,Bc=ct?Symbol.for("react.concurrent_mode"):60111,qc=ct?Symbol.for("react.forward_ref"):60112,zc=ct?Symbol.for("react.suspense"):60113,ZC=ct?Symbol.for("react.suspense_list"):60120,Hc=ct?Symbol.for("react.memo"):60115,Gc=ct?Symbol.for("react.lazy"):60116,eN=ct?Symbol.for("react.block"):60121,tN=ct?Symbol.for("react.fundamental"):60117,nN=ct?Symbol.for("react.responder"):60118,rN=ct?Symbol.for("react.scope"):60119;function gn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ym:switch(e=e.type,e){case wm:case Bc:case Fc:case $c:case Mc:case zc:return e;default:switch(e=e&&e.$$typeof,e){case Vc:case qc:case Gc:case Hc:case Uc:return e;default:return t}}case vm:return t}}}function ex(e){return gn(e)===Bc}Pe.AsyncMode=wm;Pe.ConcurrentMode=Bc;Pe.ContextConsumer=Vc;Pe.ContextProvider=Uc;Pe.Element=ym;Pe.ForwardRef=qc;Pe.Fragment=Fc;Pe.Lazy=Gc;Pe.Memo=Hc;Pe.Portal=vm;Pe.Profiler=$c;Pe.StrictMode=Mc;Pe.Suspense=zc;Pe.isAsyncMode=function(e){return ex(e)||gn(e)===wm};Pe.isConcurrentMode=ex;Pe.isContextConsumer=function(e){return gn(e)===Vc};Pe.isContextProvider=function(e){return gn(e)===Uc};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ym};Pe.isForwardRef=function(e){return gn(e)===qc};Pe.isFragment=function(e){return gn(e)===Fc};Pe.isLazy=function(e){return gn(e)===Gc};Pe.isMemo=function(e){return gn(e)===Hc};Pe.isPortal=function(e){return gn(e)===vm};Pe.isProfiler=function(e){return gn(e)===$c};Pe.isStrictMode=function(e){return gn(e)===Mc};Pe.isSuspense=function(e){return gn(e)===zc};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fc||e===Bc||e===$c||e===Mc||e===zc||e===ZC||typeof e=="object"&&e!==null&&(e.$$typeof===Gc||e.$$typeof===Hc||e.$$typeof===Uc||e.$$typeof===Vc||e.$$typeof===qc||e.$$typeof===tN||e.$$typeof===nN||e.$$typeof===rN||e.$$typeof===eN)};Pe.typeOf=gn;function Wc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tx={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=typeof Symbol=="function"&&Symbol.for,bm=ft?Symbol.for("react.element"):60103,xm=ft?Symbol.for("react.portal"):60106,Kc=ft?Symbol.for("react.fragment"):60107,Qc=ft?Symbol.for("react.strict_mode"):60108,Xc=ft?Symbol.for("react.profiler"):60114,Yc=ft?Symbol.for("react.provider"):60109,Jc=ft?Symbol.for("react.context"):60110,Sm=ft?Symbol.for("react.async_mode"):60111,Zc=ft?Symbol.for("react.concurrent_mode"):60111,ef=ft?Symbol.for("react.forward_ref"):60112,tf=ft?Symbol.for("react.suspense"):60113,iN=ft?Symbol.for("react.suspense_list"):60120,nf=ft?Symbol.for("react.memo"):60115,rf=ft?Symbol.for("react.lazy"):60116,oN=ft?Symbol.for("react.block"):60121,sN=ft?Symbol.for("react.fundamental"):60117,aN=ft?Symbol.for("react.responder"):60118,uN=ft?Symbol.for("react.scope"):60119;function yn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bm:switch(e=e.type,e){case Sm:case Zc:case Kc:case Xc:case Qc:case tf:return e;default:switch(e=e&&e.$$typeof,e){case Jc:case ef:case rf:case nf:case Yc:return e;default:return t}}case xm:return t}}}function nx(e){return yn(e)===Zc}_e.AsyncMode=Sm;_e.ConcurrentMode=Zc;_e.ContextConsumer=Jc;_e.ContextProvider=Yc;_e.Element=bm;_e.ForwardRef=ef;_e.Fragment=Kc;_e.Lazy=rf;_e.Memo=nf;_e.Portal=xm;_e.Profiler=Xc;_e.StrictMode=Qc;_e.Suspense=tf;_e.isAsyncMode=function(e){return nx(e)||yn(e)===Sm};_e.isConcurrentMode=nx;_e.isContextConsumer=function(e){return yn(e)===Jc};_e.isContextProvider=function(e){return yn(e)===Yc};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bm};_e.isForwardRef=function(e){return yn(e)===ef};_e.isFragment=function(e){return yn(e)===Kc};_e.isLazy=function(e){return yn(e)===rf};_e.isMemo=function(e){return yn(e)===nf};_e.isPortal=function(e){return yn(e)===xm};_e.isProfiler=function(e){return yn(e)===Xc};_e.isStrictMode=function(e){return yn(e)===Qc};_e.isSuspense=function(e){return yn(e)===tf};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kc||e===Zc||e===Xc||e===Qc||e===tf||e===iN||typeof e=="object"&&e!==null&&(e.$$typeof===rf||e.$$typeof===nf||e.$$typeof===Yc||e.$$typeof===Jc||e.$$typeof===ef||e.$$typeof===sN||e.$$typeof===aN||e.$$typeof===uN||e.$$typeof===oN)};_e.typeOf=yn;tx.exports=_e;var lN=tx.exports,rx=lN,cN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ix={};ix[rx.ForwardRef]=cN;ix[rx.Memo]=fN;var bh=1073741823,Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function hN(){var e="__global_unique_id__";return Pv[e]=(Pv[e]||0)+1}function dN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pN(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(o){return o(e,i)})}}}function mN(e){return Array.isArray(e)?e[0]:e}function gN(e,t){var n,r,i="__create-react-context-"+hN()+"__",o=function(a){Gn(u,a);function u(){for(var c,h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];return c=a.call.apply(a,[this].concat(f))||this,c.emitter=pN(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var h;return h={},h[i]=this.emitter,h},l.componentWillReceiveProps=function(h){if(this.props.value!==h.value){var f=this.props.value,p=h.value,y;dN(f,p)?y=0:(y=typeof t=="function"?t(f,p):bh,y|=0,y!==0&&this.emitter.set(h.value,y))}},l.render=function(){return this.props.children},u}(xe.Component);o.childContextTypes=(n={},n[i]=Ev.object.isRequired,n);var s=function(a){Gn(u,a);function u(){for(var c,h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];return c=a.call.apply(a,[this].concat(f))||this,c.observedBits=void 0,c.state={value:c.getValue()},c.onUpdate=function(y,w){var g=c.observedBits|0;g&w&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(h){var f=h.observedBits;this.observedBits=f??bh},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var h=this.props.observedBits;this.observedBits=h??bh},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():e},l.render=function(){return mN(this.props.children)(this.state.value)},u}(xe.Component);return s.contextTypes=(r={},r[i]=Ev.object,r),{Provider:o,Consumer:s}}var yN=xe.createContext||gN,ox=function(t){var n=yN();return n.displayName=t,n},sx=ox("Router-History"),cr=ox("Router"),of=function(e){Gn(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var n=t.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return xe.createElement(cr.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},xe.createElement(sx.Provider,{children:this.props.children||null,value:this.props.history}))},t}(xe.Component);xe.Component;xe.Component;var jv={},vN=1e4,Ov=0;function wN(e,t){var n=""+t.end+t.strict+t.sensitive,r=jv[n]||(jv[n]={});if(r[e])return r[e];var i=[],o=JC(e,i,t),s={regexp:o,keys:i};return Ov<vN&&(r[e]=s,Ov++),s}function sf(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=i===void 0?!1:i,s=n.strict,a=s===void 0?!1:s,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(r);return c.reduce(function(h,f){if(!f&&f!=="")return null;if(h)return h;var p=wN(f,{end:o,strict:a,sensitive:l}),y=p.regexp,w=p.keys,g=y.exec(e);if(!g)return null;var m=g[0],v=g.slice(1),b=e===m;return o&&!b?null:{path:f,url:f==="/"&&m===""?"/":m,isExact:b,params:w.reduce(function(x,T,S){return x[T.name]=v[S],x},{})}},null)}function bN(e){return xe.Children.count(e)===0}var ri=function(e){Gn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return xe.createElement(cr.Consumer,null,function(o){o||Ui();var s=i.props.location||o.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?sf(s.pathname,i.props):o.match,u=Ht({},o,{location:s,match:a}),l=i.props,c=l.children,h=l.component,f=l.render;return Array.isArray(c)&&bN(c)&&(c=null),xe.createElement(cr.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:h?xe.createElement(h,u):f?f(u):null:typeof c=="function"?c(u):null)})},t}(xe.Component);function Em(e){return e.charAt(0)==="/"?e:"/"+e}function xN(e,t){return e?Ht({},t,{pathname:Em(e)+t.pathname}):t}function SN(e,t){if(!e)return t;var n=Em(e);return t.pathname.indexOf(n)!==0?t:Ht({},t,{pathname:t.pathname.substr(n.length)})}function Av(e){return typeof e=="string"?e:Xt(e)}function xh(e){return function(){Ui()}}function Dv(){}xe.Component;var EN=function(e){Gn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return xe.createElement(cr.Consumer,null,function(o){o||Ui();var s=i.props.location||o.location,a,u;return xe.Children.forEach(i.props.children,function(l){if(u==null&&xe.isValidElement(l)){a=l;var c=l.props.path||l.props.from;u=c?sf(s.pathname,Ht({},l.props,{path:c})):o.match}}),u?xe.cloneElement(a,{location:s,computedMatch:u}):null})},t}(xe.Component),af=xe.useContext;function us(){return af(sx)}function TN(){return af(cr).location}function ax(){var e=af(cr).match;return e?e.params:{}}function IN(e){var t=TN();return af(cr).match,sf(t.pathname,e)}var kN=function(e){Gn(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.history=LC(r.props),r}var n=t.prototype;return n.render=function(){return xe.createElement(of,{history:this.history,children:this.props.children})},t}(xe.Component);xe.Component;var Cd=function(t,n){return typeof t=="function"?t(n):t},Nd=function(t,n){return typeof t=="string"?un(t,null,null,n):t},Tm=function(t){return t},Oo=xe.forwardRef;typeof Oo>"u"&&(Oo=Tm);function CN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var NN=Oo(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Wc(e,["innerRef","navigate","onClick"]),s=o.target,a=Ht({},o,{onClick:function(l){try{i&&i(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!s||s==="_self")&&!CN(l)&&(l.preventDefault(),r())}});return Tm!==Oo?a.ref=t||n:a.ref=n,xe.createElement("a",a)}),_N=Oo(function(e,t){var n=e.component,r=n===void 0?NN:n,i=e.replace,o=e.to,s=e.innerRef,a=Wc(e,["component","replace","to","innerRef"]);return xe.createElement(cr.Consumer,null,function(u){u||Ui();var l=u.history,c=Nd(Cd(o,u.location),u.location),h=c?l.createHref(c):"",f=Ht({},a,{href:h,navigate:function(){var y=Cd(o,u.location),w=Xt(u.location)===Xt(Nd(y)),g=i||w?l.replace:l.push;g(y)}});return Tm!==Oo?f.ref=t||s:f.innerRef=s,xe.createElement(r,f)})}),ux=function(t){return t},ql=xe.forwardRef;typeof ql>"u"&&(ql=ux);function PN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}ql(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,o=i===void 0?"active":i,s=e.activeStyle,a=e.className,u=e.exact,l=e.isActive,c=e.location,h=e.sensitive,f=e.strict,p=e.style,y=e.to,w=e.innerRef,g=Wc(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return xe.createElement(cr.Consumer,null,function(m){m||Ui();var v=c||m.location,b=Nd(Cd(y,v),v),x=b.pathname,T=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=T?sf(v.pathname,{path:T,exact:u,sensitive:h,strict:f}):null,k=!!(l?l(S,v):S),P=typeof a=="function"?a(k):a,D=typeof p=="function"?p(k):p;k&&(P=PN(P,o),D=Ht({},D,s));var Y=Ht({"aria-current":k&&r||null,className:P,style:D,to:b},g);return ux!==ql?Y.ref=t||w:Y.innerRef=w,xe.createElement(_N,Y)})});const Im=({size:e})=>{let t=32,n=32;return e==="small"&&(t=16,n=16),d.jsxs("svg",{width:t,height:n,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[d.jsx("rect",{x:"12",y:"12",width:"8",height:"8",rx:"2",fill:"#3b82f6"}),d.jsxs("g",{className:"poker-spinner-heads",children:[d.jsx("circle",{cx:"16",cy:"6",r:"4",fill:"#ef4444",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"16",cy:"26",r:"4",fill:"#10b981",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"6",cy:"16",r:"4",fill:"#8b5cf6",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"26",cy:"16",r:"4",fill:"#ec4899",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"16",cy:"16",r:"3",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1.5"})]})]})};function jN(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Rv={};function _d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&Rv[t[0]]||(typeof t[0]=="string"&&(Rv[t[0]]=new Date),jN(...t))}const lx=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function Lv(e,t,n){e.loadNamespaces(t,lx(e,n))}function Fv(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,lx(e,r))}function ON(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,u)=>{const l=t.services.backendConnector.state[`${a}|${u}`];return l===-1||l===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}function AN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(_d("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):ON(e,t,n)}const DN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},LN=e=>RN[e],FN=e=>e.replace(DN,LN);let Pd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:FN};function MN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pd={...Pd,...e}}function $N(){return Pd}let cx;function UN(e){cx=e}function VN(){return cx}const BN={type:"3rdParty",init(e){MN(e.options.react),UN(e)}},qN=ue.createContext();class zN{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const HN=(e,t)=>{const n=ue.useRef();return ue.useEffect(()=>{n.current=e},[e,t]),n.current};function Xn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=ue.useContext(qN)||{},o=n||r||VN();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new zN),!o){_d("You will need to pass in an i18next instance by using initReactI18next");const b=(T,S)=>typeof S=="string"?S:S&&typeof S=="object"&&typeof S.defaultValue=="string"?S.defaultValue:Array.isArray(T)?T[T.length-1]:T,x=[b,{},!1];return x.t=b,x.i18n={},x.ready=!1,x}o.options.react&&o.options.react.wait!==void 0&&_d("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...$N(),...o.options.react,...t},{useSuspense:a,keyPrefix:u}=s;let l=i||o.options&&o.options.defaultNS;l=typeof l=="string"?[l]:l||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(l);const c=(o.isInitialized||o.initializedStoreOnce)&&l.every(b=>AN(b,o,s));function h(){return o.getFixedT(t.lng||null,s.nsMode==="fallback"?l:l[0],u)}const[f,p]=ue.useState(h);let y=l.join();t.lng&&(y=`${t.lng}${y}`);const w=HN(y),g=ue.useRef(!0);ue.useEffect(()=>{const{bindI18n:b,bindI18nStore:x}=s;g.current=!0,!c&&!a&&(t.lng?Fv(o,t.lng,l,()=>{g.current&&p(h)}):Lv(o,l,()=>{g.current&&p(h)})),c&&w&&w!==y&&g.current&&p(h);function T(){g.current&&p(h)}return b&&o&&o.on(b,T),x&&o&&o.store.on(x,T),()=>{g.current=!1,b&&o&&b.split(" ").forEach(S=>o.off(S,T)),x&&o&&x.split(" ").forEach(S=>o.store.off(S,T))}},[o,y]);const m=ue.useRef(!0);ue.useEffect(()=>{g.current&&!m.current&&p(h),m.current=!1},[o,u]);const v=[f,o,c];if(v.t=f,v.i18n=o,v.ready=c,c||!c&&!a)return v;throw new Promise(b=>{t.lng?Fv(o,t.lng,l,()=>b()):Lv(o,l,()=>b())})}const GN=({className:e})=>d.jsxs("svg",{className:e,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[d.jsx("rect",{x:"12",y:"12",width:"8",height:"8",rx:"2",fill:"#3b82f6"}),d.jsx("circle",{cx:"16",cy:"6",r:"4",fill:"#ef4444",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"16",cy:"26",r:"4",fill:"#10b981",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"6",cy:"16",r:"4",fill:"#8b5cf6",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"26",cy:"16",r:"4",fill:"#ec4899",stroke:"#fff",strokeWidth:"1.5"}),d.jsx("circle",{cx:"16",cy:"16",r:"3",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1.5"})]}),As={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},WN=()=>{const[e,t]=ue.useState(null);return ue.useEffect(()=>{const n=()=>{var o;const i=((o=window.visualViewport)==null?void 0:o.width)||window.innerWidth;return i>=As["2xl"]?"2xl":i>=As.xl?"xl":i>=As.lg?"lg":i>=As.md?"md":i>=As.sm?"sm":"xs"},r=()=>{t(n())};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e};function KN(e){return Mv(e[0])+Mv(e[1])}function Mv(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}const QN=[{value:"en-US",label:"English",flag:"US"},{value:"fr-FR",label:"Franais",flag:"FR"},{value:"de-DE",label:"Deutsch",flag:"DE"},{value:"nl-NL",label:"Dutch",flag:"NL"},{value:"pt-BR",label:"Portugus",flag:"BR"},{value:"zh-Hant",label:"",flag:"HK"},{value:"ru-RU",label:"",flag:"RU"},{value:"hi-IN",label:"",flag:"IN"},{value:"ta-IN",label:"",flag:"IN"},{value:"es-ES",label:"Espaol",flag:"ES"}],$v=()=>{const{i18n:e}=Xn(),[t,n]=ue.useState(e.language),[r,i]=ue.useState(!1);ue.useEffect(()=>{n(e.language)},[e.language]);const o=async s=>{i(!0);const a=s.target.value;n(a),e.changeLanguage(s.target.value).finally(()=>{i(!1)})};return r?d.jsx("div",{className:"text-center items-center justify-center flex","data-testid":"loading-indicator",children:d.jsx(Im,{size:"small"})}):d.jsx("select",{value:t,onChange:o,className:"w-20 m-1 text-xs cursor-pointer focus:outline-none focus:shadow-outline text-ellipsis","data-testid":"language-control",children:QN.map(({value:s,label:a,flag:u})=>d.jsxs("option",{className:"dark:bg-gray-800",value:s,children:[KN(u)," ",a]},s))})},XN=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("circle",{cx:"6",cy:"7",r:"1.5"}),d.jsx("circle",{cx:"6",cy:"12",r:"1.5"}),d.jsx("circle",{cx:"6",cy:"17",r:"1.5"}),d.jsx("line",{x1:"10",y1:"7",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("line",{x1:"10",y1:"12",x2:"20",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("line",{x1:"10",y1:"17",x2:"20",y2:"17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),YN=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 .5C5.73.5.5 5.73.5 12c0 5.08 3.29 9.39 7.86 10.91.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.54-3.88-1.54-.53-1.34-1.3-1.7-1.3-1.7-1.06-.72.08-.71.08-.71 1.17.08 1.78 1.2 1.78 1.2 1.04 1.78 2.73 1.27 3.4.97.11-.75.41-1.27.74-1.56-2.56-.29-5.26-1.28-5.26-5.7 0-1.26.45-2.29 1.19-3.09-.12-.29-.52-1.45.11-3.02 0 0 .98-.31 3.2 1.18a11.1 11.1 0 012.92-.39c.99.01 1.99.13 2.92.39 2.22-1.49 3.2-1.18 3.2-1.18.63 1.57.23 2.73.11 3.02.74.8 1.19 1.83 1.19 3.09 0 4.43-2.7 5.41-5.27 5.7.42.36.79 1.09.79 2.2 0 1.59-.01 2.87-.01 3.26 0 .31.21.68.8.56C20.71 21.39 24 17.08 24 12c0-6.27-5.23-11.5-12-11.5z"})}),JN=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35"})]}),fx=({className:e="h-5 w-5"})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16v-4m0-4h.01"})]}),ZN=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 7l-5 5-5-5M12 12v6"})}),e_=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:[d.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),t_=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v8m4-4H8"})]}),jd=({icon:e,label:t,onClick:n,testId:r})=>d.jsxs("button",{className:"button-ghost text-left flex items-center",onClick:n,"data-testid":r,children:[d.jsx("div",{className:"pr-2",children:e}),d.jsxs("div",{className:"text-sm font-normal",children:[" ",t]})]}),Uv=()=>{const[e,t]=ue.useState(()=>localStorage.getItem("theme")||"light");return ue.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("theme",e)},[e]),d.jsx(jd,{icon:e==="dark"?"":"",label:e==="dark"?"Light":"Dark",onClick:()=>t(e==="dark"?"light":"dark"),testId:"toolbar.menu.theme"},1)},n_="Planning Poker",r_=()=>{const e=us(),t=WN(),{t:n}=Xn(),[r,i]=ue.useState(!1),o=ue.useRef(null),s=()=>{i(!r)},a=l=>{e.push(l),i(!1)};ue.useEffect(()=>{const l=c=>{o.current&&!o.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const u=[{icon:d.jsx(fx,{}),label:n("toolbar.menu.about"),onClick:()=>a("/about-planning-poker")},{icon:d.jsx(JN,{}),label:n("toolbar.menu.guide"),onClick:()=>a("/guide")},{icon:d.jsx(XN,{}),label:n("toolbar.menu.examples"),onClick:()=>a("/examples")},{icon:d.jsx(t_,{}),label:n("toolbar.menu.newSession"),onClick:()=>a("/"),testId:"toolbar.menu.newSession"},{icon:d.jsx(ZN,{}),label:n("toolbar.menu.joinSession"),onClick:()=>a("/join"),testId:"toolbar.menu.joinSession"},{icon:d.jsx(YN,{}),label:"GitHub",onClick:()=>window.location.href="https://github.com/pankaj9057/planning-poker"}];return d.jsxs("div",{className:"flex w-full items-center shadow-sm dark:shadow-gray-800",children:[d.jsx("div",{className:"inline-flex items-center",children:d.jsxs("button",{className:"button-ghost flex items-center",onClick:()=>e.push("/"),children:[d.jsx("div",{className:"pr-1",children:d.jsx(GN,{})}),d.jsx("p",{className:"md:text-2xl text-sm font-normal",children:n_})]})}),d.jsx("div",{className:"inline-flex items-center justify-end flex-1",children:t==="md"||t==="sm"||t==="xs"?d.jsxs("div",{className:"flex relative",ref:o,children:[d.jsx(Uv,{}),d.jsx($v,{}),d.jsx("button",{className:"button-ghost flex items-center",onClick:s,"aria-label":"Toggle Menu",children:d.jsx(e_,{})}),r&&d.jsx("div",{className:"absolute right-0 mt-10 w-48 bg-white dark:bg-gray-800 shadow-lg rounded-lg z-50 flex flex-col",children:u.map((l,c)=>d.jsx(jd,{icon:l.icon,label:l.label,onClick:l.onClick,testId:l.testId},c))})]}):d.jsxs(d.Fragment,{children:[u.map((l,c)=>d.jsx(jd,{icon:l.icon,label:l.label,onClick:l.onClick,testId:l.testId},c)),d.jsx(Uv,{}),d.jsx($v,{})]})})]})},ko=()=>d.jsx("div",{className:"w-full max-w-7xl my-8",children:d.jsx("hr",{className:"border-t border-gray-300"})}),i_=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-green-400 mx-auto",fill:"none",viewBox:"0 0 160 160",children:[d.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),d.jsx("text",{x:"80",y:"85",textAnchor:"middle",fontSize:"25",fontWeight:"bold",fill:"green",fontFamily:"inherit",dominantBaseline:"middle",children:"BENEFITS!"})]}),o_=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-purple-400 mx-auto",fill:"none",viewBox:"0 0 160 160",children:[d.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),d.jsx("text",{x:"80",y:"65",textAnchor:"middle",fontSize:"25",fontWeight:"bold",fill:"purple",fontFamily:"inherit",dominantBaseline:"middle",children:"Best"}),d.jsx("text",{x:"80",y:"90",textAnchor:"middle",fontSize:"25",fontWeight:"bold",fill:"purple",fontFamily:"inherit",dominantBaseline:"middle",children:"Practice!"})]}),s_=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-orange-400 mx-auto",fill:"none",viewBox:"0 0 160 160",children:[d.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),d.jsx("text",{x:"80",y:"85",textAnchor:"middle",fontSize:"40",fontWeight:"bold",fill:"orange",fontFamily:"inherit",dominantBaseline:"middle",children:"How?"})]}),a_=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-blue-400 mx-auto",fill:"none",viewBox:"0 0 96 96",children:[d.jsx("circle",{cx:"48",cy:"48",r:"44",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),d.jsx("path",{d:"M48 68v-4m0-8c0-8 12-8 12-20 0-6.627-5.373-12-12-12s-12 5.373-12 12",stroke:"#2563eb",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),d.jsx("circle",{cx:"48",cy:"76",r:"3.5",fill:"#2563eb"})]}),u_=()=>d.jsx("div",{className:"flex flex-col items-center w-full",children:d.jsx(hx,{})}),hx=()=>d.jsx("div",{className:"flex flex-col items-center w-full",children:d.jsxs("div",{className:"animate-fade-in-down",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[d.jsx("div",{className:"w-full lg:w-1/2 px-4 mb-8 lg:mb-0",children:d.jsxs("div",{className:"HomePageContainer",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"What is Agile Planning Poker?"}),d.jsxs("p",{className:"text-base",children:["In Agile software development, accurate estimation of tasks is crucial for effective planning and project success. Agile Planning Poker is a collaborative technique that leverages the wisdom of the team to estimate effort, complexity, or relative size of user stories or tasks. In this article, we will delve into the details of Agile Planning Poker, its benefits, and how it can revolutionize the estimation process for Agile teams.",d.jsx("br",{}),"Agile Planning Poker, also known as Scrum Poker, is a consensus-based estimation technique used in Agile projects. It involves a team of individuals with diverse expertise collectively assigning effort points or story points to user stories, features, or tasks. This technique facilitates discussion, knowledge sharing, and alignment among team members, ensuring a more accurate estimation process."]})]})}),d.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center",children:d.jsx("div",{className:"HomePageContainer p-4",children:d.jsx(a_,{})})})]}),d.jsx(ko,{}),d.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[d.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center mb-8 lg:mb-0",children:d.jsx("div",{className:"HomePageContainer p-4",children:d.jsx(s_,{})})}),d.jsx("div",{className:"w-full lg:w-1/2 px-4",children:d.jsxs("div",{className:"HomePageContainer",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How Agile Planning Poker Works"}),d.jsxs("p",{className:"text-base",children:["a. ",d.jsx("b",{children:"Team Collaboration"}),": Agile Planning Poker brings together the entire Agile team, including developers, testers, product owners, and scrum masters. Each team member receives a deck of cards with values representing the effort or complexity of the work to be estimated.",d.jsx("br",{}),"b. ",d.jsx("b",{children:"User Story Presentation"}),": The product owner presents a user story or task to the team, explaining its purpose, requirements, and expected outcomes. This ensures a common understanding of the work to be estimated.",d.jsx("br",{}),"c. ",d.jsx("b",{children:"Individual Estimation"}),": Each team member privately selects a card representing their estimate of effort or complexity. The cards are kept face down until everyone has made their estimation.",d.jsx("br",{}),"d. ",d.jsx("b",{children:"Revealing Estimations"}),": On a predetermined signal, all team members simultaneously reveal their selected cards. This reveals a range of estimates and encourages discussion and justification for the differing estimations.",d.jsx("br",{}),"e. ",d.jsx("b",{children:"Consensus Building"}),": Team members discuss their reasoning, clarifying any uncertainties and sharing their perspectives. Through open dialogue, consensus is reached, and the team converges on a shared estimation.",d.jsx("br",{}),"f. ",d.jsx("b",{children:"Repeating the Process"}),": The Agile Planning Poker process is repeated for each user story or task, allowing the team to estimate the entire backlog or sprint plan collaboratively."]})]})})]}),d.jsx(ko,{}),d.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[d.jsx("div",{className:"w-full lg:w-1/2 px-4 mb-8 lg:mb-0",children:d.jsxs("div",{className:"HomePageContainer",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Benefits of Agile Planning Poker"}),d.jsxs("p",{className:"text-base",children:["a. ",d.jsx("b",{children:"Improved Accuracy"}),": Agile Planning Poker leverages the collective knowledge and expertise of the team, resulting in more accurate and reliable estimations. It considers different perspectives, experiences, and skill sets, leading to a well-rounded estimation process.",d.jsx("br",{}),"b. ",d.jsx("b",{children:"Enhanced Collaboration"}),": The technique encourages open communication, discussion, and knowledge sharing among team members. It facilitates a shared understanding of the work, promotes a sense of ownership, and fosters a collaborative team culture.",d.jsx("br",{}),"c. ",d.jsx("b",{children:"Increased Transparency"}),": Agile Planning Poker makes the estimation process transparent and visible to the entire team. This visibility helps identify discrepancies, resolve conflicts, and align expectations, ensuring better planning and decision-making.",d.jsx("br",{}),"d. ",d.jsx("b",{children:"Time Efficiency"}),": The structured nature of Agile Planning Poker streamlines the estimation process. It prevents lengthy debates and reduces biases by anchoring individual estimations to a shared understanding, leading to quicker consensus building."]})]})}),d.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center",children:d.jsx("div",{className:"HomePageContainer p-4",children:d.jsx(i_,{})})})]}),d.jsx(ko,{}),d.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[d.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center mb-8 lg:mb-0",children:d.jsx("div",{className:"HomePageContainer p-4",children:d.jsx(o_,{})})}),d.jsx("div",{className:"w-full lg:w-1/2 px-4",children:d.jsxs("div",{className:"HomePageContainer",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Best Practices for Agile Planning Poker"}),d.jsxs("p",{className:"text-base",children:["a. ",d.jsx("b",{children:"Establish Consistent Estimation Units"}),": Ensure the team has a clear understanding and consistency in the units used for estimation, such as story points, ideal days, or t-shirt sizes.",d.jsx("br",{}),"b. ",d.jsx("b",{children:"Include the Whole Team"}),": Involve all team members in Agile Planning Poker, as diverse perspectives lead to better estimations and improved buy-in.",d.jsx("br",{}),"c. ",d.jsx("b",{children:"Use Fibonacci Sequence"}),": Consider utilizing the Fibonacci sequence (1, 2, 3, 5, 8, 13, 21, etc.) for assigning values to estimation cards. This helps account for the inherent uncertainty and diminishing accuracy of estimating larger tasks.",d.jsx("br",{}),"d. ",d.jsx("b",{children:"Document and Track Estimations"}),": Maintain a record of estimated values to track progress, monitor trends and identify areas where adjustments may be necessary. This documentation provides valuable insights for future planning and retrospective analysis.",d.jsx("br",{}),"e. ",d.jsx("b",{children:"Embrace Consensus"}),": Agile Planning Poker aims to achieve consensus within the team. Encourage open discussions, actively listen to different viewpoints, and work towards finding common ground to reach agreement on the estimation.",d.jsx("br",{}),"f. ",d.jsx("b",{children:"Iterate and Refine"}),": Agile Planning Poker is not a one-time activity. Continuously refine and improve the estimation process based on feedback and lessons learned from previous sprints. Adapt the technique to suit the team's needs and evolving project requirements.",d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("p",{className:"text-base mt-2",children:"Agile Planning Poker is a powerful technique that enhances collaboration, transparency, and accuracy in the estimation process for Agile teams. By harnessing the collective knowledge and expertise of team members, it leads to more reliable estimations and better planning outcomes. Embracing Agile Planning Poker enables teams to effectively manage project scope, prioritize work, and deliver value to stakeholders with increased confidence. Incorporate this collaborative estimation technique into your Agile practices and experience the benefits of empowered teamwork and improved project success."})]})})]})]})});function cl(e){const t=new Error(e);return t.source="ulid",t}const km="0123456789ABCDEFGHJKMNPQRSTVWXYZ",la=km.length,Vv=Math.pow(2,48)-1,l_=10,c_=16;function f_(e){let t=Math.floor(e()*la);return t===la&&(t=la-1),km.charAt(t)}function h_(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>Vv)throw cl("cannot encode time greater than "+Vv);if(e<0)throw cl("time must be positive");if(Number.isInteger(Number(e))===!1)throw cl("time must be an integer");let n,r="";for(;t>0;t--)n=e%la,r=km.charAt(n)+r,e=(e-n)/la;return r}function d_(e,t){let n="";for(;e>0;e--)n=f_(t)+n;return n}function p_(e=!1,t){t||(t=typeof window<"u"?window:null);const n=t&&(t.crypto||t.msCrypto);if(n)return()=>{const r=new Uint8Array(1);return n.getRandomValues(r),r[0]/255};try{const r=require("crypto");return()=>r.randomBytes(1).readUInt8()/255}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return()=>Math.random()}throw cl("secure crypto unusable, insecure Math.random not allowed")}function m_(e){return e||(e=p_()),function(n){return isNaN(n)&&(n=Date.now()),h_(n,l_)+d_(c_,e)}}const Od=m_();var Ad=function(e,t){return Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ad(e,t)};function ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ad(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vt=function(){return Vt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vt.apply(this,arguments)};function _(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(h){s(h)}}function u(c){try{l(r.throw(c))}catch(h){s(h)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ca(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gs(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Be(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dx=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},g_=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],a=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,p=l&63;u||(p=64,s||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dx(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):g_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var u=i<e.length,l=u?n[e.charAt(i)]:64;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw Error();var f=o<<2|a>>4;if(r.push(f),l!==64){var p=a<<4&240|l>>2;if(r.push(p),h!==64){var y=l<<6&192|h;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},v_=function(e){var t=dx(e);return y_.encodeByteArray(t,!0)},Bv=function(e){return v_(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){return ja(void 0,e)}function ja(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!b_(r)||(e[r]=ja(e[r],t[r]));return e}function b_(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Vt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Bv(JSON.stringify(n)),Bv(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function px(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T_(){return typeof self=="object"&&self.self===self}function Cm(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function I_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k_(){return ki().indexOf("Electron/")>=0}function C_(){var e=ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N_(){return ki().indexOf("MSAppHost/")>=0}function __(){return!px()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mx(){return"indexedDB"in self&&indexedDB!=null}function gx(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){t(o)}})}function yx(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P_="FirebaseError",Nm=function(e){ae(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=P_,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,su.prototype.create),o}return t}(Error),su=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?j_(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",l=new Nm(o,u,i);return l},e}();function j_(e,t){return e.replace(O_,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var O_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A_(e,t){var n=new D_(e,t);return n.subscribe.bind(n)}var D_=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R_(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Sh),o.error===void 0&&(o.error=Sh),o.complete===void 0&&(o.complete=Sh);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function R_(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Sh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L_=1e3,F_=2,M_=4*60*60*1e3,$_=.5;function zv(e,t,n){t===void 0&&(t=L_),n===void 0&&(n=F_);var r=t*Math.pow(n,e),i=Math.round($_*r*(Math.random()-.5)*2);return Math.min(M_,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return e&&e._delegate?e._delegate:e}var Ci=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U_=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new x_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(B_(t))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}try{for(var i=ca(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Gs(o.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch{}}}catch(h){n={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=si),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Be(Be([],Gs(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Gs(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=si),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=si),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=ca(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Gs(l.value,2),h=c[0],f=c[1],p=this.normalizeInstanceIdentifier(h);s===p&&f.resolve(a)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=ca(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,n)}catch{}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:V_(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=si),this.component?this.component.multipleInstances?t:si:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function V_(e){return e===si?void 0:e}function B_(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q_=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new U_(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _n(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii,_m=[],Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));var vx={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},z_=Te.INFO,H_=(ii={},ii[Te.DEBUG]="log",ii[Te.VERBOSE]="log",ii[Te.INFO]="info",ii[Te.WARN]="warn",ii[Te.ERROR]="error",ii),G_=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=H_[t];if(o)console[o].apply(console,_n(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Pm=function(){function e(t){this.name=t,this._logLevel=z_,this._logHandler=G_,this._userLogHandler=null,_m.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Te))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?vx[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.DEBUG],t)),this._logHandler.apply(this,_n([this,Te.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.VERBOSE],t)),this._logHandler.apply(this,_n([this,Te.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.INFO],t)),this._logHandler.apply(this,_n([this,Te.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.WARN],t)),this._logHandler.apply(this,_n([this,Te.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.ERROR],t)),this._logHandler.apply(this,_n([this,Te.ERROR],t))},e}();function W_(e){_m.forEach(function(t){t.setLogLevel(e)})}function K_(e,t){for(var n=function(s){var a=null;t&&t.level&&(a=vx[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(u,l){for(var c=[],h=2;h<arguments.length;h++)c[h-2]=arguments[h];var f=c.map(function(p){if(p==null)return null;if(typeof p=="string")return p;if(typeof p=="number"||typeof p=="boolean")return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch{return null}}).filter(function(p){return p}).join(" ");l>=(a??u.logLevel)&&e({level:Te[l].toLowerCase(),message:f,args:c,type:u.name})}},r=0,i=_m;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,Q_=(gr={},gr["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gr["bad-app-name"]="Illegal App name: '{$appName}",gr["duplicate-app"]="Firebase App named '{$appName}' already exists",gr["app-deleted"]="Firebase App named '{$appName}' already deleted",gr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gr),io=new su("app","Firebase",Q_),wx="@firebase/app",X_="0.6.30",Y_="@firebase/analytics",J_="@firebase/app-check",Z_="@firebase/auth",eP="@firebase/database",tP="@firebase/functions",nP="@firebase/installations",rP="@firebase/messaging",iP="@firebase/performance",oP="@firebase/remote-config",sP="@firebase/storage",aP="@firebase/firestore",uP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,zl="[DEFAULT]",lP=(Tt={},Tt[wx]="fire-core",Tt[Y_]="fire-analytics",Tt[J_]="fire-app-check",Tt[Z_]="fire-auth",Tt[eP]="fire-rtdb",Tt[tP]="fire-fn",Tt[nP]="fire-iid",Tt[rP]="fire-fcm",Tt[iP]="fire-perf",Tt[oP]="fire-rc",Tt[sP]="fire-gcs",Tt[aP]="fire-fst",Tt["fire-js"]="fire-js",Tt[uP]="fire-js-all",Tt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao=new Pm("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fl=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=w_(t),this.container=new q_(n.name),this._addComponent(new Ci("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=zl),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=zl),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ao.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw io.create("app-deleted",{appName:this.name_})},e}();fl.prototype.name&&fl.prototype.options||fl.prototype.delete||console.log("dc");var cP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:W_,onLog:c,apps:null,SDK_VERSION:cP,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(f){delete t[f]}function o(f){if(f=f||zl,!qv(t,f))throw io.create("no-app",{appName:f});return t[f]}o.App=e;function s(f,p){if(p===void 0&&(p={}),typeof p!="object"||p===null){var y=p;p={name:y}}var w=p;w.name===void 0&&(w.name=zl);var g=w.name;if(typeof g!="string"||!g)throw io.create("bad-app-name",{appName:String(g)});if(qv(t,g))throw io.create("duplicate-app",{appName:g});var m=new e(f,w,r);return t[g]=m,m}function a(){return Object.keys(t).map(function(f){return t[f]})}function u(f){var p=f.name;if(n.has(p))return Ao.debug("There were multiple attempts to register component "+p+"."),f.type==="PUBLIC"?r[p]:null;if(n.set(p,f),f.type==="PUBLIC"){var y=function(v){if(v===void 0&&(v=o()),typeof v[p]!="function")throw io.create("invalid-app-argument",{appName:p});return v[p]()};f.serviceProps!==void 0&&ja(y,f.serviceProps),r[p]=y,e.prototype[p]=function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];var x=this._getService.bind(this,p);return x.apply(this,f.multipleInstances?v:[])}}for(var w=0,g=Object.keys(t);w<g.length;w++){var m=g[w];t[m]._addComponent(f)}return f.type==="PUBLIC"?r[p]:null}function l(f,p,y){var w,g=(w=lP[f])!==null&&w!==void 0?w:f;y&&(g+="-"+y);var m=g.match(/\s|\//),v=p.match(/\s|\//);if(m||v){var b=['Unable to register library "'+g+'" with version "'+p+'":'];m&&b.push('library name "'+g+'" contains illegal characters (whitespace or "/")'),m&&v&&b.push("and"),v&&b.push('version name "'+p+'" contains illegal characters (whitespace or "/")'),Ao.warn(b.join(" "));return}u(new Ci(g+"-version",function(){return{library:g,version:p}},"VERSION"))}function c(f,p){if(f!==null&&typeof f!="function")throw io.create("invalid-log-argument");K_(f,p)}function h(f,p){if(p==="serverAuth")return null;var y=p;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){var e=fP(fl);e.INTERNAL=Vt(Vt({},e.INTERNAL),{createFirebaseNamespace:bx,extendNamespace:t,createSubscribe:A_,ErrorFactory:su,deepExtend:ja});function t(n){ja(e,n)}return e}var jm=bx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hP=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(dP(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function dP(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(e,t){e.INTERNAL.registerComponent(new Ci("platform-logger",function(n){return new hP(n)},"PRIVATE")),e.registerVersion(wx,X_,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(T_()&&self.firebase!==void 0){Ao.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Hv=self.firebase.SDK_VERSION;Hv&&Hv.indexOf("LITE")>=0&&Ao.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var mP=jm.initializeApp;jm.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return px()&&Ao.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),mP.apply(void 0,e)};var kn=jm;pP(kn);function gP(e){return Array.prototype.slice.call(e)}function xx(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Om(e,t,n){var r,i=new Promise(function(o,s){r=e[t].apply(e,n),xx(r).then(o,s)});return i.request=r,i}function yP(e,t,n){var r=Om(e,t,n);return r.then(function(i){if(i)return new Oa(i,r.request)})}function ls(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function Am(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Om(this[t],i,arguments)})})}function uf(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function Sx(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return yP(this[t],i,arguments)})})}function Vi(e){this._index=e}ls(Vi,"_index",["name","keyPath","multiEntry","unique"]);Am(Vi,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);Sx(Vi,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Oa(e,t){this._cursor=e,this._request=t}ls(Oa,"_cursor",["direction","key","primaryKey","value"]);Am(Oa,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Oa.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),xx(t._request).then(function(r){if(r)return new Oa(r,t._request)})})})});function Yn(e){this._store=e}Yn.prototype.createIndex=function(){return new Vi(this._store.createIndex.apply(this._store,arguments))};Yn.prototype.index=function(){return new Vi(this._store.index.apply(this._store,arguments))};ls(Yn,"_store",["name","keyPath","indexNames","autoIncrement"]);Am(Yn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);Sx(Yn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);uf(Yn,"_store",IDBObjectStore,["deleteIndex"]);function au(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}au.prototype.objectStore=function(){return new Yn(this._tx.objectStore.apply(this._tx,arguments))};ls(au,"_tx",["objectStoreNames","mode"]);uf(au,"_tx",IDBTransaction,["abort"]);function lf(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new au(n)}lf.prototype.createObjectStore=function(){return new Yn(this._db.createObjectStore.apply(this._db,arguments))};ls(lf,"_db",["name","version","objectStoreNames"]);uf(lf,"_db",IDBDatabase,["deleteObjectStore","close"]);function cf(e){this._db=e}cf.prototype.transaction=function(){return new au(this._db.transaction.apply(this._db,arguments))};ls(cf,"_db",["name","version","objectStoreNames"]);uf(cf,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Yn,Vi].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=gP(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Vi,Yn].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(t,function(s){if(!s){o(i);return}if(i.push(s.value),n!==void 0&&i.length==n){o(i);return}s.continue()})})})});function vP(e,t,n){var r=Om(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new lf(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new cf(o)})}var wP="@firebase/installations",Ex="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tx=1e4,Ix="w:"+Ex,kx="FIS_v2",bP="https://firebaseinstallations.googleapis.com/v1",xP=60*60*1e3,SP="installations",EP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,TP=(yr={},yr["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',yr["not-registered"]="Firebase Installation is not registered.",yr["installation-not-found"]="Firebase Installation not found.",yr["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',yr["app-offline"]="Could not process request. Application offline.",yr["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",yr),fr=new su(SP,EP,TP);function Cx(e){return e instanceof Nm&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(e){var t=e.projectId;return bP+"/projects/"+t+"/installations"}function Nx(e){return{token:e.token,requestStatus:2,expiresIn:IP(e.expiresIn),creationTime:Date.now()}}function Rm(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,fr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function _x(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Px(e,t){var n=t.refreshToken,r=_x(e);return r.append("Authorization",kP(n)),r}function Lm(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function IP(e){return Number(e.replace("s","000"))}function kP(e){return kx+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(e,t){var n=t.fid;return _(this,void 0,void 0,function(){var r,i,o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:return r=Dm(e),i=_x(e),o={fid:n,authVersion:kx,appId:e.appId,sdkVersion:Ix},s={method:"POST",headers:i,body:JSON.stringify(o)},[4,Lm(function(){return fetch(r,s)})];case 1:return a=c.sent(),a.ok?[4,a.json()]:[3,3];case 2:return u=c.sent(),l={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Nx(u.authToken)},[2,l];case 3:return[4,Rm("Create Installation",a)];case 4:throw c.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e){var t=btoa(String.fromCharCode.apply(String,Be([],Gs(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _P=/^[cdef][\w-]{21}$/,Dd="";function PP(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=jP(e);return _P.test(n)?n:Dd}catch{return Dd}}function jP(e){var t=NP(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=new Map;function Ox(e,t){var n=cs(e);Ax(n,t),DP(n,t)}function OP(e,t){Dx();var n=cs(e),r=Do.get(n);r||(r=new Set,Do.set(n,r)),r.add(t)}function AP(e,t){var n=cs(e),r=Do.get(n);r&&(r.delete(t),r.size===0&&Do.delete(n),Rx())}function Ax(e,t){var n,r,i=Do.get(e);if(i)try{for(var o=ca(i),s=o.next();!s.done;s=o.next()){var a=s.value;a(t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function DP(e,t){var n=Dx();n&&n.postMessage({key:e,fid:t}),Rx()}var pi=null;function Dx(){return!pi&&"BroadcastChannel"in self&&(pi=new BroadcastChannel("[Firebase] FID Change"),pi.onmessage=function(e){Ax(e.data.key,e.data.fid)}),pi}function Rx(){Do.size===0&&pi&&(pi.close(),pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RP="firebase-installations-database",LP=1,Ni="firebase-installations-store",Eh=null;function Fm(){return Eh||(Eh=vP(RP,LP,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ni)}})),Eh}function Hl(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s;return N(this,function(a){switch(a.label){case 0:return n=cs(e),[4,Fm()];case 1:return r=a.sent(),i=r.transaction(Ni,"readwrite"),o=i.objectStore(Ni),[4,o.get(n)];case 2:return s=a.sent(),[4,o.put(t,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),(!s||s.fid!==t.fid)&&Ox(e,t.fid),[2,t]}})})}function Mm(e){return _(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=cs(e),[4,Fm()];case 1:return n=i.sent(),r=n.transaction(Ni,"readwrite"),[4,r.objectStore(Ni).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function uu(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return N(this,function(u){switch(u.label){case 0:return n=cs(e),[4,Fm()];case 1:return r=u.sent(),i=r.transaction(Ni,"readwrite"),o=i.objectStore(Ni),[4,o.get(n)];case 2:return s=u.sent(),a=t(s),a!==void 0?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),a&&(!s||s.fid!==a.fid)&&Ox(e,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e){return _(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,uu(e,function(o){var s=FP(o),a=MP(e,s);return t=a.registrationPromise,a.installationEntry})];case 1:return n=i.sent(),n.fid!==Dd?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function FP(e){var t=e||{fid:PP(),registrationStatus:0};return Lx(t)}function MP(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(fr.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=$P(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:UP(e)}:{installationEntry:t}}function $P(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,CP(e,t)];case 1:return n=i.sent(),[2,Hl(e,n)];case 2:return r=i.sent(),Cx(r)&&r.customData.serverCode===409?[4,Mm(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Hl(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function UP(e){return _(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(o){switch(o.label){case 0:return[4,Gv(e)];case 1:t=o.sent(),o.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,jx(100)];case 3:return o.sent(),[4,Gv(e)];case 4:return t=o.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,$m(e)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function Gv(e){return uu(e,function(t){if(!t)throw fr.create("installation-not-found");return Lx(t)})}function Lx(e){return VP(e)?{fid:e.fid,registrationStatus:0}:e}function VP(e){return e.registrationStatus===1&&e.registrationTime+Tx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return _(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h;return N(this,function(f){switch(f.label){case 0:return i=qP(n,t),o=Px(n,t),s=r.getImmediate({optional:!0}),s&&o.append("x-firebase-client",s.getPlatformInfoString()),a={installation:{sdkVersion:Ix}},u={method:"POST",headers:o,body:JSON.stringify(a)},[4,Lm(function(){return fetch(i,u)})];case 1:return l=f.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=f.sent(),h=Nx(c),[2,h];case 3:return[4,Rm("Generate Auth Token",l)];case 4:throw f.sent()}})})}function qP(e,t){var n=t.fid;return Dm(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e,t){return t===void 0&&(t=!1),_(this,void 0,void 0,function(){var n,r,i,o;return N(this,function(s){switch(s.label){case 0:return[4,uu(e.appConfig,function(a){if(!Fx(a))throw fr.create("not-registered");var u=a.authToken;if(!t&&GP(u))return a;if(u.requestStatus===1)return n=zP(e,t),a;if(!navigator.onLine)throw fr.create("app-offline");var l=KP(a);return n=HP(e,l),l})];case 1:return r=s.sent(),n?[4,n]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}})})}function zP(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Wv(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,jx(100)];case 3:return i.sent(),[4,Wv(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,Um(e,t)]:[2,r]}})})}function Wv(e){return uu(e,function(t){if(!Fx(t))throw fr.create("not-registered");var n=t.authToken;return QP(n)?Vt(Vt({},t),{authToken:{requestStatus:0}}):t})}function HP(e,t){return _(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,BP(e,t)];case 1:return n=o.sent(),i=Vt(Vt({},t),{authToken:n}),[4,Hl(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),Cx(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,Mm(e.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=Vt(Vt({},t),{authToken:{requestStatus:0}}),[4,Hl(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function Fx(e){return e!==void 0&&e.registrationStatus===2}function GP(e){return e.requestStatus===2&&!WP(e)}function WP(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+xP}function KP(e){var t={requestStatus:1,requestTime:Date.now()};return Vt(Vt({},e),{authToken:t})}function QP(e){return e.requestStatus===1&&e.requestTime+Tx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(e){return _(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,$m(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):Um(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e,t){return t===void 0&&(t=!1),_(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,JP(e.appConfig)];case 1:return r.sent(),[4,Um(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function JP(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,$m(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(e,t){return _(this,void 0,void 0,function(){var n,r,i,o;return N(this,function(s){switch(s.label){case 0:return n=ej(e,t),r=Px(e,t),i={method:"DELETE",headers:r},[4,Lm(function(){return fetch(n,i)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,Rm("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function ej(e,t){var n=t.fid;return Dm(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,uu(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw fr.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw fr.create("app-offline");case 3:return[4,ZP(t,n)];case 4:return r.sent(),[4,Mm(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(e,t){var n=e.appConfig;return OP(n,t),function(){AP(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e){var t,n;if(!e||!e.options)throw Th("App Configuration");if(!e.name)throw Th("App Name");var r=["projectId","apiKey","appId"];try{for(var i=ca(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.options[s])throw Th(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Th(e){return fr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(e){var t="installations";e.INTERNAL.registerComponent(new Ci(t,function(n){var r=n.getProvider("app").getImmediate(),i=rj(r),o=n.getProvider("platform-logger"),s={appConfig:i,platformLoggerProvider:o},a={app:r,getId:function(){return XP(s)},getToken:function(u){return YP(s,u)},delete:function(){return tj(s)},onIdChange:function(u){return nj(s,u)}};return a},"PUBLIC")),e.registerVersion(wP,Ex)}ij(kn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj="firebase_id",sj="origin",aj=60*1e3,uj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mx="https://www.googletagmanager.com/gtag/js",jt;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(jt||(jt={}));var Rd;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Rd||(Rd={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(e,t,n,r,i){return _(this,void 0,void 0,function(){var o,s;return N(this,function(a){switch(a.label){case 0:return i&&i.global?(e(jt.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=a.sent(),s=Vt(Vt({},r),{send_to:o}),e(jt.EVENT,n,s),a.label=3;case 3:return[2]}})})}function cj(e,t,n,r){return _(this,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:return r&&r.global?(e(jt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(jt.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function fj(e,t,n,r){return _(this,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:return r&&r.global?(e(jt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(jt.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function hj(e,t,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return e(jt.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=l.sent(),e(jt.CONFIG,u,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}})})}function dj(e,t){return _(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=new Pm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(e,t){var n=document.createElement("script");n.src=Mx+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function mj(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function gj(e,t,n,r,i,o){return _(this,void 0,void 0,function(){var s,a,u,l;return N(this,function(c){switch(c.label){case 0:s=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,t[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=c.sent(),u=a.find(function(h){return h.measurementId===i}),u?[4,t[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),yt.error(l),[3,8];case 8:return e(jt.CONFIG,i,o),[2]}})})}function yj(e,t,n,r,i){return _(this,void 0,void 0,function(){var o,s,a,u,l,c,h,f,p;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=y.sent(),u=function(w){var g=a.find(function(v){return v.measurementId===w}),m=g&&t[g.appId];if(m)o.push(m);else return o=[],"break"},l=0,c=s;l<c.length&&(h=c[l],f=u(h),f!=="break");l++);y.label=2;case 2:return o.length===0&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return y.sent(),e(jt.EVENT,r,i||{}),[3,5];case 4:return p=y.sent(),yt.error(p),[3,5];case 5:return[2]}})})}function vj(e,t,n,r){function i(o,s,a){return _(this,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),o!==jt.EVENT?[3,2]:[4,yj(e,t,n,s,a)];case 1:return l.sent(),[3,5];case 2:return o!==jt.CONFIG?[3,4]:[4,gj(e,t,n,r,s,a)];case 3:return l.sent(),[3,5];case 4:e(jt.SET,s),l.label=5;case 5:return[3,7];case 6:return u=l.sent(),yt.error(u),[3,7];case 7:return[2]}})})}return i}function wj(e,t,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=vj(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function bj(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Mx))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,xj=(Nn={},Nn["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Nn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Nn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Nn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Nn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Nn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Nn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Nn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Nn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Nn),Sn=new su("analytics","Analytics",xj);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sj=30,Ej=1e3,Tj=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=Ej),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),$x=new Tj;function Ij(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function kj(e){var t;return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Ij(r)},o=uj.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(s=l.sent(),!(s.status!==200&&s.status!==304))return[3,6];a="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.json()];case 3:return u=l.sent(),!((t=u.error)===null||t===void 0)&&t.message&&(a=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw Sn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}})})}function Cj(e,t,n){return t===void 0&&(t=$x),_(this,void 0,void 0,function(){var r,i,o,s,a,u,l=this;return N(this,function(c){if(r=e.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Sn.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Sn.create("no-api-key")}return a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Pj,setTimeout(function(){return _(l,void 0,void 0,function(){return N(this,function(h){return u.abort(),[2]})})},aj),[2,Ux({appId:i,apiKey:o,measurementId:s},a,u,t)]})})}function Ux(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return r===void 0&&(r=$x),_(this,void 0,void 0,function(){var s,a,u,l,c,h,f;return N(this,function(p){switch(p.label){case 0:s=e.appId,a=e.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Nj(n,i)];case 2:return p.sent(),[3,4];case 3:if(u=p.sent(),a)return yt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]")),[2,{appId:s,measurementId:a}];throw u;case 4:return p.trys.push([4,6,,7]),[4,kj(e)];case 5:return l=p.sent(),r.deleteThrottleMetadata(s),[2,l];case 6:if(c=p.sent(),!_j(c)){if(r.deleteThrottleMetadata(s),a)return yt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:s,measurementId:a}];throw c}return h=Number(c.customData.httpStatus)===503?zv(o,r.intervalMillis,Sj):zv(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(s,f),yt.debug("Calling attemptFetch again in "+h+" millis"),[2,Ux(e,f,n,r)];case 7:return[2]}})})}function Nj(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _j(e){if(!(e instanceof Nm)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Pj=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){return _(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return mx()?[3,1]:(yt.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,gx()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),yt.warn(Sn.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Oj(e,t,n,r,i,o){return _(this,void 0,void 0,function(){var s,a,u,l,c,h,f;return N(this,function(p){switch(p.label){case 0:return s=Cj(e),s.then(function(y){n[y.measurementId]=y.appId,e.options.measurementId&&y.measurementId!==e.options.measurementId&&yt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return yt.error(y)}),t.push(s),a=jj().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return u=p.sent(),l=u[0],c=u[1],bj()||pj(o,l.measurementId),i("js",new Date),h=(f={},f[sj]="firebase",f.update=!0,f),c!=null&&(h[oj]=c),i(jt.CONFIG,l.measurementId,h),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn={},Kv=[],Qv={},hl="dataLayer",Vx="gtag",Xv,Ds,Ld=!1;function Aj(e){if(Ld)throw Sn.create("already-initialized");e.dataLayerName&&(hl=e.dataLayerName),e.gtagName&&(Vx=e.gtagName)}function Dj(){var e=[];if(Cm()&&e.push("This is a browser extension environment."),yx()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:t});yt.warn(n.message)}}function Rj(e,t){Dj();var n=e.options.appId;if(!n)throw Sn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)yt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Sn.create("no-api-key");if(Jn[n]!=null)throw Sn.create("already-exists",{id:n});if(!Ld){mj(hl);var r=wj(Jn,Kv,Qv,hl,Vx),i=r.wrappedGtag,o=r.gtagCore;Ds=i,Xv=o,Ld=!0}Jn[n]=Oj(e,Kv,Qv,t,Xv,hl);var s={app:e,logEvent:function(a,u,l){lj(Ds,Jn[n],a,u,l).catch(function(c){return yt.error(c)})},setCurrentScreen:function(a,u){cj(Ds,Jn[n],a,u).catch(function(l){return yt.error(l)})},setUserId:function(a,u){fj(Ds,Jn[n],a,u).catch(function(l){return yt.error(l)})},setUserProperties:function(a,u){hj(Ds,Jn[n],a,u).catch(function(l){return yt.error(l)})},setAnalyticsCollectionEnabled:function(a){dj(Jn[n],a).catch(function(u){return yt.error(u)})},INTERNAL:{delete:function(){return delete Jn[n],Promise.resolve()}}};return s}var Lj="@firebase/analytics",Fj="0.6.18",Yv="analytics";function Mj(e){e.INTERNAL.registerComponent(new Ci(Yv,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return Rj(r,i)},"PUBLIC").setServiceProps({settings:Aj,EventName:Rd,isSupported:$j})),e.INTERNAL.registerComponent(new Ci("analytics-internal",t,"PRIVATE")),e.registerVersion(Lj,Fj);function t(n){try{var r=n.getProvider(Yv).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Sn.create("interop-component-reg-failed",{reason:i})}}}Mj(kn);function $j(){return _(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(Cm())return[2,!1];if(!yx())return[2,!1];if(!mx())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,gx()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}var Uj="firebase",Bx="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.registerVersion(Uj,Bx,"app");kn.SDK_VERSION=Bx;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fd=function(e,t){return Fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Fd(e,t)};function Vj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function qx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Vm=Vm||{},pe=Bj||self;function Gl(){}function Md(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ff(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function qj(e,t,n){return e.call.apply(e.bind,arguments)}function zj(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=qj:wt=zj,wt.apply(null,arguments)}function qu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function St(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function Xr(){this.s=this.s,this.o=this.o}var Hj=0;Xr.prototype.s=!1;Xr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Hj!=0)};Xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hx=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Gj(e){e:{for(var t=MO,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Jv(e){return Array.prototype.concat.apply([],arguments)}function Bm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wl(e){return/^[\s\xa0]*$/.test(e)}var Zv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $t(e,t){return e.indexOf(t)!=-1}function Ih(e,t){return e<t?-1:e>t?1:0}var Ut;e:{var e0=pe.navigator;if(e0){var t0=e0.userAgent;if(t0){Ut=t0;break e}}Ut=""}function qm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gx(e){var t={};for(var n in e)t[n]=e[n];return t}var n0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wx(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<n0.length;o++)n=n0[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zm(e){return zm[" "](e),e}zm[" "]=Gl;function Wj(e){var t=Xj;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Kj=$t(Ut,"Opera"),Ro=$t(Ut,"Trident")||$t(Ut,"MSIE"),Kx=$t(Ut,"Edge"),$d=Kx||Ro,Qx=$t(Ut,"Gecko")&&!($t(Ut.toLowerCase(),"webkit")&&!$t(Ut,"Edge"))&&!($t(Ut,"Trident")||$t(Ut,"MSIE"))&&!$t(Ut,"Edge"),Qj=$t(Ut.toLowerCase(),"webkit")&&!$t(Ut,"Edge");function Xx(){var e=pe.document;return e?e.documentMode:void 0}var Kl;e:{var kh="",Ch=function(){var e=Ut;if(Qx)return/rv:([^\);]+)(\)|;)/.exec(e);if(Kx)return/Edge\/([\d\.]+)/.exec(e);if(Ro)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Qj)return/WebKit\/(\S+)/.exec(e);if(Kj)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ch&&(kh=Ch?Ch[1]:""),Ro){var Nh=Xx();if(Nh!=null&&Nh>parseFloat(kh)){Kl=String(Nh);break e}}Kl=kh}var Xj={};function Yj(){return Wj(function(){for(var e=0,t=Zv(String(Kl)).split("."),n=Zv("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=Ih(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Ih(o[2].length==0,s[2].length==0)||Ih(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var Ud;if(pe.document&&Ro){var r0=Xx();Ud=r0||parseInt(Kl,10)||void 0}else Ud=void 0;var Jj=Ud,Zj=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pe.addEventListener("test",Gl,t),pe.removeEventListener("test",Gl,t)}catch{}return e}();function Ot(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};function Aa(e,t){if(Ot.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qx){e:{try{zm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:eO[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Aa.Z.h.call(this)}}St(Aa,Ot);var eO={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hf="closure_listenable_"+(1e6*Math.random()|0),tO=0;function nO(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++tO,this.ca=this.fa=!1}function df(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pf(e){this.src=e,this.g={},this.h=0}pf.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Bd(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new nO(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function Vd(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=zx(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(df(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Bd(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Hm="closure_lm_"+(1e6*Math.random()|0),_h={};function Yx(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Yx(e,t[o],n,r,i);return null}return n=eS(n),e&&e[hf]?e.N(t,n,ff(r)?!!r.capture:!1,i):rO(e,t,n,!1,r,i)}function rO(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=ff(i)?!!i.capture:!!i,a=Wm(e);if(a||(e[Hm]=a=new pf(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=iO(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zj||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zx(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function iO(){function e(n){return t.call(e.src,e.listener,n)}var t=oO;return e}function Jx(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Jx(e,t[o],n,r,i);else r=ff(r)?!!r.capture:!!r,n=eS(n),e&&e[hf]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Bd(o,n,r,i),-1<n&&(df(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Wm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bd(t,n,r,i)),(n=-1<e?t[e]:null)&&Gm(n))}function Gm(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[hf])Vd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zx(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wm(t))?(Vd(n,e),n.h==0&&(n.src=null,t[Hm]=null)):df(e)}}}function Zx(e){return e in _h?_h[e]:_h[e]="on"+e}function oO(e,t){if(e.ca)e=!0;else{t=new Aa(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Gm(e),e=n.call(r,t)}return e}function Wm(e){return e=e[Hm],e instanceof pf?e:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function eS(e){return typeof e=="function"?e:(e[Ph]||(e[Ph]=function(t){return e.handleEvent(t)}),e[Ph])}function lt(){Xr.call(this),this.i=new pf(this),this.P=this,this.I=null}St(lt,Xr);lt.prototype[hf]=!0;lt.prototype.removeEventListener=function(e,t,n,r){Jx(this,e,t,n,r)};function bt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Ot(t,e);else if(t instanceof Ot)t.target=t.target||e;else{var i=t;t=new Ot(r,e),Wx(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=zu(s,r,!0,t)&&i}if(s=t.g=e,i=zu(s,r,!0,t)&&i,i=zu(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=zu(s,r,!1,t)&&i}lt.prototype.M=function(){if(lt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)df(n[r]);delete e.g[t],e.h--}}this.I=null};lt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};lt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function zu(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Vd(e.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Km=pe.JSON.stringify;function sO(){var e=nS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var aO=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=tS.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),tS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new uO},function(e){return e.reset()}),uO=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function lO(e){pe.setTimeout(function(){throw e},0)}function Qm(e,t){qd||cO(),zd||(qd(),zd=!0),nS.add(e,t)}var qd;function cO(){var e=pe.Promise.resolve(void 0);qd=function(){e.then(fO)}}var zd=!1,nS=new aO;function fO(){for(var e;e=sO();){try{e.h.call(e.g)}catch(n){lO(n)}var t=tS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zd=!1}function mf(e,t){lt.call(this),this.h=e||1,this.g=t||pe,this.j=wt(this.kb,this),this.l=Date.now()}St(mf,lt);Q=mf.prototype;Q.da=!1;Q.S=null;Q.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bt(this,"tick"),this.da&&(Xm(this),this.start()))}};Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Q.M=function(){mf.Z.M.call(this),Xm(this),delete this.g};function Ym(e,t,n){if(typeof e=="function")n&&(e=wt(e,n));else if(e&&typeof e.handleEvent=="function")e=wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:pe.setTimeout(e,t||0)}function rS(e){e.g=Ym(function(){e.g=null,e.i&&(e.i=!1,rS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var hO=function(e){Vj(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:rS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Xr);function Da(e){Xr.call(this),this.h=e,this.g={}}St(Da,Xr);var i0=[];function iS(e,t,n,r){Array.isArray(n)||(n&&(i0[0]=n.toString()),n=i0);for(var i=0;i<n.length;i++){var o=Yx(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function oS(e){qm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Gm(t)},e),e.g={}}Da.prototype.M=function(){Da.Z.M.call(this),oS(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gf(){this.g=!0}gf.prototype.Aa=function(){this.g=!1};function dO(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function pO(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function po(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+gO(e,n)+(r?" "+r:"")})}function mO(e,t){e.info(function(){return"TIMEOUT: "+t})}gf.prototype.info=function(){};function gO(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Km(n)}catch{return t}}var Bi={},o0=null;function yf(){return o0=o0||new lt}Bi.Ma="serverreachability";function sS(e){Ot.call(this,Bi.Ma,e)}St(sS,Ot);function Ra(e){var t=yf();bt(t,new sS(t))}Bi.STAT_EVENT="statevent";function aS(e,t){Ot.call(this,Bi.STAT_EVENT,e),this.stat=t}St(aS,Ot);function Bt(e){var t=yf();bt(t,new aS(t,e))}Bi.Na="timingevent";function uS(e,t){Ot.call(this,Bi.Na,e),this.size=t}St(uS,Ot);function lu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){e()},t)}var vf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lS={};function Jm(){}Jm.prototype.h=null;function s0(e){return e.h||(e.h=e.i())}function cS(){}var cu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zm(){Ot.call(this,"d")}St(Zm,Ot);function eg(){Ot.call(this,"c")}St(eg,Ot);var Hd;function wf(){}St(wf,Jm);wf.prototype.g=function(){return new XMLHttpRequest};wf.prototype.i=function(){return{}};Hd=new wf;function fu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Da(this),this.P=yO,e=$d?125:void 0,this.W=new mf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fS}function fS(){this.i=null,this.g="",this.h=!1}var yO=45e3,Gd={},Ql={};Q=fu.prototype;Q.setTimeout=function(e){this.P=e};function Wd(e,t,n){e.K=1,e.v=xf(hr(t)),e.s=n,e.U=!0,hS(e,null)}function hS(e,t){e.F=Date.now(),hu(e),e.A=hr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wS(n.h,"t",r),e.C=0,n=e.l.H,e.h=new fS,e.g=$S(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hO(wt(e.Ia,e,e.g),e.O)),iS(e.V,e.g,"readystatechange",e.gb),t=e.H?Gx(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ra(),dO(e.j,e.u,e.A,e.m,e.X,e.s)}Q.gb=function(e){e=e.target;var t=this.L;t&&rr(e)==3?t.l():this.Ia(e)};Q.Ia=function(e){try{if(e==this.g)e:{var t=rr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||$d||this.g&&(this.h.h||this.g.ga()||c0(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Ra(3):Ra(2)),bf(this);var i=this.g.ba();this.N=i;t:if(dS(this)){var o=c0(this.g);e="";var s=o.length,a=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),fa(this);var u="";break t}this.h.i=new pe.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,pO(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(l)){var h=l;break t}}h=null}if(i=h)po(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kd(this,i);else{this.i=!1,this.o=3,Bt(12),mi(this),fa(this);break e}}this.U?(pS(this,t,u),$d&&this.i&&t==3&&(iS(this.V,this.W,"tick",this.fb),this.W.start())):(po(this.j,this.m,u,null),Kd(this,u)),t==4&&mi(this),this.i&&!this.I&&(t==4?RS(this.l,this):(this.i=!1,hu(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,Bt(12)):(this.o=0,Bt(13)),mi(this),fa(this)}}}catch{}finally{}};function dS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function pS(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=vO(e,n),i==Ql){t==4&&(e.o=4,Bt(14),r=!1),po(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Gd){e.o=4,Bt(15),po(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else po(e.j,e.m,i,null),Kd(e,i);dS(e)&&i!=Ql&&i!=Gd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Bt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),lg(t),t.L=!0,Bt(11))):(po(e.j,e.m,n,"[Invalid Chunked Response]"),mi(e),fa(e))}Q.fb=function(){if(this.g){var e=rr(this.g),t=this.g.ga();this.C<t.length&&(bf(this),pS(this,e,t),this.i&&e!=4&&hu(this))}};function vO(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ql:(n=Number(t.substring(n,r)),isNaN(n)?Gd:(r+=1,r+n>t.length?Ql:(t=t.substr(r,n),e.C=r+n,t)))}Q.cancel=function(){this.I=!0,mi(this)};function hu(e){e.Y=Date.now()+e.P,mS(e,e.P)}function mS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=lu(wt(e.eb,e),t)}function bf(e){e.B&&(pe.clearTimeout(e.B),e.B=null)}Q.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(mO(this.j,this.A),this.K!=2&&(Ra(),Bt(17)),mi(this),this.o=2,fa(this)):mS(this,this.Y-e)};function fa(e){e.l.G==0||e.I||RS(e.l,e)}function mi(e){bf(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Xm(e.W),oS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Kd(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Qd(n.i,e))){if(n.I=e.N,!e.J&&Qd(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Zl(n),Tf(n);else break e;ug(n),Bt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=lu(wt(n.ab,n),6e3));if(1>=SS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else gi(n,11)}else if((e.J||n.g==e)&&Zl(n),!Wl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];a!=null&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&($t(c,"spdy")||$t(c,"quic")||$t(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(rg(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Me(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var p=e;if(r.oa=MS(r,r.H?r.la:null,r.W),p.J){ES(r.i,p);var y=p,w=r.K;w&&y.setTimeout(w),y.B&&(bf(y),hu(y)),r.g=p}else AS(r);0<n.l.length&&If(n)}else o[0]!="stop"&&o[0]!="close"||gi(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?gi(n,7):ag(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Ra(4)}catch{}}function wO(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Md(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function tg(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Md(e)||typeof e=="string")Hx(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Md(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=wO(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function fs(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fs)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Q=fs.prototype;Q.R=function(){ng(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Q.T=function(){return ng(this),this.g.concat()};function ng(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];_i(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],_i(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Q.get=function(e,t){return _i(this.h,e)?this.h[e]:t};Q.set=function(e,t){_i(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Q.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var gS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bO(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pi){this.g=t!==void 0?t:e.g,Xl(this,e.j),this.s=e.s,Yl(this,e.i),Jl(this,e.m),this.l=e.l,t=e.h;var n=new La;n.i=t.i,t.g&&(n.g=new fs(t.g),n.h=t.h),a0(this,n),this.o=e.o}else e&&(n=String(e).match(gS))?(this.g=!!t,Xl(this,n[1]||"",!0),this.s=ha(n[2]||""),Yl(this,n[3]||"",!0),Jl(this,n[4]),this.l=ha(n[5]||"",!0),a0(this,n[6]||"",!0),this.o=ha(n[7]||"")):(this.g=!!t,this.h=new La(null,this.g))}Pi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ws(t,u0,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ws(t,u0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ws(n,n.charAt(0)=="/"?IO:TO,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ws(n,CO)),e.join("")};function hr(e){return new Pi(e)}function Xl(e,t,n){e.j=n?ha(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yl(e,t,n){e.i=n?ha(t,!0):t}function Jl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function a0(e,t,n){t instanceof La?(e.h=t,NO(e.h,e.g)):(n||(t=Ws(t,kO)),e.h=new La(t,e.g))}function Me(e,t,n){e.h.set(t,n)}function xf(e){return Me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xO(e){return e instanceof Pi?hr(e):new Pi(e,void 0)}function SO(e,t,n,r){var i=new Pi(null,void 0);return e&&Xl(i,e),t&&Yl(i,t),n&&Jl(i,n),r&&(i.l=r),i}function ha(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ws(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,EO),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function EO(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var u0=/[#\/\?@]/g,TO=/[#\?:]/g,IO=/[#\?]/g,kO=/[#\?@]/g,CO=/#/g;function La(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yr(e){e.g||(e.g=new fs,e.h=0,e.i&&bO(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=La.prototype;Q.add=function(e,t){Yr(this),this.i=null,e=hs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function yS(e,t){Yr(e),t=hs(e,t),_i(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,_i(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ng(e)))}function vS(e,t){return Yr(e),t=hs(e,t),_i(e.g.h,t)}Q.forEach=function(e,t){Yr(this),this.g.forEach(function(n,r){Hx(n,function(i){e.call(t,i,r,this)},this)},this)};Q.T=function(){Yr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};Q.R=function(e){Yr(this);var t=[];if(typeof e=="string")vS(this,e)&&(t=Jv(t,this.g.get(hs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Jv(t,e[n])}return t};Q.set=function(e,t){return Yr(this),this.i=null,e=hs(this,e),vS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function wS(e,t,n){yS(e,t),0<n.length&&(e.i=null,e.g.set(hs(e,t),Bm(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function hs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function NO(e,t){t&&!e.j&&(Yr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yS(this,r),wS(this,i,n))},e)),e.j=t}var _O=function(){function e(t,n){this.h=t,this.g=n}return e}();function bS(e){this.l=e||PO,pe.PerformanceNavigationTiming?(e=pe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(pe.g&&pe.g.Ea&&pe.g.Ea()&&pe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PO=10;function xS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function SS(e){return e.h?1:e.g?e.g.size:0}function Qd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function rg(e,t){e.g?e.g.add(t):e.h=t}function ES(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}bS.prototype.cancel=function(){var e,t;if(this.i=TS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=qx(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function TS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=qx(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Bm(e.i)}function ig(){}ig.prototype.stringify=function(e){return pe.JSON.stringify(e,void 0)};ig.prototype.parse=function(e){return pe.JSON.parse(e,void 0)};function jO(){this.g=new ig}function OO(e,t,n){var r=n||"";try{tg(e,function(i,o){var s=i;ff(i)&&(s=Km(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function AO(e,t){var n=new gf;if(pe.Image){var r=new Image;r.onload=qu(Hu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qu(Hu,n,r,"TestLoadImage: error",!1,t),r.onabort=qu(Hu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qu(Hu,n,r,"TestLoadImage: timeout",!1,t),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Hu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function du(e){this.l=e.$b||null,this.j=e.ib||!1}St(du,Jm);du.prototype.g=function(){return new Sf(this.l,this.j)};du.prototype.i=function(e){return function(){return e}}({});function Sf(e,t){lt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Sf,lt);var og=0;Q=Sf.prototype;Q.open=function(e,t){if(this.readyState!=og)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fa(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pu(this)),this.readyState=og};Q.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function IS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Q.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pu(this):Fa(this),this.readyState==3&&IS(this)}};Q.Ua=function(e){this.g&&(this.response=this.responseText=e,pu(this))};Q.Ta=function(e){this.g&&(this.response=e,pu(this))};Q.ha=function(){this.g&&pu(this)};function pu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fa(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Fa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var DO=pe.JSON.parse;function tt(e){lt.call(this),this.headers=new fs,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kS,this.K=this.L=!1}St(tt,lt);var kS="",RO=/^https?$/i,LO=["POST","PUT"];Q=tt.prototype;Q.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hd.g(),this.C=this.u?s0(this.u):s0(Hd),this.g.onreadystatechange=wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){l0(this,o);return}e=n||"";var i=new fs(this.headers);r&&tg(r,function(o,s){i.set(s,o)}),r=Gj(i.T()),n=pe.FormData&&e instanceof pe.FormData,!(0<=zx(LO,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_S(this),0<this.B&&((this.K=FO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.pa,this)):this.A=Ym(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){l0(this,o)}};function FO(e){return Ro&&Yj()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function MO(e){return e.toLowerCase()=="content-type"}Q.pa=function(){typeof Vm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function l0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,CS(e),Ef(e)}function CS(e){e.D||(e.D=!0,bt(e,"complete"),bt(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bt(this,"complete"),bt(this,"abort"),Ef(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ef(this,!0)),tt.Z.M.call(this)};Q.Fa=function(){this.s||(this.F||this.v||this.l?NS(this):this.cb())};Q.cb=function(){NS(this)};function NS(e){if(e.h&&typeof Vm<"u"&&(!e.C[1]||rr(e)!=4||e.ba()!=2)){if(e.v&&rr(e)==4)Ym(e.Fa,0,e);else if(bt(e,"readystatechange"),rr(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(gS)[1]||null;if(!o&&pe.self&&pe.self.location){var s=pe.self.location.protocol;o=s.substr(0,s.length-1)}i=!RO.test(o?o.toLowerCase():"")}r=i}if(r)bt(e,"complete"),bt(e,"success");else{e.m=6;try{var a=2<rr(e)?e.g.statusText:""}catch{a=""}e.j=a+" ["+e.ba()+"]",CS(e)}}finally{Ef(e)}}}}function Ef(e,t){if(e.g){_S(e);var n=e.g,r=e.C[0]?Gl:null;e.g=null,e.C=null,t||bt(e,"ready");try{n.onreadystatechange=r}catch{}}}function _S(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pe.clearTimeout(e.A),e.A=null)}function rr(e){return e.g?e.g.readyState:0}Q.ba=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};Q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),DO(t)}};function c0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Da=function(){return this.m};Q.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function $O(e){var t="";return qm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function sg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$O(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Me(e,t,n))}function Rs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function PS(e){this.za=0,this.l=[],this.h=new gf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rs("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rs("baseRetryDelayMs",5e3,e),this.$a=Rs("retryDelaySeedMs",1e4,e),this.Ya=Rs("forwardChannelMaxRetries",2,e),this.ra=Rs("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bS(e&&e.concurrentRequestLimit),this.Ca=new jO,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Q=PS.prototype;Q.ma=8;Q.G=1;function ag(e){if(jS(e),e.G==3){var t=e.V++,n=hr(e.F);Me(n,"SID",e.J),Me(n,"RID",t),Me(n,"TYPE","terminate"),mu(e,n),t=new fu(e,e.h,t,void 0),t.K=2,t.v=xf(hr(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon&&(n=pe.navigator.sendBeacon(t.v.toString(),"")),!n&&pe.Image&&(new Image().src=t.v,n=!0),n||(t.g=$S(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hu(t)}FS(e)}Q.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Tf(e){e.g&&(lg(e),e.g.cancel(),e.g=null)}function jS(e){Tf(e),e.u&&(pe.clearTimeout(e.u),e.u=null),Zl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&pe.clearTimeout(e.m),e.m=null)}function jh(e,t){e.l.push(new _O(e.Za++,t)),e.G==3&&If(e)}function If(e){xS(e.i)||e.m||(e.m=!0,Qm(e.Ha,e),e.C=0)}function UO(e,t){return SS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=lu(wt(e.Ha,e,t),LS(e,e.C)),e.C++,!0)}Q.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=Gx(n),Wx(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=OS(this,t,r),i=hr(this.F),Me(i,"RID",e),Me(i,"CVER",22),this.D&&Me(i,"X-HTTP-Session-Id",this.D),mu(this,i),this.o&&n&&sg(i,this.o,n),rg(this.i,t),this.Ra&&Me(i,"TYPE","init"),this.ja?(Me(i,"$req",r),Me(i,"SID","null"),t.$=!0,Wd(t,i,null)):Wd(t,i,r),this.G=2}}else this.G==3&&(e?f0(this,e):this.l.length==0||xS(this.i)||f0(this))};function f0(e,t){var n;t?n=t.m:n=e.V++;var r=hr(e.F);Me(r,"SID",e.J),Me(r,"RID",n),Me(r,"AID",e.U),mu(e,r),e.o&&e.s&&sg(r,e.o,e.s),n=new fu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=OS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),rg(e.i,n),Wd(n,r,t)}function mu(e,t){e.j&&tg({},function(n,r){Me(t,r,n)})}function OS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?wt(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{OO(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function AS(e){e.g||e.u||(e.Y=1,Qm(e.Ga,e),e.A=0)}function ug(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=lu(wt(e.Ga,e),LS(e,e.A)),e.A++,!0)}Q.Ga=function(){if(this.u=null,DS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=lu(wt(this.bb,this),e)}};Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bt(10),Tf(this),DS(this))};function lg(e){e.B!=null&&(pe.clearTimeout(e.B),e.B=null)}function DS(e){e.g=new fu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=hr(e.oa);Me(t,"RID","rpc"),Me(t,"SID",e.J),Me(t,"CI",e.N?"0":"1"),Me(t,"AID",e.U),mu(e,t),Me(t,"TYPE","xmlhttp"),e.o&&e.s&&sg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=xf(hr(t)),n.s=null,n.U=!0,hS(n,e)}Q.ab=function(){this.v!=null&&(this.v=null,Tf(this),ug(this),Bt(19))};function Zl(e){e.v!=null&&(pe.clearTimeout(e.v),e.v=null)}function RS(e,t){var n=null;if(e.g==t){Zl(e),lg(e),e.g=null;var r=2}else if(Qd(e.i,t))n=t.D,ES(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=yf(),bt(r,new uS(r,n)),If(e)}else AS(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&UO(e,t)||r==2&&ug(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gi(e,5);break;case 4:gi(e,10);break;case 3:gi(e,6);break;default:gi(e,2)}}}function LS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function gi(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=wt(e.jb,e);n||(n=new Pi("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||Xl(n,"https"),xf(n)),AO(n.toString(),r)}else Bt(2);e.G=0,e.j&&e.j.va(t),FS(e),jS(e)}Q.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bt(2)):(this.h.info("Failed to ping google.com"),Bt(1))};function FS(e){e.G=0,e.I=-1,e.j&&((TS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Bm(e.l),e.l.length=0),e.j.ua())}function MS(e,t,n){var r=xO(n);if(r.i!="")t&&Yl(r,t+"."+r.i),Jl(r,r.m);else{var i=pe.location;r=SO(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&qm(e.aa,function(o,s){Me(r,s,o)}),t=e.D,n=e.sa,t&&n&&Me(r,t,n),Me(r,"VER",e.ma),mu(e,r),r}function $S(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new tt(new du({ib:!0})):new tt(e.qa),t.L=e.H,t}function US(){}Q=US.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Oa=function(){};function ec(){if(Ro&&!(10<=Number(Jj)))throw Error("Environmental error: no available transport.")}ec.prototype.g=function(e,t){return new dn(e,t)};function dn(e,t){lt.call(this),this.g=new PS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Wl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ds(this)}St(dn,lt);dn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qm(wt(e.hb,e,t))),Bt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=MS(e,null,e.W),If(e)};dn.prototype.close=function(){ag(this.g)};dn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,jh(this.g,t)}else this.v?(t={},t.__data__=Km(e),jh(this.g,t)):jh(this.g,e)};dn.prototype.M=function(){this.g.j=null,delete this.j,ag(this.g),delete this.g,dn.Z.M.call(this)};function VS(e){Zm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}St(VS,Zm);function BS(){eg.call(this),this.status=1}St(BS,eg);function ds(e){this.g=e}St(ds,US);ds.prototype.xa=function(){bt(this.g,"a")};ds.prototype.wa=function(e){bt(this.g,new VS(e))};ds.prototype.va=function(e){bt(this.g,new BS)};ds.prototype.ua=function(){bt(this.g,"b")};ec.prototype.createWebChannel=ec.prototype.g;dn.prototype.send=dn.prototype.u;dn.prototype.open=dn.prototype.m;dn.prototype.close=dn.prototype.close;vf.NO_ERROR=0;vf.TIMEOUT=8;vf.HTTP_ERROR=6;lS.COMPLETE="complete";cS.EventType=cu;cu.OPEN="a";cu.CLOSE="b";cu.ERROR="c";cu.MESSAGE="d";lt.prototype.listen=lt.prototype.N;tt.prototype.listenOnce=tt.prototype.O;tt.prototype.getLastError=tt.prototype.La;tt.prototype.getLastErrorCode=tt.prototype.Da;tt.prototype.getStatus=tt.prototype.ba;tt.prototype.getResponseJson=tt.prototype.Qa;tt.prototype.getResponseText=tt.prototype.ga;tt.prototype.send=tt.prototype.ea;var VO=function(){return new ec},BO=function(){return yf()},Oh=vf,qO=lS,zO=Bi,h0={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},HO=du,Gu=cS,GO=tt,WO={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();ln.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ae(t,e),t}(Error),On=new Pm("@firebase/firestore");function Xd(){return On.logLevel}function G(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(On.logLevel<=Te.DEBUG){var r=t.map(cg);On.debug.apply(On,Be(["Firestore (8.10.1): "+e],r))}}function Ze(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(On.logLevel<=Te.ERROR){var r=t.map(cg);On.error.apply(On,Be(["Firestore (8.10.1): "+e],r))}}function tc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(On.logLevel<=Te.WARN){var r=t.map(cg);On.warn.apply(On,Be(["Firestore (8.10.1): "+e],r))}}function cg(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ze(t),new Error(t)}function le(e,t){e||re()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=KO(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function be(e,t){return e<t?-1:e>t?1:0}function Lo(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function zS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ye=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new en(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function HS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GS=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&re(),r===void 0?r=t.length-n:r>t.length-n&&re(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ie=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new F(C.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(GS),QO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return QO.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new F(C.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new F(C.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new F(C.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(GS),Fo=function(){function e(t){this.fields=t,t.sort(Rn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Lo(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),tn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();tn.EMPTY_BYTE_STRING=new tn("");var XO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(e){if(le(!!e),typeof e=="string"){var t=0,n=XO.exec(e);if(le(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Je(e.seconds),nanos:Je(e.nanos)}}function Je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mo(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function WS(e){var t=e.mapValue.fields.__previous_value__;return fg(t)?WS(t):t}function Ma(e){var t=Hr(e.mapValue.fields.__local_write_time__.timestampValue);return new en(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e){return e==null}function nc(e){return e===0&&1/e==-1/0}function KS(e){return typeof e=="number"&&Number.isInteger(e)&&!nc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ie.fromString(t))},e.fromName=function(t){return new e(Ie.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ie.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ie.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ie(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fg(e)?4:10:re()}function Wn(e,t){var n=ji(e);if(n!==ji(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ma(e).isEqual(Ma(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Hr(r.timestampValue),s=Hr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Mo(r.bytesValue).isEqual(Mo(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Je(r.doubleValue),s=Je(i.doubleValue);return o===s?nc(o)===nc(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(d0(o)!==d0(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Wn(o[a],s[a])))return!1;return!0}(e,t);default:return re()}}function $a(e,t){return(e.values||[]).find(function(n){return Wn(n,t)})!==void 0}function $o(e,t){var n=ji(e),r=ji(t);if(n!==r)return be(n,r);switch(n){case 0:return 0;case 1:return be(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=Je(i.integerValue||i.doubleValue),a=Je(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(e,t);case 3:return p0(e.timestampValue,t.timestampValue);case 4:return p0(Ma(e),Ma(t));case 5:return be(e.stringValue,t.stringValue);case 6:return function(i,o){var s=Mo(i),a=Mo(o);return s.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var l=be(s[u],a[u]);if(l!==0)return l}return be(s.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=be(Je(i.latitude),Je(o.latitude));return s!==0?s:be(Je(i.longitude),Je(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var l=$o(s[u],a[u]);if(l)return l}return be(s.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(var c=0;c<a.length&&c<l.length;++c){var h=be(a[c],l[c]);if(h!==0)return h;var f=$o(s[a[c]],u[l[c]]);if(f!==0)return f}return be(a.length,l.length)}(e.mapValue,t.mapValue);default:throw re()}}function p0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return be(e,t);var n=Hr(e),r=Hr(t),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function hg(e){return Yd(e)}function Yd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Hr(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oe.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=Yd(a[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+Yd(r.fields[u])}return i+"}"}(e.mapValue):re();var t,n}function rc(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Jd(e){return!!e&&"integerValue"in e}function dg(e){return!!e&&"arrayValue"in e}function m0(e){return!!e&&"nullValue"in e}function g0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dl(e){return!!e&&"mapValue"in e}function da(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qi(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=da(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=da(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!dl(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=da(n)},e.prototype.setAll=function(t){var n=this,r=Rn.emptyPath(),i={},o=[];t.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var l=n.getFieldsMap(r);n.applyChanges(l,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=da(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());dl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Wn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];dl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){qi(n,function(a,u){return t[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(da(this.value))},e}();function QS(e){var t=[];return qi(e.fields,function(n,r){var i=new Rn([n]);if(dl(r)){var o=QS(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];t.push(i.child(u))}}else t.push(i)}),new Fo(t)}var Dt=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,ye.min(),an.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,an.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,an.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),YO=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new YO(e,t,n,r,i,o,s)}function gu(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+hg(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),zi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=oc(t.startAt)),t.endAt&&(n+="|ub:",n+=oc(t.endAt)),t.h=n}return t.h}function kf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Wn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!w0(e.startAt,t.startAt)&&w0(e.endAt,t.endAt)}function ic(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var cn=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return ae(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new JO(n,r,i):r==="array-contains"?new tA(n,i):r==="in"?new nA(n,i):r==="not-in"?new rA(n,i):r==="array-contains-any"?new iA(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new ZO(n,i):new eA(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m($o(r,this.value)):r!==null&&ji(this.value)===ji(r)&&this.m($o(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return re()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),JO=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=oe.fromName(i.referenceValue),o}return ae(t,e),t.prototype.matches=function(n){var r=oe.comparator(n.key,this.key);return this.m(r)},t}(cn),ZO=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=XS("in",r),i}return ae(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(cn),eA=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=XS("not-in",r),i}return ae(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(cn);function XS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return oe.fromName(r.referenceValue)})}var tA=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ae(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return dg(r)&&$a(r.arrayValue,this.value)},t}(cn),nA=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ae(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&$a(this.value.arrayValue,r)},t}(cn),rA=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ae(t,e),t.prototype.matches=function(n){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!$a(this.value.arrayValue,r)},t}(cn),iA=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ae(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!dg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return $a(r.value.arrayValue,o)})},t}(cn),Ua=function(e,t){this.position=e,this.before=t};function oc(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return hg(t)}).join(",")}var Co=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function oA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function v0(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?oe.comparator(oe.fromName(s.referenceValue),n.key):$o(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function w0(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(e,t,n,r,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function YS(e,t,n,r,i,o,s,a){return new pr(e,t,n,r,i,o,s,a)}function yu(e){return new pr(e)}function pl(e){return!zi(e.limit)&&e.limitType==="F"}function sc(e){return!zi(e.limit)&&e.limitType==="L"}function pg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mg(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function gg(e){return e.collectionGroup!==null}function Uo(e){var t=W(e);if(t.p===null){t.p=[];var n=mg(t),r=pg(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Co(n)),t.p.push(new Co(Rn.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Co(Rn.keyField(),u))}}}return t.p}function Kn(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=y0(t.path,t.collectionGroup,Uo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Uo(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new Co(o.field,s))}var a=t.endAt?new Ua(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ua(t.startAt.position,!t.startAt.before):null;t.T=y0(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function JS(e,t,n){return new pr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vu(e,t){return kf(Kn(e),Kn(t))&&e.limitType===t.limitType}function ZS(e){return gu(Kn(e))+"|lt:"+e.limitType}function Zd(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+hg(i.value);var i}).join(", ")+"]"),zi(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+oc(t.startAt)),t.endAt&&(n+=", endAt: "+oc(t.endAt)),"Target("+n+")"}(Kn(e))+"; limitType="+e.limitType+")"}function wu(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!v0(n.startAt,Uo(n),r))&&(!n.endAt||!v0(n.endAt,Uo(n),r))}(e,t)}function eE(e){return function(t,n){for(var r=!1,i=0,o=Uo(e);i<o.length;i++){var s=o[i],a=sA(s,t,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function sA(e,t,n){var r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?$o(a,u):re()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(t)?"-0":t}}function nE(e){return{integerValue:""+e}}function rE(e,t){return KS(t)?nE(t):tE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cf=function(){this._=void 0};function aA(e,t,n){return e instanceof Vo?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Oi?oE(e,t):e instanceof Ai?sE(e,t):function(r,i){var o=iE(r,i),s=b0(o)+b0(r.A);return Jd(o)&&Jd(r.A)?nE(s):tE(r.R,s)}(e,t)}function uA(e,t,n){return e instanceof Oi?oE(e,t):e instanceof Ai?sE(e,t):n}function iE(e,t){return e instanceof Bo?Jd(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Vo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t}(Cf),Oi=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ae(t,e),t}(Cf);function oE(e,t){for(var n=aE(t),r=function(s){n.some(function(a){return Wn(a,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ai=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ae(t,e),t}(Cf);function sE(e,t){for(var n=aE(t),r=function(s){n=n.filter(function(a){return!Wn(a,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bo=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return ae(t,e),t}(Cf);function b0(e){return Je(e.integerValue||e.doubleValue)}function aE(e){return dg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bu=function(e,t){this.field=e,this.transform=t},lA=function(e,t){this.version=e,this.transformResults=t},_t=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function ml(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Nf=function(){};function cA(e,t,n){e instanceof xu?function(r,i,o){var s=r.value.clone(),a=E0(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Jr?function(r,i,o){if(ml(r.precondition,i)){var s=E0(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(uE(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ep(e,t,n){e instanceof xu?function(r,i,o){if(ml(r.precondition,i)){var s=r.value.clone(),a=T0(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(S0(i),s).setHasLocalMutations()}}(e,t,n):e instanceof Jr?function(r,i,o){if(ml(r.precondition,i)){var s=T0(r.fieldTransforms,o,i),a=i.data;a.setAll(uE(r)),a.setAll(s),i.convertToFoundDocument(S0(i),a).setHasLocalMutations()}}(e,t,n):function(r,i){ml(r.precondition,i)&&i.convertToNoDocument(ye.min())}(e,t)}function fA(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=iE(o.transform,s||null);a!=null&&(n==null&&(n=an.empty()),n.set(o.field,a))}return n||null}function x0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Lo(n,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,l){return u instanceof Oi&&l instanceof Oi||u instanceof Ai&&l instanceof Ai?Lo(u.elements,l.elements,Wn):u instanceof Bo&&l instanceof Bo?Wn(u.A,l.A):u instanceof Vo&&l instanceof Vo}(s.transform,a.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function S0(e){return e.isFoundDocument()?e.version:ye.min()}var xu=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return ae(t,e),t}(Nf),Jr=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return ae(t,e),t}(Nf);function uE(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function E0(e,t,n){var r=new Map;le(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,uA(s,a,n[i]))}return r}function T0(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,aA(a,u,t))}return r}var Ye,Se,Su=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ae(t,e),t}(Nf),yg=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ae(t,e),t}(Nf),hA=function(e){this.count=e};function lE(e){switch(e){case C.OK:return re();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return re()}}function cE(e){if(e===void 0)return Ze("GRPC error has no .code"),C.UNKNOWN;switch(e){case Ye.OK:return C.OK;case Ye.CANCELLED:return C.CANCELLED;case Ye.UNKNOWN:return C.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return C.INTERNAL;case Ye.UNAVAILABLE:return C.UNAVAILABLE;case Ye.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ye.NOT_FOUND:return C.NOT_FOUND;case Ye.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ye.ABORTED:return C.ABORTED;case Ye.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ye.DATA_LOSS:return C.DATA_LOSS;default:return re()}}(Se=Ye||(Ye={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt=function(){function e(t,n){this.comparator=t,this.root=n||Er.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Er.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Er.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Wu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Wu(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Wu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Wu(this.root,t,this.comparator,!0)},e}(),Wu=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Er=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();var t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)},e}();Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw re()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Er(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it=function(){function e(t){this.comparator=t,this.data=new Rt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new I0(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new I0(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),I0=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),dA=new Rt(oe.comparator);function An(){return dA}var pA=new Rt(oe.comparator);function tp(){return pA}var mA=new Rt(oe.comparator);function gA(){return mA}var yA=new it(oe.comparator);function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=yA,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var vA=new it(be);function _f(){return vA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vg=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,wg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ye.min(),r,_f(),An(),Oe())},e}(),wg=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(tn.EMPTY_BYTE_STRING,n,Oe(),Oe(),Oe())},e}(),gl=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},fE=function(e,t){this.targetId=e,this.V=t},hE=function(e,t,n,r){n===void 0&&(n=tn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},k0=function(){function e(){this.S=0,this.D=N0(),this.C=tn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Oe(),n=Oe(),r=Oe();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new wg(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=N0()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),wA=function(){function e(t){this.W=t,this.G=new Map,this.H=An(),this.J=C0(),this.Y=new it(be)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:re()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(ic(o))if(r===0){var s=new oe(o.path);this.tt(n,s,Dt.newNoDocument(s,ye.min()))}else le(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,a){var u=n.ot(a);if(u){if(s.current&&ic(u.target)){var l=new oe(u.target.path);n.H.get(l)!==null||n.at(a,l)||n.tt(a,l,Dt.newNoDocument(l,t))}s.$&&(r.set(a,s.M()),s.L())}});var i=Oe();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new vg(t,r,this.Y,this.H,i);return this.H=An(),this.J=C0(),this.Y=new it(be),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new k0,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new it(be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||G("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new k0),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function C0(){return new Rt(oe.comparator)}function N0(){return new Rt(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bA={asc:"ASCENDING",desc:"DESCENDING"},xA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SA=function(e,t){this.databaseId=e,this.I=t};function Va(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function dE(e,t){return e.I?t.toBase64():t.toUint8Array()}function EA(e,t){return Va(e,t.toTimestamp())}function qt(e){return le(!!e),ye.fromTimestamp(function(t){var n=Hr(t);return new en(n.seconds,n.nanos)}(e))}function bg(e,t){return function(n){return new Ie(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function pE(e){var t=Ie.fromString(e);return le(xE(t)),t}function Ba(e,t){return bg(e.databaseId,t.path)}function sr(e,t){var n=pE(t);if(n.get(1)!==e.databaseId.projectId)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(gE(n))}function np(e,t){return bg(e.databaseId,t)}function mE(e){var t=pE(e);return t.length===4?Ie.emptyPath():gE(t)}function qa(e){return new Ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gE(e){return le(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function _0(e,t,n){return{name:Ba(e,t),fields:n.value.mapValue.fields}}function TA(e,t,n){var r=sr(e,t.name),i=qt(t.updateTime),o=new an({mapValue:{fields:t.fields}}),s=Dt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ac(e,t){var n;if(t instanceof xu)n={update:_0(e,t.key,t.value)};else if(t instanceof Su)n={delete:Ba(e,t.key)};else if(t instanceof Jr)n={update:_0(e,t.key,t.data),updateMask:_A(t.fieldMask)};else{if(!(t instanceof yg))return re();n={verify:Ba(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Vo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Bo)return{fieldPath:o.field.canonicalString(),increment:s.A};throw re()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:EA(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re()}(e,t.precondition)),n}function P0(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?_t.updateTime(qt(l.updateTime)):l.exists!==void 0?_t.exists(l.exists):_t.none()}(t.currentDocument):_t.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,h){var f=null;if("setToServerValue"in h)le(h.setToServerValue==="REQUEST_TIME"),f=new Vo;else if("appendMissingElements"in h){var p=h.appendMissingElements.values||[];f=new Oi(p)}else if("removeAllFromArray"in h){var y=h.removeAllFromArray.values||[];f=new Ai(y)}else"increment"in h?f=new Bo(c,h.increment):re();var w=Rn.fromServerFormat(h.fieldPath);return new bu(w,f)}(e,l)}):[];if(t.update){t.update.name;var i=sr(e,t.update.name),o=new an({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Fo(c.map(function(h){return Rn.fromServerFormat(h)}))}(t.updateMask);return new Jr(i,o,s,n,r)}return new xu(i,o,n,r)}if(t.delete){var a=sr(e,t.delete);return new Su(a,n)}if(t.verify){var u=sr(e,t.verify);return new yg(u,n)}return re()}function yE(e,t){return{documents:[np(e,t.path)]}}function vE(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=np(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=np(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(l){return function(c){if(c.op==="=="){if(g0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NAN"}};if(m0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(g0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NOT_NAN"}};if(m0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(c.field),op:kA(c.op),value:c.value}}}(l)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(l){return{field:Ji(l.field),direction:IA(l.dir)}}(u)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(a,u){return a.I||zi(u)?u:{value:u}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=j0(t.startAt)),t.endAt&&(n.structuredQuery.endAt=j0(t.endAt)),n}function wE(e){var t=mE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){le(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=bE(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(h){return function(f){return new Co(mo(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h)}));var u=null;n.limit&&(u=function(h){var f;return zi(f=typeof h=="object"?h.value:h)?null:f}(n.limit));var l=null;n.startAt&&(l=O0(n.startAt));var c=null;return n.endAt&&(c=O0(n.endAt)),YS(t,i,a,s,u,"F",l,c)}function bE(e){return e?e.unaryFilter!==void 0?[NA(e)]:e.fieldFilter!==void 0?[CA(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return bE(t)}).reduce(function(t,n){return t.concat(n)}):re():[]}function j0(e){return{before:e.before,values:e.position}}function O0(e){var t=!!e.before,n=e.values||[];return new Ua(n,t)}function IA(e){return bA[e]}function kA(e){return xA[e]}function Ji(e){return{fieldPath:e.canonicalString()}}function mo(e){return Rn.fromServerFormat(e.fieldPath)}function CA(e){return cn.create(mo(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}function NA(e){switch(e.unaryFilter.op){case"IS_NAN":var t=mo(e.unaryFilter.field);return cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=mo(e.unaryFilter.field);return cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=mo(e.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=mo(e.unaryFilter.field);return cn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return re()}}function _A(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function xE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=A0(t)),t=PA(e.get(n),t);return A0(t)}function PA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function A0(e){return e+""}function ir(e){var t=e.length;if(le(t>=2),t===2)return le(e.charAt(0)===""&&e.charAt(1)===""),Ie.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&re(),e.charAt(s+1)){case"":var a=e.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:re()}o=s+2}return new Ie(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jA=function(e,t){this.seconds=e,this.nanoseconds=t},on=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};on.store="owner",on.key="owner";var Mr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Mr.store="mutationQueues",Mr.keyPath="userId";var Le=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Le.store="mutations",Le.keyPath="batchId",Le.userMutationsIndex="userMutationsIndex",Le.userMutationsKeyPath=["userId","batchId"];var kt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Dn(n)]},e.key=function(t,n,r){return[t,Dn(n),r]},e}();kt.store="documentMutations",kt.PLACEHOLDER=new kt;var OA=function(e,t){this.path=e,this.readTime=t},AA=function(e,t){this.path=e,this.version=t},Ge=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ge.store="remoteDocuments",Ge.readTimeIndex="readTimeIndex",Ge.readTimeIndexPath="readTime",Ge.collectionReadTimeIndex="collectionReadTimeIndex",Ge.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(e){this.byteSize=e};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var Yt=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Yt.store="targets",Yt.keyPath="targetId",Yt.queryTargetsIndexName="queryTargetsIndex",Yt.queryTargetsKeyPath=["canonicalId","targetId"];var vt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};vt.store="targetDocuments",vt.keyPath=["targetId","path"],vt.documentTargetsIndex="documentTargetsIndex",vt.documentTargetsKeyPath=["path","targetId"];var sn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sn.key="targetGlobalKey",sn.store="targetGlobal";var bi=function(e,t){this.collectionId=e,this.parent=t};bi.store="collectionParents",bi.keyPath=["collectionId","parent"];var ar=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ar.store="clientMetadata",ar.keyPath="clientId";var qo=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};qo.store="bundles",qo.keyPath="bundleId";var zo=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};zo.store="namedQueries",zo.keyPath="name";var DA=Be(Be([],Be(Be([],Be(Be([],Be(Be([],[Mr.store,Le.store,kt.store,Ge.store,Yt.store,on.store,sn.store,vt.store]),[ar.store])),[Vn.store])),[bi.store])),[qo.store,zo.store]),SE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",EE=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),nn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&n()},function(u){return r(u)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(a){return a?e.resolve(a):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),TE=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new nn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new pa(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=xg(i.target.error);r.ft.reject(new pa(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new pa(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(G("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new LA(n)},e}(),Ho=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ki())===12.2&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return G("SimpleDb","Removing database:",t),ai(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ki(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=WO)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return _(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(G("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var l=u.target.result;o(l)},a.onblocked=function(){s(new pa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var l=u.target.error;l.name==="VersionError"?s(new F(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new pa(t,l))},a.onupgradeneeded=function(u){G("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var l=u.target.result;r.wt.Rt(l,a.transaction,u.oldVersion,r.version).next(function(){G("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return _(this,void 0,void 0,function(){var o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:o=n==="readonly",s=0,a=function(){var h,f,p,y,w;return N(this,function(g){switch(g.label){case 0:++s,g.label=1;case 1:return g.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=g.sent(),h=TE.open(u.db,t,o?"readonly":"readwrite",r),f=i(h).catch(function(m){return h.abort(m),V.reject(m)}).toPromise(),p={},f.catch(function(){}),[4,h.dt];case 3:return[2,(p.value=(g.sent(),f),p)];case 4:return y=g.sent(),w=y.name!=="FirebaseError"&&s<3,G("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),u.close(),w?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),RA=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ai(this.Pt.delete())},e}(),pa=function(e){function t(n,r){var i=this;return(i=e.call(this,C.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ae(t,e),t}(F);function Hi(e){return e.name==="IndexedDbTransactionError"}var LA=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ai(r)},e.prototype.add=function(t){return G("SimpleDb","ADD",this.store.name,t,t),ai(this.store.add(t))},e.prototype.get=function(t){var n=this;return ai(this.store.get(t)).next(function(r){return r===void 0&&(r=null),G("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return G("SimpleDb","DELETE",this.store.name,t),ai(this.store.delete(t))},e.prototype.count=function(){return G("SimpleDb","COUNT",this.store.name),ai(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){G("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new V(function(r,i){n.onerror=function(o){var s=xg(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var a=s.target.result;if(a){var u=new RA(a),l=n(a.primaryKey,a.value,u);if(l instanceof V){var c=l.catch(function(h){return u.done(),V.reject(h)});r.push(c)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ai(e){return new V(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=xg(r.target.error);n(i)}})}var D0=!1;function xg(e){var t=Ho._t(ki());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return D0||(D0=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R0=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return ae(t,e),t}(EE);function rn(e,t){var n=W(e);return Ho.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sg=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&cA(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&ep(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&ep(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ye.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Oe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,function(n,r){return x0(n,r)})&&Lo(this.baseMutations,t.baseMutations,function(n,r){return x0(n,r)})},e}(),FA=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){le(t.mutations.length===r.length);for(var i=gA(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),Pf=function(){function e(t,n,r,i,o,s,a){o===void 0&&(o=ye.min()),s===void 0&&(s=ye.min()),a===void 0&&(a=tn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),IE=function(e){this.Lt=e};function rp(e,t){if(t.document)return TA(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=oe.fromSegments(t.noDocument.path),r=Wo(t.noDocument.readTime),i=Dt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=oe.fromSegments(t.unknownDocument.path);return r=Wo(t.unknownDocument.version),Dt.newUnknownDocument(o,r)}return re()}function L0(e,t,n){var r=Eg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(h,f){return{name:Ba(h,f.key),fields:f.data.value.mapValue.fields,updateTime:Va(h,f.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Ge(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Go(t.version);return s=t.hasCommittedMutations,new Ge(null,new OA(a,u),null,s,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Go(t.version);return new Ge(new AA(l,c),null,null,!0,r,i)}return re()}function Eg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kE(e){var t=new en(e[0],e[1]);return ye.fromTimestamp(t)}function Go(e){var t=e.toTimestamp();return new jA(t.seconds,t.nanoseconds)}function Wo(e){var t=new en(e.seconds,e.nanoseconds);return ye.fromTimestamp(t)}function oo(e,t){for(var n=(t.baseMutations||[]).map(function(u){return P0(e.Lt,u)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(u){return P0(e.Lt,u)}),a=en.fromMillis(t.localWriteTimeMs);return new Sg(t.batchId,a,n,s)}function Ks(e){var t,n,r=Wo(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Wo(e.lastLimboFreeSnapshotVersion):ye.min();return e.query.documents!==void 0?(le((n=e.query).documents.length===1),t=Kn(yu(mE(n.documents[0])))):t=function(o){return Kn(wE(o))}(e.query),new Pf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tn.fromBase64String(e.resumeToken))}function CE(e,t){var n,r=Go(t.snapshotVersion),i=Go(t.lastLimboFreeSnapshotVersion);n=ic(t.target)?yE(e.Lt,t.target):vE(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Yt(t.targetId,gu(t.target),r,o,t.sequenceNumber,i,n)}function NE(e){var t=wE({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?JS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MA=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return F0(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Wo(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return F0(t).put({bundleId:(r=n).id,createTime:Go(qt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return M0(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:NE(i.bundledQuery),readTime:Wo(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return M0(t).put(function(r){return{name:r.name,readTime:Go(qt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function F0(e){return rn(e,qo.store)}function M0(e){return rn(e,zo.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $A=function(){function e(){this.Bt=new Tg}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),Tg=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new it(Ie.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new it(Ie.comparator)).toArray()},e}(),UA=function(){function e(){this.qt=new Tg}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:Dn(o)};return $0(t).put(s)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[zS(n),""],!1,!0);return $0(t).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==n)break;r.push(ir(u.parent))}return r})},e}();function $0(e){return rn(e,bi.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fn=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e,t,n){var r=e.store(Le.store),i=e.store(kt.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(y,w,g){return a++,g.delete()});o.push(u.next(function(){le(a===1)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],p=kt.key(t,f.key.path,n.batchId);o.push(i.delete(p)),l.push(f.key)}return V.waitFor(o).next(function(){return l})}function uc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw re();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);var VA=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return le(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vr(t).$t({index:Le.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=so(t),a=vr(t);return a.add({}).next(function(u){le(typeof u=="number");for(var l=new Sg(u,n,r,i),c=function(m,v,b){var x=b.baseMutations.map(function(S){return ac(m.Lt,S)}),T=b.mutations.map(function(S){return ac(m.Lt,S)});return new Le(v,b.batchId,b.localWriteTime.toMillis(),x,T)}(o.R,o.userId,l),h=[],f=new it(function(m,v){return be(m.canonicalString(),v.canonicalString())}),p=0,y=i;p<y.length;p++){var w=y[p],g=kt.key(o.userId,w.key.path,u);f=f.add(w.key.path.popLast()),h.push(a.put(c)),h.push(s.put(g,kt.PLACEHOLDER))}return f.forEach(function(m){h.push(o.Ut.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(function(){o.Kt[u]=l.keys()}),V.waitFor(h).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return vr(t).get(n).next(function(i){return i?(le(i.userId===r.userId),oo(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?V.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return vr(t).$t({index:Le.userMutationsIndex,range:o},function(a,u,l){u.userId===r.userId&&(le(u.batchId>=i),s=oo(r.R,u)),l.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return vr(t).$t({index:Le.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vr(t).Nt(Le.userMutationsIndex,r).next(function(i){return i.map(function(o){return oo(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=kt.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return so(t).$t({range:o},function(a,u,l){var c=a[0],h=a[1],f=a[2],p=ir(h);if(c===r.userId&&n.path.isEqual(p))return vr(t).get(f).next(function(y){if(!y)throw re();le(y.userId===r.userId),s.push(oo(r.R,y))});l.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new it(be),o=[];return n.forEach(function(s){var a=kt.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),l=so(t).$t({range:u},function(c,h,f){var p=c[0],y=c[1],w=c[2],g=ir(y);p===r.userId&&s.path.isEqual(g)?i=i.add(w):f.done()});o.push(l)}),V.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=kt.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new it(be);return so(t).$t({range:a},function(l,c,h){var f=l[0],p=l[1],y=l[2],w=ir(p);f===r.userId&&i.isPrefixOf(w)?w.length===o&&(u=u.add(y)):h.done()}).next(function(){return r.Wt(t,u)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(vr(t).get(s).next(function(a){if(a===null)throw re();le(a.userId===r.userId),i.push(oo(r.R,a))}))}),V.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return _E(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var i=IDBKeyRange.lowerBound(kt.prefixForUser(n.userId)),o=[];return so(t).$t({range:i},function(s,a,u){if(s[0]===n.userId){var l=ir(s[1]);o.push(l)}else u.done()}).next(function(){le(o.length===0)})})},e.prototype.containsKey=function(t,n){return PE(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return jE(t).get(this.userId).next(function(r){return r||new Mr(n.userId,-1,"")})},e}();function PE(e,t,n){var r=kt.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return so(e).$t({range:o,Ft:!0},function(a,u,l){var c=a[0],h=a[1];a[2],c===t&&h===i&&(s=!0),l.done()}).next(function(){return s})}function vr(e){return rn(e,Le.store)}function so(e){return rn(e,kt.store)}function jE(e){return rn(e,Mr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),BA=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new lc(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ye.fromTimestamp(new en(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Zi(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return le(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return Zi(t).$t(function(a,u){var l=Ks(u);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(t,l)))}).next(function(){return V.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return Zi(t).$t(function(r,i){var o=Ks(i);n(o)})},e.prototype.Xt=function(t){return V0(t).get(sn.key).next(function(n){return le(n!==null),n})},e.prototype.Zt=function(t,n){return V0(t).put(sn.key,n)},e.prototype.te=function(t,n){return Zi(t).put(CE(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=gu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Zi(t).$t({range:i,index:Yt.queryTargetsIndexName},function(s,a,u){var l=Ks(a);kf(n,l.target)&&(o=l,u.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Tr(t);return n.forEach(function(a){var u=Dn(a.path);o.push(s.put(new vt(r,u))),o.push(i.referenceDelegate.addReference(t,r,a))}),V.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Tr(t);return V.forEach(n,function(s){var a=Dn(s.path);return V.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Tr(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Tr(t),o=Oe();return i.$t({range:r,Ft:!0},function(s,a,u){var l=ir(s[1]),c=new oe(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=Dn(n.path),i=IDBKeyRange.bound([r],[zS(r)],!1,!0),o=0;return Tr(t).$t({index:vt.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var l=s[0];s[1],l!==0&&(o++,u.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return Zi(t).get(n).next(function(r){return r?Ks(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){return rn(e,Yt.store)}function V0(e){return rn(e,sn.store)}function Tr(e){return rn(e,vt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e){return _(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==C.FAILED_PRECONDITION||e.message!==SE)throw e;return G("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=be(n,i);return s===0?be(r,o):s}var qA=function(){function e(t){this.ne=t,this.buffer=new it(B0),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();B0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),zA=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;G("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return _(n,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Hi(i=o.sent())?(G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Gi(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),HA=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(ln.o);var i=new qA(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(U0)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),U0):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,a,u,l,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(f){return f>c.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+f),i=c.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),c.nthSequenceNumber(t,i)}).next(function(f){return r=f,a=Date.now(),c.removeTargets(t,r,n)}).next(function(f){return o=f,u=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(f){return l=Date.now(),Xd()<=Te.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-h)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+f+" documents in "+(l-u)+`ms
Total Duration: `+(l-h)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})})},e}(),GA=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new HA(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Ku(t,r)},e.prototype.removeReference=function(t,n,r){return Ku(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ku(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return jE(r).Ot(function(s){return PE(r,s,i).next(function(a){return a&&(o=!0),V.resolve(!a)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(a,u){if(u<=n){var l=r._e(t,a).next(function(c){if(!c)return s++,i.getEntry(t,a).next(function(){return i.removeEntry(a),Tr(t).delete([0,Dn(a.path)])})});o.push(l)}}).next(function(){return V.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Ku(t,n)},e.prototype.we=function(t,n){var r,i=Tr(t),o=ln.o;return i.$t({index:vt.documentTargetsIndex},function(s,a){var u=s[0];s[1];var l=a.path,c=a.sequenceNumber;u===0?(o!==ln.o&&n(new oe(ir(r)),o),o=c,r=l):o=ln.o}).next(function(){o!==ln.o&&n(new oe(ir(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ku(e,t){return Tr(e).put(function(n,r){return new vt(0,Dn(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,t))return u}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){qi(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];t(a,u)}})},e.prototype.isEmpty=function(){return HS(this.inner)},e}(),OE=function(){function e(){this.changes=new ps(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ye.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Dt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),WA=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return xr(t).put(Qu(n),r)},e.prototype.removeEntry=function(t,n){var r=xr(t),i=Qu(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return xr(t).get(Qu(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return xr(t).get(Qu(n)).next(function(i){return{document:r.ye(n,i),size:uc(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=An();return this.pe(t,n,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=An(),o=new Rt(oe.comparator);return this.pe(t,n,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,uc(a))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return xr(t).$t({range:i},function(a,u,l){for(var c=oe.fromSegments(a);s&&oe.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=An(),s=n.path.length+1,a={};if(r.isEqual(ye.min())){var u=n.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var l=n.path.toArray(),c=Eg(r);a.range=IDBKeyRange.lowerBound([l,c],!0),a.index=Ge.collectionReadTimeIndex}return xr(t).$t(a,function(h,f,p){if(h.length===s){var y=rp(i.R,f);n.path.isPrefixOf(y.key.path)?wu(n,y)&&(o=o.insert(y.key,y)):p.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new KA(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return q0(t).get(Vn.key).next(function(n){return le(!!n),n})},e.prototype.me=function(t,n){return q0(t).put(Vn.key,n)},e.prototype.ye=function(t,n){if(n){var r=rp(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ye.min()))return r}return Dt.newInvalidDocument(t)},e}(),KA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new ps(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return ae(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new it(function(a,u){return be(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var l=r.Ae.get(a);if(u.document.isValidDocument()){var c=L0(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var h=uc(c);o+=h-l,i.push(r.Ie.addEntry(n,a,c))}else if(o-=l,r.trackRemovals){var f=L0(r.Ie.R,Dt.newNoDocument(a,ye.min()),r.getReadTime(a));i.push(r.Ie.addEntry(n,a,f))}else i.push(r.Ie.removeEntry(n,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(n,a))}),i.push(this.Ie.updateMetadata(n,o)),V.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},t}(OE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(e){return rn(e,Vn.store)}function xr(e){return rn(e,Ge.store)}function Qu(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QA=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;le(r<i&&r>=0&&i<=11);var s=new TE("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(on.store)}(t),function(u){u.createObjectStore(Mr.store,{keyPath:Mr.keyPath}),u.createObjectStore(Le.store,{keyPath:Le.keyPath,autoIncrement:!0}).createIndex(Le.userMutationsIndex,Le.userMutationsKeyPath,{unique:!0}),u.createObjectStore(kt.store)}(t),z0(t),function(u){u.createObjectStore(Ge.store)}(t));var a=V.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(vt.store),u.deleteObjectStore(Yt.store),u.deleteObjectStore(sn.store)}(t),z0(t)),a=a.next(function(){return function(u){var l=u.store(sn.store),c=new sn(0,0,ye.min().toTimestamp(),0);return l.put(sn.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,l){return l.store(Le.store).Nt().next(function(c){u.deleteObjectStore(Le.store),u.createObjectStore(Le.store,{keyPath:Le.keyPath,autoIncrement:!0}).createIndex(Le.userMutationsIndex,Le.userMutationsKeyPath,{unique:!0});var h=l.store(Le.store),f=c.map(function(p){return h.put(p)});return V.waitFor(f)})}(t,s)})),a=a.next(function(){(function(u){u.createObjectStore(ar.store,{keyPath:ar.keyPath})})(t)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(Vn.store)}(t),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(t),function(u){var l=u.objectStore(Ge.store);l.createIndex(Ge.readTimeIndex,Ge.readTimeIndexPath,{unique:!1}),l.createIndex(Ge.collectionReadTimeIndex,Ge.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(qo.store,{keyPath:qo.keyPath})})(t),function(u){u.createObjectStore(zo.store,{keyPath:zo.keyPath})}(t)})),a},e.prototype.be=function(t){var n=0;return t.store(Ge.store).$t(function(r,i){n+=uc(i)}).next(function(){var r=new Vn(n);return t.store(Vn.store).put(Vn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Mr.store),i=t.store(Le.store);return r.Nt().next(function(o){return V.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(Le.userMutationsIndex,a).next(function(u){return V.forEach(u,function(l){le(l.userId===s.userId);var c=oo(n.R,l);return _E(t,s.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(vt.store),r=t.store(Ge.store);return t.store(sn.store).get(sn.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new Ie(s),l=function(c){return[0,Dn(c)]}(u);o.push(n.get(l).next(function(c){return c?V.resolve():function(h){return n.put(new vt(0,Dn(h),i.highestListenSequenceNumber))}(u)}))}).next(function(){return V.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(bi.store,{keyPath:bi.keyPath});var r=n.store(bi.store),i=new Tg,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:Dn(u)})}};return n.store(Ge.store).$t({Ft:!0},function(s,a){var u=new Ie(s);return o(u.popLast())}).next(function(){return n.store(kt.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var l=ir(u);return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Yt.store);return r.$t(function(i,o){var s=Ks(o),a=CE(n.R,s);return r.put(a)})},e}();function z0(e){e.createObjectStore(vt.store,{keyPath:vt.keyPath}).createIndex(vt.documentTargetsIndex,vt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Yt.store,{keyPath:Yt.keyPath}).createIndex(Yt.queryTargetsIndexName,Yt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(sn.store)}var Ah="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XA=function(){function e(t,n,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new F(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GA(this,i),this.Le=n+"main",this.R=new IE(u),this.Be=new Ho(this.Le,11,new QA(this.R)),this.qe=new BA(this.referenceDelegate,this.R),this.Ut=new UA,this.Ue=function(h,f){return new WA(h,f)}(this.R,this.Ut),this.Ke=new MA,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new F(C.FAILED_PRECONDITION,Ah);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new ln(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return _(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return _(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return _(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Xu(n).put(new ar(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Hi(n))return G("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Ls(t).get(on.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return Xu(t).delete(this.clientId)},e.prototype.nn=function(){return _(this,void 0,void 0,function(){var t,n,r,i,o=this;return N(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=rn(a,ar.store);return u.Nt().next(function(l){var c=o.rn(l,18e5),h=l.filter(function(f){return c.indexOf(f)===-1});return V.forEach(h,function(f){return u.delete(f.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):Ls(t).get(on.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new F(C.FAILED_PRECONDITION,Ah);return!1}}return!(!n.networkEnabled||!n.inForeground)||Xu(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,a=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&G("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return _(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[on.store,ar.store],function(r){var i=new R0(r,ln.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Xu(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return VA.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;G("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,DA,function(a){return o=new R0(a,i.Ne?i.Ne.next():ln.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw Ze("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new F(C.FAILED_PRECONDITION,SE);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},e.prototype.dn=function(t){var n=this;return Ls(t).get(on.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new F(C.FAILED_PRECONDITION,Ah)})},e.prototype.Ze=function(t){var n=new on(this.clientId,this.allowTabSynchronization,Date.now());return Ls(t).put(on.key,n)},e.yt=function(){return Ho.yt()},e.prototype.Xe=function(t){var n=this,r=Ls(t);return r.get(on.key).next(function(i){return n.tn(i)?(G("IndexedDbPersistence","Releasing primary lease."),r.delete(on.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ze("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),__()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return G("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ze("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ze("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Ls(e){return rn(e,on.store)}function Xu(e){return rn(e,ar.store)}function Ig(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var AE=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):gg(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new oe(n)).next(function(r){var i=tp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=tp();return this.Ut.getCollectionParents(t,o).next(function(a){return V.forEach(a,function(u){var l=function(c,h){return new pr(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(h,f){s=s.insert(h,f)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(a){return o=a,s.Rn(t,o,i).next(function(u){i=u;for(var l=0,c=o;l<c.length;l++)for(var h=c[l],f=0,p=h.mutations;f<p.length;f++){var y=p[f],w=y.key,g=i.get(w);g==null&&(g=Dt.newInvalidDocument(w),i=i.insert(w,g)),ep(y,g,h.localWriteTime),g.isFoundDocument()||(i=i.remove(w))}})}).next(function(){return i.forEach(function(a,u){wu(n,u)||(i=i.remove(a))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Oe(),o=0,s=n;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var l=u[a];l instanceof Jr&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(h){return h.forEach(function(f,p){p.isFoundDocument()&&(c=c.insert(f,p))}),c})},e}(),YA=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Oe(),i=Oe(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),DE=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var a=o.Cn(n,s);return(pl(n)||sc(n))&&o.Nn(n.limitType,a,i,r)?o.Dn(t,n):(Xd()<=Te.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zd(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(u){return a.forEach(function(l){u=u.insert(l.key,l)}),u}))})},e.prototype.Cn=function(t,n){var r=new it(eE(t));return n.forEach(function(i,o){wu(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Xd()<=Te.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Zd(n)),this.Sn.getDocumentsMatchingQuery(t,n,ye.min())},e}(),JA=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Rt(be),this.Fn=new ps(function(o){return gu(o)},kf),this.$n=ye.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new AE(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e,t,n,r){return new JA(e,t,n,r)}function LE(e,t){return _(this,void 0,void 0,function(){var n,r,i,o;return N(this,function(s){switch(s.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(a){var u;return n._n.getAllMutationBatches(a).next(function(l){return u=l,r=n.persistence.getMutationQueue(t),i=new AE(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(l){for(var c=[],h=[],f=Oe(),p=0,y=u;p<y.length;p++){var w=y[p];c.push(w.batchId);for(var g=0,m=w.mutations;g<m.length;g++){var v=m[g];f=f.add(v.key)}}for(var b=0,x=l;b<x.length;b++){var T=x[b];h.push(T.batchId);for(var S=0,k=T.mutations;S<k.length;S++){var P=k[S];f=f.add(P.key)}}return i.pn(a,f).next(function(D){return{Ln:D,removedBatchIds:c,addedBatchIds:h}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ZA(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){var c=u.batch,h=c.keys(),f=V.resolve();return h.forEach(function(p){f=f.next(function(){return l.getEntry(a,p)}).next(function(y){var w=u.docVersions.get(p);le(w!==null),y.version.compareTo(w)<0&&(c.applyToRemoteDocument(y,u),y.isValidDocument()&&l.addEntry(y,u.commitVersion))})}),f.next(function(){return s._n.removeMutationBatch(a,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function FE(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function eD(e,t){var n=W(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(c,h){var f=i.get(h);if(f){a.push(n.qe.removeMatchingKeys(o,c.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,h)}));var p=c.resumeToken;if(p.approximateByteSize()>0){var y=f.withResumeToken(p,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(h,y),function(w,g,m){return le(g.resumeToken.approximateByteSize()>0),w.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,y,c)&&a.push(n.qe.updateTargetData(o,y))}}});var u=An();if(t.documentUpdates.forEach(function(c,h){t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(tD(o,s,t.documentUpdates,r).next(function(c){u=c})),!r.isEqual(ye.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(l)}return V.waitFor(a).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.kn=i,o})}function tD(e,t,n,r,i){var o=Oe();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var a=An();return n.forEach(function(u,l){var c=s.get(u),h=r;l.isNoDocument()&&l.version.isEqual(ye.min())?(t.removeEntry(u,h),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,h),a=a.insert(u,l)):G("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}function nD(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function cc(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,V.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new Pf(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Ko(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s;return N(this,function(a){switch(a.label){case 0:r=W(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Hi(s=a.sent()))throw s;return G("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function fc(e,t,n){var r=W(e),i=ye.min(),o=Oe();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,l){var c=W(a),h=c.Fn.get(l);return h!==void 0?V.resolve(c.kn.get(h)):c.qe.getTargetData(u,l)}(r,s,Kn(t)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:ye.min(),n?o:Oe())}).next(function(a){return{documents:a,Bn:o}})})}function ME(e,t){var n=W(e),r=W(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function $E(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=W(r),a=An(),u=Eg(o),l=xr(i),c=IDBKeyRange.lowerBound(u,!0);return l.$t({index:Ge.readTimeIndex,range:c},function(h,f){var p=rp(s.R,f);a=a.insert(p.key,p),u=f.readTime}).next(function(){return{wn:a,readTime:kE(u)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function rD(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=xr(i),s=ye.min();return o.$t({index:Ge.readTimeIndex,reverse:!0},function(a,u,l){u.readTime&&(s=kE(u.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iD=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:qt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:NE(r.bundledQuery),readTime:qt(r.readTime)}}(n)),V.resolve()},e}(),kg=function(){function e(){this.Wn=new it(st.Gn),this.zn=new it(st.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new st(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new st(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new oe(new Ie([])),i=new st(r,t),o=new st(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(a){n.Yn(a),s.push(a.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new oe(new Ie([])),r=new st(n,t),i=new st(n,t+1),o=Oe();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new st(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),st=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return oe.comparator(t.key,n.key)||be(t.ns,n.ns)},e.Hn=function(t,n){return be(t.ns,n.ns)||oe.comparator(t.key,n.key)},e}(),oD=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new it(st.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new Sg(o,n,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var l=u[a];this.rs=this.rs.add(new st(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return V.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return V.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new st(n,0),o=new st(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),V.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new it(be);return n.forEach(function(o){var s=new st(o,0),a=new st(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),V.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));var s=new st(new oe(o),0),a=new it(be);return this.rs.forEachWhile(function(u){var l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ns)),!0)},s),V.resolve(this.us(a))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;le(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return V.forEach(n.mutations,function(o){var s=new st(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new st(n,0),i=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),sD=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Rt(oe.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():Dt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=An();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Dt.newInvalidDocument(o))}),V.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=An(),o=new oe(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,l=a.value,c=l.document,h=l.readTime;if(!n.path.isPrefixOf(u.path))break;h.compareTo(r)<=0||wu(n,c)&&(i=i.insert(c.key,c.clone()))}return V.resolve(i)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new aD(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),aD=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ae(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),V.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(OE),uD=function(){function e(t){this.persistence=t,this.ds=new ps(function(n){return gu(n)},kf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ws=0,this._s=new kg,this.targetCount=0,this.ys=lc.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new lc(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(t,u.targetId)),o++)}),V.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),V.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),lD=function(){function e(t,n){var r=this;this.gs={},this.Ne=new ln(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new uD(this),this.Ut=new $A,this.Ue=function(i,o){return new sD(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new IE(n),this.Ke=new iD(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new oD(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;G("MemoryPersistence","Starting transaction:",t);var o=new cD(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),cD=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ae(t,e),t}(EE),fD=function(){function e(t){this.persistence=t,this.As=new kg,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw re()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(i){var o=oe.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),mt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(e,t){return"firestore_clients_"+e+"_"+t}function G0(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Dh(e,t){return"firestore_targets_"+e+"_"+t}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var W0=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new F(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Ze("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Rh=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new F(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ze("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),K0=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=_f(),s=0;i&&s<r.activeTargetIds.length;++s)i=KS(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Ze("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),hD=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ze("SharedClientState","Failed to parse online state: "+t),null)},e}(),ip=function(){function e(){this.activeTargetIds=_f()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Lh=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Rt(be),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=H0(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new ip),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return _(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,l,c,h,f=this;return N(this,function(p){switch(p.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=p.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(H0(this.persistenceKey,i)))&&(s=K0.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)h=c[l],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Dh(this.persistenceKey,t));if(r){var i=Rh.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Dh(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return G("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){G("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){G("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(G("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return _(n,void 0,void 0,function(){var i,o,s,a,u,l;return N(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(l=function(h){var f=ln.o;if(h!=null)try{var p=JSON.parse(h);le(typeof p=="number"),f=p}catch(y){Ze("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(r.newValue))!==ln.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new W0(this.currentUser,t,n,r),o=G0(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=G0(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Dh(this.persistenceKey,t),o=new Rh(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return K0.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return W0.Vs(new mt(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Rh.Vs(i,n)},e.prototype.js=function(t){return hD.Vs(t)},e.prototype.ii=function(t){return _(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(G("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(l){o.has(l)||a.push(l)}),o.forEach(function(l){s.has(l)||u.push(l)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=_f();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),UE=function(){function e(){this.li=new ip,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new ip,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),dD=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Q0=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),pD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mD=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),gD=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return ae(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,a){var u=new GO;u.listenOnce(qO.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Oh.NO_ERROR:var c=u.getResponseJson();G("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Oh.TIMEOUT:G("Connection",'RPC "'+n+'" timed out'),a(new F(C.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:var h=u.getStatus();if(G("Connection",'RPC "'+n+'" failed with status:',h,"response text:",u.getResponseText()),h>0){var f=u.getResponseJson().error;if(f&&f.status&&f.message){var p=function(y){var w=y.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(w)>=0?w:C.UNKNOWN}(f.status);a(new F(p,f.message))}else a(new F(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(C.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{G("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);u.send(r,"POST",l,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=VO(),s=BO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new HO({})),this.ki(a.initMessageHeaders,r),E_()||I_()||k_()||C_()||N_()||Cm()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");G("Connection","Creating WebChannel: "+u,a);var l=o.createWebChannel(u,a),c=!1,h=!1,f=new mD({Ei:function(y){h?G("Connection","Not sending because WebChannel is closed:",y):(c||(G("Connection","Opening WebChannel transport."),l.open(),c=!0),G("Connection","WebChannel sending:",y),l.send(y))},Ti:function(){return l.close()}}),p=function(y,w,g){y.listen(w,function(m){try{g(m)}catch(v){setTimeout(function(){throw v},0)}})};return p(l,Gu.EventType.OPEN,function(){h||G("Connection","WebChannel transport opened.")}),p(l,Gu.EventType.CLOSE,function(){h||(h=!0,G("Connection","WebChannel transport closed"),f.Vi())}),p(l,Gu.EventType.ERROR,function(y){h||(h=!0,tc("Connection","WebChannel transport errored:",y),f.Vi(new F(C.UNAVAILABLE,"The operation could not be completed")))}),p(l,Gu.EventType.MESSAGE,function(y){var w;if(!h){var g=y.data[0];le(!!g);var m=g,v=m.error||((w=m[0])===null||w===void 0?void 0:w.error);if(v){G("Connection","WebChannel received error:",v);var b=v.status,x=function(S){var k=Ye[S];if(k!==void 0)return cE(k)}(b),T=v.message;x===void 0&&(x=C.INTERNAL,T="Unknown error status: "+b+" with message "+v.message),h=!0,f.Vi(new F(x,T)),l.close()}else G("Connection","WebChannel received:",g),f.Si(g)}}),p(s,zO.STAT_EVENT,function(y){y.stat===h0.PROXY?G("Connection","Detected buffering proxy"):y.stat===h0.NOPROXY&&G("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Pi()},0),f},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);G("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(a){return G("RestConnection","Received: ",a),a},function(a){throw tc("RestConnection",t+" failed with error: ",a,"url: ",o,"request:",r),a})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=pD[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return typeof window<"u"?window:null}function yl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(e){return new SA(e,!0)}var Cg=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&G("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),BE=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cg(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return _(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return _(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===C.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new F(C.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return _(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return G("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),yD=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return ae(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:re()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(g,m){return g.I?(le(m===void 0||typeof m=="string"),tn.fromBase64String(m||"")):(le(m===void 0||m instanceof Uint8Array),tn.fromUint8Array(m||new Uint8Array))}(o,s.targetChange.resumeToken),h=(f=s.targetChange.cause)&&function(g){var m=g.code===void 0?C.UNKNOWN:cE(g.code);return new F(m,g.message||"")}(f);a=new hE(u,l,c,h||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,l=sr(o,u.document.name),c=qt(u.document.updateTime);var f=new an({mapValue:{fields:u.document.fields}}),p=(h=Dt.newFoundDocument(l,c,f),u.targetIds||[]),y=u.removedTargetIds||[];a=new gl(p,y,h.key,h)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,l=sr(o,u.document),c=u.readTime?qt(u.readTime):ye.min(),f=Dt.newNoDocument(l,c),h=u.removedTargetIds||[],a=new gl([],h,f.key,f);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,l=sr(o,u.document),c=u.removedTargetIds||[],a=new gl([],c,l,null);else{if(!("filter"in s))return re();s.filter;var w=s.filter;w.targetId,u=w.count||0,l=new hA(u),c=w.targetId,a=new fE(c,l)}return a}(this.R,n),i=function(o){if(!("targetChange"in o))return ye.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?qt(s.readTime):ye.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=qa(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=ic(u)?{documents:yE(o,u)}:{query:vE(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=dE(o,s.resumeToken):s.snapshotVersion.compareTo(ye.min())>0&&(a.readTime=Va(o,s.snapshotVersion.toTimestamp())),a}(this.R,n);var i=function(o,s){var a=function(u,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return re()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=qa(this.R),r.removeTarget=n,this.cr(r)},t}(BE),vD=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return ae(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(le(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(le(s!==void 0),o.map(function(a){return function(u,l){var c=u.updateTime?qt(u.updateTime):qt(l);return c.isEqual(ye.min())&&(c=qt(l)),new lA(c,u.transformResults||[])}(a,s)})):[]}(n.writeResults,n.commitTime),i=qt(n.commitTime);return this.listener.Tr(i,r)}return le(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=qa(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return ac(r.R,o)})};this.cr(i)},t}(BE),wD=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return ae(t,e),t.prototype.br=function(){if(this.Rr)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new F(C.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new F(C.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),bD=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ze(n),this.Vr=!1):G("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),xD=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return _(o,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return Zr(this)?(G("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return _(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=W(u)).Or.add(4),[4,ms(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,Eu(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new bD(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!Zr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ms(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Of(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Pg(n)?_g(n):ys(n).er()&&Ng(n,t))}function za(e,t){var n=W(e),r=ys(n);n.$r.delete(t),r.er()&&qE(n,t),n.$r.size===0&&(r.er()?r.ir():Zr(n)&&n.Br.set("Unknown"))}function Ng(e,t){e.qr.U(t.targetId),ys(e).mr(t)}function qE(e,t){e.qr.U(t),ys(e).yr(t)}function _g(e){e.qr=new wA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),ys(e).start(),e.Br.Sr()}function Pg(e){return Zr(e)&&!ys(e).tr()&&e.$r.size>0}function Zr(e){return W(e).Or.size===0}function zE(e){e.qr=void 0}function SD(e){return _(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){Ng(e,n)}),[2]})})}function ED(e,t){return _(this,void 0,void 0,function(){return N(this,function(n){return zE(e),Pg(e)?(e.Br.Nr(t),_g(e)):e.Br.set("Unknown"),[2]})})}function TD(e,t,n){return _(this,void 0,void 0,function(){var r,i,o;return N(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof hE&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return _(this,void 0,void 0,function(){var l,c,h,f;return N(this,function(p){switch(p.label){case 0:l=u.cause,c=0,h=u.targetIds,p.label=1;case 1:return c<h.length?(f=h[c],a.$r.has(f)?[4,a.remoteSyncer.rejectListen(f,l)]:[3,3]):[3,5];case 2:p.sent(),a.$r.delete(f),a.qr.removeTarget(f),p.label=3;case 3:p.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,hc(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof gl?e.qr.X(t):t instanceof fE?e.qr.rt(t):e.qr.et(t),n.isEqual(ye.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,FE(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(a,u){var l=a.qr.ut(u);return l.targetChanges.forEach(function(c,h){if(c.resumeToken.approximateByteSize()>0){var f=a.$r.get(h);f&&a.$r.set(h,f.withResumeToken(c.resumeToken,u))}}),l.targetMismatches.forEach(function(c){var h=a.$r.get(c);if(h){a.$r.set(c,h.withResumeToken(tn.EMPTY_BYTE_STRING,h.snapshotVersion)),qE(a,c);var f=new Pf(h.target,c,1,h.sequenceNumber);Ng(a,f)}}),a.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return G("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,hc(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function hc(e,t,n){return _(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Hi(t))throw t;return e.Or.add(1),[4,ms(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return FE(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return _(r,void 0,void 0,function(){return N(this,function(o){switch(o.label){case 0:return G("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,Eu(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function HE(e,t){return t().catch(function(n){return hc(e,n,t)})}function gs(e){return _(this,void 0,void 0,function(){var t,n,r,i,o;return N(this,function(s){switch(s.label){case 0:t=W(e),n=Gr(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return Zr(a)&&a.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,nD(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var l=Gr(a);l.er()&&l.pr&&l.Er(u.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,hc(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return GE(t)&&WE(t),[2]}})})}function GE(e){return Zr(e)&&!Gr(e).tr()&&e.Fr.length>0}function WE(e){Gr(e).start()}function ID(e){return _(this,void 0,void 0,function(){return N(this,function(t){return Gr(e).Ar(),[2]})})}function kD(e){return _(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(o){for(t=Gr(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function CD(e,t,n){return _(this,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=FA.from(r,t,n),[4,HE(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,gs(e)];case 2:return o.sent(),[2]}})})}function ND(e,t){return _(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&Gr(e).pr?[4,function(r,i){return _(this,void 0,void 0,function(){var o,s;return N(this,function(a){switch(a.label){case 0:return lE(s=i.code)&&s!==C.ABORTED?(o=r.Fr.shift(),Gr(r).sr(),[4,HE(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,gs(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return GE(e)&&WE(e),[2]}})})}function op(e,t){return _(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,Eu(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,ms(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ys(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=W(n);return o.br(),new yD(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:SD.bind(null,e),Ri:ED.bind(null,e),_r:TD.bind(null,e)}),e.Mr.push(function(n){return _(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Pg(e)?_g(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),zE(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Gr(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=W(n);return o.br(),new vD(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:ID.bind(null,e),Ri:ND.bind(null,e),Ir:kD.bind(null,e),Tr:CD.bind(null,e)}),e.Mr.push(function(n){return _(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,gs(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(G("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var _D=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function vs(e,t){if(Ze("AsyncQueue",t+": "+e),Hi(e))return new F(C.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KE=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||oe.comparator(n.key,r.key)}:function(n,r){return oe.comparator(n.key,r.key)},this.keyedMap=tp(),this.sortedSet=new Rt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),X0=function(){function e(){this.Qr=new Rt(oe.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):re():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),dc=function(){function e(t,n,r,i,o,s,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,KE.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),PD=function(){this.Wr=void 0,this.listeners=[]},jD=function(){this.queries=new ps(function(e){return ZS(e)},vu),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:if(n=W(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new PD),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return a=l.sent(),u=vs(a,"Initialization of query '"+Zd(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ag(n),[2]}})})}function Og(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s;return N(this,function(a){return n=W(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function OD(e,t){for(var n=W(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&Ag(n)}function AD(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function Ag(e){e.Gr.forEach(function(t){t.next()})}var Dg=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new dc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=dc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QE=function(e){this.key=e},XE=function(e){this.key=e},YE=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Oe(),this.mutatedKeys=Oe(),this.lo=eE(t),this.fo=new KE(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new X0,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,a=o,u=!1,l=pl(this.query)&&o.size===this.query.limit?o.last():null,c=sc(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(f,p){var y=o.get(f),w=wu(r.query,p)?p:null,g=!!y&&r.mutatedKeys.has(y.key),m=!!w&&(w.hasLocalMutations||r.mutatedKeys.has(w.key)&&w.hasCommittedMutations),v=!1;y&&w?y.data.isEqual(w.data)?g!==m&&(i.track({type:3,doc:w}),v=!0):r.yo(y,w)||(i.track({type:2,doc:w}),v=!0,(l&&r.lo(w,l)>0||c&&r.lo(w,c)<0)&&(u=!0)):!y&&w?(i.track({type:0,doc:w}),v=!0):y&&!w&&(i.track({type:1,doc:y}),v=!0,(l||c)&&(u=!0)),v&&(w?(a=a.add(w),s=m?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),pl(this.query)||sc(this.query))for(;a.size>this.query.limit;){var h=pl(this.query)?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(c,h){return function(f,p){var y=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return y(f)-y(p)}(c.type,h.type)||i.lo(c.doc,h.doc)}),this.po(r);var a=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,l=u!==this.ao;return this.ao=u,s.length!==0||l?{snapshot:new dc(this.query,t.fo,o,s,t.mutatedKeys,u===0,l,!1),To:a}:{To:a}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new X0,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Oe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new XE(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new QE(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Oe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return dc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),DD=function(e,t,n){this.query=e,this.targetId=t,this.view=n},RD=function(e){this.key=e,this.bo=!1},LD=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new ps(function(a){return ZS(a)},vu),this.Vo=new Map,this.So=new Set,this.Do=new Rt(oe.comparator),this.Co=new Map,this.No=new kg,this.xo={},this.ko=new Map,this.Fo=lc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function FD(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return N(this,function(u){switch(u.label){case 0:return n=$g(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,cc(n.localStore,Kn(t))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Rg(n,t,r,a==="current")];case 3:i=u.sent(),n.isPrimaryClient&&Of(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function Rg(e,t,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:return e.Oo=function(h,f,p){return function(y,w,g,m){return _(this,void 0,void 0,function(){var v,b,x;return N(this,function(T){switch(T.label){case 0:return v=w.view._o(g),v.Nn?[4,fc(y.localStore,w.query,!1).then(function(S){var k=S.documents;return w.view._o(k,v)})]:[3,2];case 1:v=T.sent(),T.label=2;case 2:return b=m&&m.targetChanges.get(w.targetId),x=w.view.applyChanges(v,y.isPrimaryClient,b),[2,(sp(y,w.targetId,x.To),x.snapshot)]}})})}(e,h,f,p)},[4,fc(e.localStore,t,!0)];case 1:return i=c.sent(),o=new YE(t,i.Bn),s=o._o(i.documents),a=wg.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=o.applyChanges(s,e.isPrimaryClient,a),sp(e,n,u.To),l=new DD(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function MD(e,t){return _(this,void 0,void 0,function(){var n,r,i;return N(this,function(o){switch(o.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!vu(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ko(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),za(n.remoteStore,r.targetId),Qo(n,r.targetId)}).catch(Gi)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Qo(n,r.targetId),[4,Ko(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function $D(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s;return N(this,function(a){switch(a.label){case 0:r=Ug(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,l){var c,h=W(u),f=en.now(),p=l.reduce(function(y,w){return y.add(w.key)},Oe());return h.persistence.runTransaction("Locally write mutations","readwrite",function(y){return h.Mn.pn(y,p).next(function(w){c=w;for(var g=[],m=0,v=l;m<v.length;m++){var b=v[m],x=fA(b,c.get(b.key));x!=null&&g.push(new Jr(b.key,x,QS(x.value.mapValue),_t.exists(!0)))}return h._n.addMutationBatch(y,f,g,l)})}).then(function(y){return y.applyToLocalDocumentSet(c),{batchId:y.batchId,changes:c}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,l,c){var h=u.xo[u.currentUser.toKey()];h||(h=new Rt(be)),h=h.insert(l,c),u.xo[u.currentUser.toKey()]=h}(r,i.batchId,n),[4,ei(r,i.changes)];case 3:return a.sent(),[4,gs(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=vs(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function JE(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,eD(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var a=n.Co.get(s);a&&(le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?le(a.bo):o.removedDocuments.size>0&&(le(a.bo),a.bo=!1))}),[4,ei(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Y0(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(t);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=W(o);a.onlineState=s;var u=!1;a.queries.forEach(function(l,c){for(var h=0,f=c.listeners;h<f.length;h++)f[h].zr(s)&&(u=!0)}),u&&Ag(a)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function UD(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Rt(oe.comparator)).insert(o,Dt.newNoDocument(o,ye.min())),a=Oe().add(o),u=new vg(ye.min(),new Map,new it(be),s,a),[4,JE(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Mg(r),[3,4];case 2:return[4,Ko(r.localStore,t,!1).then(function(){return Qo(r,t,n)}).catch(Gi)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function VD(e,t){return _(this,void 0,void 0,function(){var n,r,i;return N(this,function(o){switch(o.label){case 0:n=W(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ZA(n.localStore,t)];case 2:return i=o.sent(),Fg(n,r,null),Lg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ei(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function BD(e,t,n){return _(this,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:r=W(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=W(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return u._n.lookupMutationBatch(l,a).next(function(h){return le(h!==null),c=h.keys(),u._n.removeMutationBatch(l,h)}).next(function(){return u._n.performConsistencyCheck(l)}).next(function(){return u.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Fg(r,t,n),Lg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ei(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qD(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s;return N(this,function(a){switch(a.label){case 0:Zr((n=W(e)).remoteStore)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var l=W(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=a.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=vs(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function Lg(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Fg(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Qo(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||ZE(e,s)})}function ZE(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(za(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Mg(e))}function sp(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof QE?(e.No.addReference(o.key,t),zD(e,o)):o instanceof XE?(G("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ZE(e,o.key)):re()}}function zD(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(G("SyncEngine","New document in limbo: "+n),e.So.add(r),Mg(e))}function Mg(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new oe(Ie.fromString(t)),r=e.Fo.next();e.Co.set(r,new RD(n)),e.Do=e.Do.insert(n,r),Of(e.remoteStore,new Pf(Kn(yu(n.path)),r,2,ln.o))}}function ei(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s;return N(this,function(a){switch(a.label){case 0:return r=W(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,l){s.push(r.Oo(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var h=YA.Pn(l.targetId,c);o.push(h)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,l){return _(this,void 0,void 0,function(){var c,h,f,p,y,w,g,m,v;return N(this,function(b){switch(b.label){case 0:c=W(u),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(x){return V.forEach(l,function(T){return V.forEach(T.bn,function(S){return c.persistence.referenceDelegate.addReference(x,T.targetId,S)}).next(function(){return V.forEach(T.vn,function(S){return c.persistence.referenceDelegate.removeReference(x,T.targetId,S)})})})})];case 2:return b.sent(),[3,4];case 3:if(!Hi(h=b.sent()))throw h;return G("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(f=0,p=l;f<p.length;f++)y=p[f],w=y.targetId,y.fromCache||(g=c.kn.get(w),m=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(m),c.kn=c.kn.insert(w,v));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function HD(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(G("SyncEngine","User change. New user:",t.toKey()),[4,LE(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new F(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ei(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function GD(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return Oe().add(r.key);var i=Oe(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function WD(e,t){return _(this,void 0,void 0,function(){var n,r,i;return N(this,function(o){switch(o.label){case 0:return[4,fc((n=W(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&sp(n,t.targetId,i.To),i)]}})})}function KD(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,$E((t=W(e)).localStore).then(function(r){return ei(t,r)})]})})}function QD(e,t,n,r){return _(this,void 0,void 0,function(){var i,o;return N(this,function(s){switch(s.label){case 0:return[4,function(a,u){var l=W(a),c=W(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return c.jt(h,u).next(function(f){return f?l.Mn.pn(h,f):V.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,gs(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Fg(i,t,r||null),Lg(i,t),function(a,u){W(W(a)._n).Gt(u)}(i.localStore,t)):re(),s.label=4;case 4:return[4,ei(i,o)];case 5:return s.sent(),[3,7];case 6:G("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function XD(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:return $g(n=W(e)),Ug(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,J0(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,op(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],Of(n.remoteStore,a);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach(function(h,f){n.sharedClientState.isLocalQueryTarget(f)?u.push(f):l=l.then(function(){return Qo(n,f),Ko(n.localStore,f,!0)}),za(n.remoteStore,f)}),[4,l]);case 4:return c.sent(),[4,J0(n,u)];case 5:return c.sent(),function(h){var f=W(h);f.Co.forEach(function(p,y){za(f.remoteStore,y)}),f.No.ts(),f.Co=new Map,f.Do=new Rt(oe.comparator)}(n),n.$o=!1,[4,op(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function J0(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,h,f,p,y,w,g;return N(this,function(m){switch(m.label){case 0:r=W(e),i=[],o=[],s=0,a=t,m.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=r.Vo.get(u))&&c.length!==0?[4,cc(r.localStore,Kn(c[0]))]:[3,7]):[3,13];case 2:l=m.sent(),h=0,f=c,m.label=3;case 3:return h<f.length?(p=f[h],y=r.Po.get(p),[4,WD(r,y)]):[3,6];case 4:(w=m.sent()).snapshot&&o.push(w.snapshot),m.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ME(r.localStore,u)];case 8:return g=m.sent(),[4,cc(r.localStore,g)];case 9:return l=m.sent(),[4,Rg(r,eT(g),u,!1)];case 10:m.sent(),m.label=11;case 11:i.push(l),m.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function eT(e){return YS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function YD(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function JD(e,t,n,r){return _(this,void 0,void 0,function(){var i,o,s;return N(this,function(a){switch(a.label){case 0:return(i=W(e)).$o?(G("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$E(i.localStore)];case 3:return o=a.sent(),s=vg.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ei(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ko(i.localStore,t,!0)];case 6:return a.sent(),Qo(i,t,r),[3,8];case 7:re(),a.label=8;case 8:return[2]}})})}function ZD(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,h,f;return N(this,function(p){switch(p.label){case 0:if(!(r=$g(e)).$o)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(G("SyncEngine","Adding an already active target "+s),[3,5]):[4,ME(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,cc(r.localStore,a)];case 3:return u=p.sent(),[4,Rg(r,eT(a),u.targetId,!1)];case 4:p.sent(),Of(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:l=function(y){return N(this,function(w){switch(w.label){case 0:return r.Vo.has(y)?[4,Ko(r.localStore,y,!1).then(function(){za(r.remoteStore,y),Qo(r,y)}).catch(Gi)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},c=0,h=n,p.label=7;case 7:return c<h.length?(f=h[c],[5,l(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function $g(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UD.bind(null,t),t.vo._r=OD.bind(null,t.eventManager),t.vo.Mo=AD.bind(null,t.eventManager),t}function Ug(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,t),t}var tT=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return _(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return RE(this.persistence,new DE,t.initialUser,this.R)},e.prototype.qo=function(t){return new lD(fD.bs,this.R)},e.prototype.Bo=function(t){return new UE},e.prototype.terminate=function(){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),nT=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return ae(t,e),t.prototype.initialize=function(n){return _(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,rD(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Ug(this.Qo.syncEngine)];case 4:return i.sent(),[4,gs(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return RE(this.persistence,new DE,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new zA(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Ig(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new XA(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,VE(),yl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new UE},t}(tT),eR=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ae(t,e),t.prototype.initialize=function(n){return _(this,void 0,void 0,function(){var r,i=this;return N(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Lh?(this.sharedClientState.syncEngine={ui:QD.bind(null,r),ai:JD.bind(null,r),hi:ZD.bind(null,r),fn:YD.bind(null,r),ci:KD.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return _(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return[4,XD(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=VE();if(!Lh.yt(r))throw new F(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Ig(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Lh(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(nT),ap=function(){function e(){}return e.prototype.initialize=function(t,n){return _(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return Y0(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),[4,op(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new jD},e.prototype.createDatastore=function(t){var n,r=jf(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new gD(n));return function(o,s,a){return new wD(o,s,a)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,a=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(u){return Y0(a.syncEngine,u,0)},s=Q0.yt()?new Q0:new dD,new xD(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,a,u,l){var c=new LD(r,i,o,s,a,u);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return _(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(t),G("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,ms(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Af=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),tR=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return _(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new F(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return _(this,void 0,void 0,function(){var a,u,l,c,h,f;return N(this,function(p){switch(p.label){case 0:return a=W(o),u=qa(a.R)+"/documents",l={documents:s.map(function(y){return Ba(a.R,y)})},[4,a.$i("BatchGetDocuments",u,l)];case 1:return c=p.sent(),h=new Map,c.forEach(function(y){var w=function(g,m){return"found"in m?function(v,b){le(!!b.found),b.found.name,b.found.updateTime;var x=sr(v,b.found.name),T=qt(b.found.updateTime),S=new an({mapValue:{fields:b.found.fields}});return Dt.newFoundDocument(x,T,S)}(g,m):"missing"in m?function(v,b){le(!!b.missing),le(!!b.readTime);var x=sr(v,b.missing),T=qt(b.readTime);return Dt.newNoDocument(x,T)}(g,m):re()}(a.R,y);h.set(w.key.toString(),w)}),f=[],[2,(s.forEach(function(y){var w=h.get(y.toString());le(!!w),f.push(w)}),f)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Su(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return _(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=oe.fromPath(o);n.mutations.push(new yg(s,n.precondition(s)))}),[4,function(i,o){return _(this,void 0,void 0,function(){var s,a,u;return N(this,function(l){switch(l.label){case 0:return s=W(i),a=qa(s.R)+"/documents",u={writes:o.map(function(c){return ac(s.R,c)})},[4,s.Ni("Commit",a,u)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw re();n=ye.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new F(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?_t.updateTime(n):_t.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ye.min()))throw new F(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _t.updateTime(n)}return _t.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),nR=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Cg(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return _(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(o){return n=new tR(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!zi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!lE(n)}return!1},e}(),rR=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=mt.UNAUTHENTICATED,this.clientId=qS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return _(i,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return G("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return _(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return _(t,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=vs(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(e,t){return _(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return _(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,LE(t.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function iT(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Vg(e)];case 1:return n=i.sent(),G("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,a){return _(this,void 0,void 0,function(){var u,l;return N(this,function(c){switch(c.label){case 0:return(u=W(s)).asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials"),l=Zr(u),u.Or.add(3),[4,ms(u)];case 1:return c.sent(),l&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return c.sent(),u.Or.delete(3),[4,Eu(u)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function Vg(e){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(G("FirestoreClient","Using default OfflineComponentProvider"),[4,rT(e,new tT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Df(e){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(G("FirestoreClient","Using default OnlineComponentProvider"),[4,iT(e,new ap)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Z0(e){return Vg(e).then(function(t){return t.persistence})}function oT(e){return Vg(e).then(function(t){return t.localStore})}function ew(e){return Df(e).then(function(t){return t.remoteStore})}function sT(e){return Df(e).then(function(t){return t.syncEngine})}function Xo(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,Df(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=FD.bind(null,t.syncEngine),n.onUnlisten=MD.bind(null,t.syncEngine),n)]}})})}function tw(e,t,n){var r=this;n===void 0&&(n={});var i=new nn;return e.asyncQueue.enqueueAndForget(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,h){var f=new Af({next:function(y){u.enqueueAndForget(function(){return Og(a,p)});var w=y.docs.has(l);!w&&y.fromCache?h.reject(new F(C.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&c&&c.source==="server"?h.reject(new F(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:function(y){return h.reject(y)}}),p=new Dg(yu(l.path),f,{includeMetadataChanges:!0,so:!0});return jg(a,p)},[4,Xo(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function nw(e,t,n){var r=this;n===void 0&&(n={});var i=new nn;return e.asyncQueue.enqueueAndForget(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,h){var f=new Af({next:function(y){u.enqueueAndForget(function(){return Og(a,p)}),y.fromCache&&c.source==="server"?h.reject(new F(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:function(y){return h.reject(y)}}),p=new Dg(l,f,{includeMetadataChanges:!0,so:!0});return jg(a,p)},[4,Xo(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var iR=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},pc=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),rw=new Map,aT=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},iw=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(mt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),oR=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),sR=function(){function e(t){var n=this;this.currentUser=mt.UNAUTHENTICATED,this.oc=new nn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){G("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(G("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(G("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(le(typeof i.accessToken=="string"),new aT(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return _(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string"),new mt(t)},e}(),aR=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=mt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),uR=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new aR(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(mt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e,t,n){if(!n)throw new F(C.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function qg(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new F(C.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function uT(e,t,n,r){if(t===!0&&r===!0)throw new F(C.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ow(e){if(!oe.isDocumentKey(e))throw new F(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function sw(e){if(oe.isDocumentKey(e))throw new F(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Rf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":re()}function Ce(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rf(e);throw new F(C.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function aw(e,t){if(t<=0)throw new F(C.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new F(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Ha=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uw({}),this._settingsFrozen=!1,t instanceof pc?(this._databaseId=t,this._credentials=new iw):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new F(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(r.options.projectId)}(t),this._credentials=new sR(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uw(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new iw;switch(n.type){case"gapi":var r=n.client;return le(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new uR(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new F(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=rw.get(t))&&(G("ComponentProvider","Removing Datastore"),rw.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),qe=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $r(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),hn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),$r=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,yu(i))||this)._path=i,o.type="collection",o}return ae(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new qe(this.firestore,null,new oe(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=et(e),Bg("collection","path",t),e instanceof Ha)return sw(n=Ie.fromString.apply(Ie,Be([t],r))),new $r(e,null,n);if(!(e instanceof qe||e instanceof $r))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sw(n=Ie.fromString.apply(Ie,Be([e.path],r)).child(Ie.fromString(t))),new $r(e.firestore,null,n)}function vl(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=et(e),arguments.length===1&&(t=qS.u()),Bg("doc","path",t),e instanceof Ha)return ow(n=Ie.fromString.apply(Ie,Be([t],r))),new qe(e,null,new oe(n));if(!(e instanceof qe||e instanceof $r))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ow(n=e._path.child(Ie.fromString.apply(Ie,Be([t],r)))),new qe(e.firestore,e instanceof $r?e.converter:null,new oe(n))}function cT(e,t){return e=et(e),t=et(t),(e instanceof qe||e instanceof $r)&&(t instanceof qe||t instanceof $r)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fT(e,t){return e=et(e),t=et(t),e instanceof hn&&t instanceof hn&&e.firestore===t.firestore&&vu(e._query,t._query)&&e.converter===t.converter}var lR=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Cg(this,"async_queue_retry"),this.Ic=function(){var r=yl();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=yl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=yl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new nn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return _(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hi(t=r.sent()))throw t;return G("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=_D.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&re()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Yo(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var cR=-1,rt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new lR,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return ae(t,e),t.prototype._terminate=function(){return this._firestoreClient||hT(this),this._firestoreClient.terminate()},t}(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e){return e._firestoreClient||hT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hT(e){var t,n=e._freezeSettings(),r=function(i,o,s,a){return new iR(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rR(e._credentials,e._queue,r)}function lw(e,t,n){var r=this,i=new nn;return e.asyncQueue.enqueue(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,rT(e,n)];case 1:return s.sent(),[4,iT(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===C.FAILED_PRECONDITION||a.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cw(e){if(e._initialized||e._terminated)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new F(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Di=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(tn.fromBase64String(t))}catch(n){throw new F(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(tn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Wi=function(e){this._methodName=e},Lf=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return be(this._lat,t._lat)||be(this._long,t._long)},e}(),fR=/^__.*__$/,hR=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new xu(t,this.data,n,this.fieldTransforms)},e}(),dT=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var mT=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return mc(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(pT(this.Nc)&&fR.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),dR=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||jf(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new mT({Nc:t,methodName:n,qc:r,path:Rn.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ki(e){var t=e._freezeSettings(),n=jf(e._databaseId);return new dR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ff(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Wg("Data must be an object, but it was:",s,r);var a,u,l=vT(r,s);if(o.merge)a=new Fo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var p=up(t,f[h],n);if(!s.contains(p))throw new F(C.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");bT(c,p)||c.push(p)}a=new Fo(c),u=s.fieldTransforms.filter(function(y){return a.covers(y.field)})}else a=null,u=s.fieldTransforms;return new hR(new an(l),a,u)}var zg=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Wi);function gT(e,t,n){return new mT({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var pR=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype._toFieldTransform=function(n){return new bu(n.path,new Vo)},t.prototype.isEqual=function(n){return n instanceof t},t}(Wi),mR=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ae(t,e),t.prototype._toFieldTransform=function(n){var r=gT(this,n,!0),i=this.Kc.map(function(s){return Qi(s,r)}),o=new Oi(i);return new bu(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Wi),gR=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ae(t,e),t.prototype._toFieldTransform=function(n){var r=gT(this,n,!0),i=this.Kc.map(function(s){return Qi(s,r)}),o=new Ai(i);return new bu(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Wi),yR=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return ae(t,e),t.prototype._toFieldTransform=function(n){var r=new Bo(n.R,rE(n.R,this.Qc));return new bu(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Wi);function Hg(e,t,n,r){var i=e.Uc(1,t,n);Wg("Data must be an object, but it was:",i,r);var o=[],s=an.empty();qi(r,function(u,l){var c=Kg(t,u,n);l=et(l);var h=i.Oc(c);if(l instanceof zg)o.push(c);else{var f=Qi(l,h);f!=null&&(o.push(c),s.set(c,f))}});var a=new Fo(o);return new dT(s,a,i.fieldTransforms)}function Gg(e,t,n,r,i,o){var s=e.Uc(1,t,n),a=[up(t,r,n)],u=[i];if(o.length%2!=0)throw new F(C.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(up(t,o[l])),u.push(o[l+1]);for(var c=[],h=an.empty(),f=a.length-1;f>=0;--f)if(!bT(c,a[f])){var p=a[f],y=u[f];y=et(y);var w=s.Oc(p);if(y instanceof zg)c.push(p);else{var g=Qi(y,w);g!=null&&(c.push(p),h.set(p,g))}}var m=new Fo(c);return new dT(h,m,s.fieldTransforms)}function yT(e,t,n,r){return r===void 0&&(r=!1),Qi(n,e.Uc(r?4:3,t))}function Qi(e,t){if(wT(e=et(e)))return Wg("Unsupported field value:",t,e),vT(e,t);if(e instanceof Wi)return function(n,r){if(!pT(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,a=n;s<a.length;s++){var u=Qi(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rE(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=en.fromDate(n);return{timestampValue:Va(r.R,i)}}if(n instanceof en)return i=new en(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Va(r.R,i)};if(n instanceof Lf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Di)return{bytesValue:dE(r.R,n._byteString)};if(n instanceof qe){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:bg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Rf(n))}(e,t)}function vT(e,t){var n={};return HS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qi(e,function(r,i){var o=Qi(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof en||e instanceof Lf||e instanceof Di||e instanceof qe||e instanceof Wi)}function Wg(e,t,n){if(!wT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Rf(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function up(e,t,n){if((t=et(t))instanceof Hn)return t._internalPath;if(typeof t=="string")return Kg(e,t);throw mc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var vR=new RegExp("[~\\*/\\[\\]]");function Kg(e,t,n){if(t.search(vR)>=0)throw mc("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Hn.bind.apply(Hn,Be([void 0],t.split("."))))()._internalPath}catch{throw mc("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function mc(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new F(C.INVALID_ARGUMENT,(a+=". ")+e+u)}function bT(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ga=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new qe(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(gc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),wR=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ga);function gc(e,t){return typeof t=="string"?Kg(e,t):t instanceof Hn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ur=function(e){function t(n,r,i,o,s,a){var u=this;return(u=e.call(this,n,r,i,o,a)||this)._firestore=n,u._firestoreImpl=n,u.metadata=s,u}return ae(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(gc("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Ga),ma=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ur),Ir=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yi(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new ma(r._firestore,r._userDataWriter,i.key,i,new yi(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new ma(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new ma(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(c=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:bR(a.type),doc:u,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function bR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function xT(e,t){return e instanceof ur&&t instanceof ur?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ir&&t instanceof Ir&&e._firestore===t._firestore&&fT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(e){if(sc(e)&&e.explicitOrderBy.length===0)throw new F(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tu=function(){};function wr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var xR=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return ae(t,e),t.prototype._apply=function(n){var r=Ki(n.firestore),i=function(o,s,a,u,l,c,h){var f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new F(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){mw(h,c);for(var p=[],y=0,w=h;y<w.length;y++){var g=w[y];p.push(pw(u,o,g))}f={arrayValue:{values:p}}}else f=pw(u,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||mw(h,c),f=yT(a,"where",h,c==="in"||c==="not-in");var m=cn.create(l,c,f);return function(v,b){if(b.g()){var x=mg(v);if(x!==null&&!x.isEqual(b.field))throw new F(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+x.toString()+"' and '"+b.field.toString()+"'");var T=pg(v);T!==null&&TT(v,b.field,T)}var S=function(k,P){for(var D=0,Y=k.filters;D<Y.length;D++){var se=Y[D];if(P.indexOf(se.op)>=0)return se.op}return null}(v,function(k){switch(k){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(b.op));if(S!==null)throw S===b.op?new F(C.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+b.op.toString()+"' filter."):new F(C.INVALID_ARGUMENT,"Invalid query. You cannot use '"+b.op.toString()+"' filters with '"+S.toString()+"' filters.")}(o,m),m}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new hn(n.firestore,n.converter,function(o,s){var a=o.filters.concat([s]);return new pr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Tu),SR=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return ae(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new F(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new Co(o,s);return function(u,l){if(pg(u)===null){var c=mg(u);c!==null&&TT(u,c,l.field)}}(i,a),a}(n._query,this.jc,this.zc);return new hn(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new pr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Tu),fw=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return ae(t,e),t.prototype._apply=function(n){return new hn(n.firestore,n.converter,JS(n._query,this.Hc,this.Jc))},t}(Tu),hw=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return ae(t,e),t.prototype._apply=function(n){var r=ET(n,this.type,this.Yc,this.Xc);return new hn(n.firestore,n.converter,function(i,o){return new pr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(Tu),dw=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return ae(t,e),t.prototype._apply=function(n){var r=ET(n,this.type,this.Yc,this.Xc);return new hn(n.firestore,n.converter,function(i,o){return new pr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(Tu);function ET(e,t,n,r){if(n[0]=et(n[0]),n[0]instanceof Ga)return function(o,s,a,u,l){if(!u)throw new F(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var c=[],h=0,f=Uo(o);h<f.length;h++){var p=f[h];if(p.field.isKeyField())c.push(rc(s,u.key));else{var y=u.data.field(p.field);if(fg(y))throw new F(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var w=p.field.canonicalString();throw new F(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}c.push(y)}}return new Ua(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ki(e.firestore);return function(o,s,a,u,l,c){var h=o.explicitOrderBy;if(l.length>h.length)throw new F(C.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var f=[],p=0;p<l.length;p++){var y=l[p];if(h[p].field.isKeyField()){if(typeof y!="string")throw new F(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof y);if(!gg(o)&&y.indexOf("/")!==-1)throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+y+"' contains a slash.");var w=o.path.child(Ie.fromString(y));if(!oe.isDocumentKey(w))throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var g=new oe(w);f.push(rc(s,g))}else{var m=yT(a,u,y);f.push(m)}}return new Ua(f,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function pw(e,t,n){if(typeof(n=et(n))=="string"){if(n==="")throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gg(t)&&n.indexOf("/")!==-1)throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ie.fromString(n));if(!oe.isDocumentKey(r))throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rc(e,new oe(r))}if(n instanceof qe)return rc(e,n._key);throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rf(n)+".")}function mw(e,t){if(!Array.isArray(e)||e.length===0)throw new F(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new F(C.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function TT(e,t,n){if(!n.isEqual(t))throw new F(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qg=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw re()}},e.prototype.convertObject=function(t,n){var r=this,i={};return qi(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new Lf(Je(t.latitude),Je(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=WS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ma(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Hr(t);return new en(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ie.fromString(t);le(xE(r));var i=new pc(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Ze("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ER=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ae(t,e),t.prototype.convertBytes=function(n){return new Di(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new qe(this.firestore,null,r)},t}(Qg),TR=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ki(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=kr(t,this._firestore),o=Mf(i.converter,n,r),s=Ff(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,_t.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=kr(t,this._firestore);return s=typeof(n=et(n))=="string"||n instanceof Hn?Gg(this._dataReader,"WriteBatch.update",a._key,n,r,i):Hg(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,_t.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=kr(t,this._firestore);return this._mutations=this._mutations.concat(new Su(n._key,_t.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new F(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e,t){if((e=et(e)).firestore!==t)throw new F(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ae(t,e),t.prototype.convertBytes=function(n){return new Di(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new qe(this.firestore,null,r)},t}(Qg);function gw(e,t,n){e=Ce(e,qe);var r=Ce(e.firestore,rt),i=Mf(e.converter,t,n);return Iu(r,[Ff(Ki(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,_t.none())])}function yw(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ce(e,qe);var o=Ce(e.firestore,rt),s=Ki(o);return Iu(o,[(typeof(t=et(t))=="string"||t instanceof Hn?Gg(s,"updateDoc",e._key,t,n,r):Hg(s,"updateDoc",e._key,t)).toMutation(e._key,_t.exists(!0))])}function IT(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=et(e);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||Yo(i[a])||(s=i[a],a++);var u,l,c,h={includeMetadataChanges:s.includeMetadataChanges};if(Yo(i[a])){var f=i[a];i[a]=(t=f.next)===null||t===void 0?void 0:t.bind(f),i[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),i[a+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}if(e instanceof qe)l=Ce(e.firestore,rt),c=yu(e._key.path),u={next:function(w){i[a]&&i[a](lp(l,e,w))},error:i[a+1],complete:i[a+2]};else{var p=Ce(e,hn);l=Ce(p.firestore,rt),c=p._query;var y=new xi(l);u={next:function(w){i[a]&&i[a](new Ir(l,y,p,w))},error:i[a+1],complete:i[a+2]},ST(e._query)}return function(w,g,m,v){var b=this,x=new Af(v),T=new Dg(g,x,m);return w.asyncQueue.enqueueAndForget(function(){return _(b,void 0,void 0,function(){var S;return N(this,function(k){switch(k.label){case 0:return S=jg,[4,Xo(w)];case 1:return[2,S.apply(void 0,[k.sent(),T])]}})})}),function(){x.Wo(),w.asyncQueue.enqueueAndForget(function(){return _(b,void 0,void 0,function(){var S;return N(this,function(k){switch(k.label){case 0:return S=Og,[4,Xo(w)];case 1:return[2,S.apply(void 0,[k.sent(),T])]}})})})}}(Ct(l),c,h,u)}function Iu(e,t){return function(n,r){var i=this,o=new nn;return n.asyncQueue.enqueueAndForget(function(){return _(i,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=$D,[4,sT(n)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(Ct(e),t)}function lp(e,t,n){var r=n.docs.get(t._key),i=new xi(e);return new ur(e,i,t._key,r,new yi(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IR=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return ae(t,e),t.prototype.get=function(n){var r=this,i=kr(n,this._firestore),o=new xi(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new ur(r._firestore,o,i._key,s._document,new yi(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ki(t)}return e.prototype.get=function(t){var n=this,r=kr(t,this._firestore),i=new ER(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return re();var s=o[0];if(s.isFoundDocument())return new Ga(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Ga(n._firestore,i,r._key,null,r.converter);throw re()})},e.prototype.set=function(t,n,r){var i=kr(t,this._firestore),o=Mf(i.converter,n,r),s=Ff(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=kr(t,this._firestore);return s=typeof(n=et(n))=="string"||n instanceof Hn?Gg(this._dataReader,"Transaction.update",a._key,n,r,i):Hg(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this},e.prototype.delete=function(t){var n=kr(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){if(typeof Uint8Array>"u")throw new F(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ww(){if(typeof atob>"u")throw new F(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var kT=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return ww(),new e(Di.fromBase64String(t))},e.fromUint8Array=function(t){return vw(),new e(Di.fromUint8Array(t))},e.prototype.toBase64=function(){return ww(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return vw(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),kR=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){cw(r=Ce(r,rt));var o=Ct(r),s=r._freezeSettings(),a=new ap;return lw(o,a,new nT(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){cw(n=Ce(n,rt));var r=Ct(n),i=n._freezeSettings(),o=new ap;return lw(r,o,new eR(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new F(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new nn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return _(this,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return Ho.yt()?(u=a+"main",[4,Ho.delete(u)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(Ig(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),CT=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof pc||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||tc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var l=(i=Ce(i,Ha))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&tc("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),a.mockUserToken){var c,h;if(typeof a.mockUserToken=="string")c=a.mockUserToken,h=mt.MOCK_USER;else{c=S_(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var f=a.mockUserToken.sub||a.mockUserToken.user_id;if(!f)throw new F(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mt(f)}i._credentials=new oR(new aT(c,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return _(n,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return[4,Z0(t)];case 1:return r=o.sent(),[4,ew(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=W(s);return a.Or.delete(0),Eu(a)}(i))]}})})})}(Ct(Ce(this._delegate,rt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return _(n,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return[4,Z0(t)];case 1:return r=o.sent(),[4,ew(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return _(this,void 0,void 0,function(){var a;return N(this,function(u){switch(u.label){case 0:return(a=W(s)).Or.add(0),[4,ms(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ct(Ce(this._delegate,rt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&uT("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new nn;return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:return i=qD,[4,sT(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Ct(Ce(this._delegate,rt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,a=new Af(o);return i.asyncQueue.enqueueAndForget(function(){return _(s,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return u=function(c,h){W(c).Gr.add(h),h.next()},[4,Xo(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return _(s,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return u=function(c,h){W(c).Gr.delete(h)},[4,Xo(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})})}}(Ct(n=Ce(n,rt)),Yo(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yc(this,lT(this._delegate,t))}catch(n){throw Mt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Si(this,vl(this._delegate,t))}catch(n){throw Mt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Vf(this,function(n,r){if(n=Ce(n,Ha),Bg("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new F(C.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hn(n,null,function(i){return new pr(Ie.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Mt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var a=this,u=new nn;return o.asyncQueue.enqueueAndForget(function(){return _(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return[4,function(h){return Df(h).then(function(f){return f.datastore})}(o)];case 1:return l=c.sent(),new nR(o.asyncQueue,l,s,u).run(),[2]}})})}),u.promise}(Ct(r),function(o){return i(new IR(r,o))})}(this._delegate,function(r){return t(new NT(n,r))})},e.prototype.batch=function(){var t=this;return Ct(this._delegate),new _T(new TR(this._delegate,function(n){return Iu(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new F(C.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new F(C.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),$f=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ae(t,e),t.prototype.convertBytes=function(n){return new kT(new Di(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Si.eu(r,this.firestore,null)},t}(Qg);function CR(e){var t;t=e,On.setLogLevel(t)}var NT=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new $f(t)}return e.prototype.get=function(t){var n=this,r=vi(t);return this._delegate.get(r).then(function(i){return new Wa(n._firestore,new ur(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=vi(t);return r?(qg("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=vi(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Be([a,n,r],o)),this},e.prototype.delete=function(t){var n=vi(t);return this._delegate.delete(n),this},e}(),_T=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=vi(t);return r?(qg("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=vi(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Be([a,n,r],o)),this},e.prototype.delete=function(t){var n=vi(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Uf=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new ma(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ka(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new $f(t),n),i.set(n,o)),o},e}();Uf.su=new WeakMap;var Si=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new $f(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new F(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new qe(n._delegate,r,new oe(t)))},e.eu=function(t,n,r){return new e(n,new qe(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yc(this.firestore,lT(this._delegate,t))}catch(n){throw Mt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=et(t))instanceof qe&&cT(this._delegate,t)},e.prototype.set=function(t,n){n=qg("DocumentReference.set",n);try{return n?gw(this._delegate,t,n):gw(this._delegate,t)}catch(r){throw Mt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?yw(this._delegate,t):yw.apply(void 0,Be([this._delegate,t,n],r))}catch(o){throw Mt(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Iu(Ce((t=this._delegate).firestore,rt),[new Su(t._key,_t.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=PT(n),o=jT(n,function(s){return new Wa(t.firestore,new ur(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return IT(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,qe);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return function(a,u){var l=this,c=new nn;return a.asyncQueue.enqueueAndForget(function(){return _(l,void 0,void 0,function(){var h;return N(this,function(f){switch(f.label){case 0:return h=function(p,y,w){return _(this,void 0,void 0,function(){var g,m;return N(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,function(b,x){var T=W(b);return T.persistence.runTransaction("read document","readonly",function(S){return T.Mn.mn(S,x)})}(p,y)];case 1:return(m=v.sent()).isFoundDocument()?w.resolve(m):m.isNoDocument()?w.resolve(null):w.reject(new F(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return g=v.sent(),m=vs(g,"Failed to get document '"+y+" from cache"),w.reject(m),[3,3];case 3:return[2]}})})},[4,oT(a)];case 1:return[2,h.apply(void 0,[f.sent(),u,c])]}})})}),c.promise}(o,r._key).then(function(a){return new ur(i,s,r._key,a,new yi(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,qe);var i=Ce(r.firestore,rt);return tw(Ct(i),r._key,{source:"server"}).then(function(o){return lp(i,r,o)})}(this._delegate):function(r){r=Ce(r,qe);var i=Ce(r.firestore,rt);return tw(Ct(i),r._key).then(function(o){return lp(i,r,o)})}(this._delegate)).then(function(r){return new Wa(n.firestore,new ur(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Uf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Mt(e,t,n){return e.message=e.message.replace(t,n),e}function PT(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Yo(r))return r}return{}}function jT(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=Yo(e[0])?e[0]:Yo(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Wa=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Si(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return xT(this._delegate,t._delegate)},e}(),Ka=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Wa),Vf=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new $f(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,wr(this._delegate,function(i,o,s){var a=o,u=gc("where",i);return new xR(u,a,s)}(t,n,r)))}catch(i){throw Mt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,wr(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=gc("orderBy",r);return new SR(s,o)}(t,n)))}catch(r){throw Mt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,wr(this._delegate,function(n){return aw("limit",n),new fw("limit",n,"F")}(t)))}catch(n){throw Mt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,wr(this._delegate,function(n){return aw("limitToLast",n),new fw("limitToLast",n,"L")}(t)))}catch(n){throw Mt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new hw("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Mt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new hw("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Mt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dw("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Mt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dw("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Mt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return fT(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,hn);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return function(a,u){var l=this,c=new nn;return a.asyncQueue.enqueueAndForget(function(){return _(l,void 0,void 0,function(){var h;return N(this,function(f){switch(f.label){case 0:return h=function(p,y,w){return _(this,void 0,void 0,function(){var g,m,v,b,x;return N(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,fc(p,y,!0)];case 1:return x=T.sent(),g=new YE(y,x.Bn),m=g._o(x.documents),v=g.applyChanges(m,!1),w.resolve(v.snapshot),[3,3];case 2:return b=T.sent(),x=vs(b,"Failed to execute query '"+y+" against cache"),w.reject(x),[3,3];case 3:return[2]}})})},[4,oT(a)];case 1:return[2,h.apply(void 0,[f.sent(),u,c])]}})})}),c.promise}(o,r._query).then(function(a){return new Ir(i,s,r,a)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,hn);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return nw(o,r._query,{source:"server"}).then(function(a){return new Ir(i,s,r,a)})}(this._delegate):function(r){r=Ce(r,hn);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return ST(r._query),nw(o,r._query).then(function(a){return new Ir(i,s,r,a)})}(this._delegate)).then(function(r){return new cp(n.firestore,new Ir(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=PT(n),o=jT(n,function(s){return new cp(t.firestore,new Ir(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return IT(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Uf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),NR=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ka(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),cp=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Vf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ka(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new NR(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Ka(r._firestore,i))})},e.prototype.isEqual=function(t){return xT(this._delegate,t._delegate)},e}(),yc=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return ae(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Si(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Si(this.firestore,n===void 0?vl(this._delegate):vl(this._delegate,n))}catch(r){throw Mt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=Ce(i.firestore,rt),a=vl(i),u=Mf(i.converter,o);return Iu(s,[Ff(Ki(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,_t.exists(!1))]).then(function(){return a})}(this._delegate,n).then(function(i){return new Si(r.firestore,i)})},t.prototype.isEqual=function(n){return cT(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Uf.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Vf);function vi(e){return Ce(e,qe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _R=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Hn.bind.apply(Hn,Be([void 0],t)))}return e.documentId=function(){return new e(Rn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=et(t))instanceof Hn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),PR=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new pR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new zg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new mR("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gR("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new yR("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),jR={Firestore:CT,GeoPoint:Lf,Timestamp:en,Blob:kT,Transaction:NT,WriteBatch:_T,DocumentReference:Si,DocumentSnapshot:Wa,Query:Vf,QueryDocumentSnapshot:Ka,QuerySnapshot:cp,CollectionReference:yc,FieldPath:_R,FieldValue:PR,setLogLevel:CR,CACHE_SIZE_UNLIMITED:cR};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(e){(function(t,n){t.INTERNAL.registerComponent(new Ci("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},jR)))})(e,function(t,n){return new CT(t,new rt(t,n),new kR)}),e.registerVersion("@firebase/firestore","2.4.1")}OR(kn);const AR={apiKey:"demo",authDomain:"demo",projectId:"demo-project",storageBucket:"demo",messagingSenderId:"1234",appId:"1234",measurementId:"1234"};kn.initializeApp(AR);const pn="games",ti="players",Ln=kn.firestore();Ln.settings({experimentalAutoDetectLongPolling:!0});const DR=async(e,t)=>(await Ln.collection(pn).doc(e).set(t),!0),ws=async e=>{const n=await Ln.collection(pn).doc(e).get();let r;return n.exists&&(r=n.data()),r},Bf=async e=>{const r=await kn.firestore().collection(pn).doc(e).collection(ti).get();let i=[];return r.forEach(o=>i.push(o.data())),i},OT=async(e,t)=>{const i=await kn.firestore().collection(pn).doc(e).collection(ti).doc(t).get();let o;return i.exists&&(o=i.data()),o},RR=e=>Ln.collection(pn).doc(e),LR=e=>Ln.collection(pn).doc(e).collection(ti),AT=async(e,t)=>(await kn.firestore().collection(pn).doc(e).update(t),!0),DT=async(e,t)=>(await Ln.collection(pn).doc(e).collection(ti).doc(t.id).set(t),!0),FR=async(e,t)=>(await Ln.collection(pn).doc(e).collection(ti).doc(t).delete(),!0),RT=async(e,t)=>(await Ln.collection(pn).doc(e).collection(ti).doc(t.id).update(t),!0),MR=async e=>(await Ln.collection(pn).doc(e).delete(),await Ln.collection(pn).doc(e).collection(ti).get().then(t=>{t.forEach(n=>{n.ref.delete()})}),!0),$R=async()=>{const t=new Date,n=new Date(t.setMonth(t.getMonth()-6)),r=await Ln.collection(pn).where("createdAt","<",n).get();if(console.log("Games length",r.docs.length),r.docs.length>0){const i=r.docs[0].data();console.log(i),console.log(r.docs[r.docs.length-1].data()),console.log(i.createdAt.toDate().toString()),console.log(r.docs[r.docs.length-1].data().createdAt.toDate().toString());const o=[];r.forEach(s=>{o.push(s)});for(let s of o){console.log("Deleting:",s.data().name);const a=await s.ref.collection(ti).get(),u=[];a.forEach(l=>{u.push(l)});for(let l of u)await l.ref.delete();await s.ref.delete(),console.log("deleted")}}return!0};var ze=(e=>(e.NotStarted="Not Started",e.Started="Started",e.InProgress="In Progress",e.Finished="Finished",e))(ze||{});const LT="playerGames",ku=()=>{let e=[];const t=localStorage.getItem(LT);return t&&(e=JSON.parse(t)),e},FT=e=>{localStorage.setItem(LT,JSON.stringify(e))},UR=async(e,t)=>{await ws(e)&&FR(e,t)},VR=async(e,t,n,r)=>{const i=await OT(e,t);if(i){const o={...i,value:n,emoji:r,status:ze.Finished};return await RT(e,o),await JR(e),!0}return!1},BR=async()=>ku(),fp=e=>{const n=ku().find(r=>r.id===e);return n&&n.playerId},MT=(e,t,n,r,i)=>{let o=ku();o.push({id:e,name:t,createdById:r,createdBy:n,playerId:i}),FT(o)},qR=async e=>{const n=ku().find(r=>r.id===e);return n?await OT(n.id,n.playerId)?!0:($T(n.id),!1):!1},$T=e=>{const t=ku();FT(t.filter(n=>n.id!==e))},zR=async(e,t)=>{const n=await ws(e);if(!n)return console.log("Game not found"),!1;const r={name:t,id:Od(),status:ze.NotStarted};return MT(n.id,n.name,n.createdBy,n.createdById,r.id),await DT(e,r),!0},HR=async e=>{(await Bf(e)).forEach(async n=>{const r={...n,status:ze.NotStarted,value:0};await RT(e,r)})},GR=async e=>{const t={name:e.createdBy,id:Od(),status:ze.NotStarted},n={...e,id:Od(),average:0,createdById:t.id,gameStatus:ze.Started};return await DR(n.id,n),await DT(n.id,t),MT(n.id,n.name,n.createdBy,n.createdById,t.id),n.id},WR=e=>RR(e),KR=e=>LR(e),UT=e=>ws(e),qf=async(e,t)=>(await AT(e,t),!0),QR=async e=>{if(await ws(e)){const n={average:0,gameStatus:ze.Started};await qf(e,n),await HR(e)}},bw=async e=>{const t=await ws(e),n=await Bf(e);if(t&&n){const r={gameStatus:ze.Finished};await qf(e,r)}},XR=async(e,t)=>{const n=await ws(e),r=await Bf(e);if(n&&r){const i={...n,storyName:t};qf(e,i)}},YR=e=>{let t=0;return e.forEach(n=>{n.status===ze.Finished&&t++}),t===0?ze.Started:ze.InProgress},JR=async e=>{if(!await UT(e))return console.log("Game not found"),!1;const n=await Bf(e);if(n){const i={gameStatus:YR(n)};return await AT(e,i)}return!1},VT=async e=>{await MR(e),$T(e)},ZR=async()=>{await $R()},eL=()=>{const[e,t]=ue.useState(!1);return ue.useEffect(()=>{async function n(){await ZR(),t(!1)}t(!0),n()},[t]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"flex flex-col items-center justify-center space-y-2",children:d.jsx("div",{className:"flex items-center justify-center sm:w-full lg:w-11/12 space-x-3",children:d.jsx("div",{className:"sm:w-full lg:w-1/2",children:e?d.jsx("div",{children:"Deleting old games....."}):d.jsx("div",{children:"Delete done!"})})})})})},tL=()=>d.jsx("div",{className:"flex flex-col items-center w-full",children:d.jsx(nL,{})}),nL=()=>d.jsx("div",{className:"flex flex-col items-center w-full",children:d.jsx("div",{className:"w-full max-w-3xl flex flex-col items-center justify-center my-8",children:d.jsxs("div",{className:"animate-fade-in-down",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Examples of User Story Estimation"}),d.jsxs("div",{className:"text-base",children:[d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to be able to log in to the application using my email and password.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 3 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team considers this user story to have medium complexity compared to other user stories. It involves implementing authentication logic, verifying credentials, and providing appropriate error handling. The team's collective experience and judgment led to the consensus estimation of 3 story points."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to search for products based on various filters (e.g., price, category, brand).",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 5 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team considers this user story to be more complex compared to simpler user stories. Implementing the search functionality involves handling multiple filter options, integrating with the database, and ensuring efficient search performance. The team estimates it to be a moderate-sized task."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As an administrator, I want to be able to generate monthly reports on user activity and sales performance.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 8 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team identifies this user story as a larger and more involved task. It requires designing and implementing reporting functionalities, gathering and aggregating data from multiple sources, and generating meaningful insights. The complexity and effort involved lead to a higher estimation."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to be able to reset my password if I forget it.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 2 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team considers this user story relatively simple and straightforward. Implementing a password reset functionality typically involves providing an email verification mechanism and updating the user's password in the database. The team estimates it to be a smaller task compared to others."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to be able to add products to my shopping cart and proceed to checkout.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," Medium (T-shirt size)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team uses T-shirt sizes for estimation. Adding products to a shopping cart and enabling the checkout process involves handling user interactions, managing cart state, updating inventory, and integrating with payment gateways. The team estimates it to be of medium size in terms of effort and complexity."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to be able to upload and attach files to my project tasks.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 3 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team considers this user story to be of moderate complexity. Implementing file upload functionality involves handling file storage, validation, and linking files to specific tasks or projects. The team estimates it to be a medium-sized task."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As an administrator, I want to be able to create and manage user roles and permissions.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 5 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team identifies this user story as a larger and more complex task. Implementing role-based access control requires designing a flexible permission system, defining roles, managing user permissions, and ensuring proper security measures. The effort and complexity involved lead to a higher estimation."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to receive email notifications for important updates and events.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 2 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team considers this user story relatively straightforward. Implementing email notifications involves integrating with an email service provider, setting up templates, and triggering emails based on specific events or triggers. The team estimates it to be a smaller task compared to others."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"User Story:"})," As a user, I want to be able to filter and sort search results based on different criteria.",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Estimation:"})," 3 story points (Fibonacci sequence)",d.jsx("br",{}),d.jsx("br",{}),d.jsx("b",{children:"Rationale:"})," The team identifies this user story as a moderate-sized task. Implementing filtering and sorting functionality requires handling user preferences, building flexible search queries, and presenting sorted and filtered results. The team estimates it to be of medium complexity and effort."]}),d.jsx("hr",{className:"my-6 border-t border-gray-300"}),d.jsxs("p",{children:[d.jsx("b",{children:"Note:"})," These estimations are based on hypothetical scenarios, and actual estimations may vary based on project-specific factors, team dynamics, and technology considerations. The primary aim is to establish a relative understanding of effort or complexity to aid in prioritization and planning."]})]})]})})});var at=(e=>(e.Fibonacci="Fibonacci",e.ShortFibonacci="ShortFibonacci",e.TShirt="TShirt",e.TShirtAndNumber="TShirtAndNumber",e.Custom="Custom",e))(at||{});const xw=[{value:0,displayValue:"0",color:"#e7edf3"},{value:1,displayValue:"1",color:"#9EC8FE"},{value:2,displayValue:"2",color:"#9EC8FE"},{value:3,displayValue:"3",color:"#A3DFF2"},{value:5,displayValue:"5",color:"#A3DFF2"},{value:8,displayValue:"8",color:"#9DD49A"},{value:13,displayValue:"13",color:"#9DD49A"},{value:21,displayValue:"21",color:"#F4DD94"},{value:34,displayValue:"34",color:"#F4DD94"},{value:55,displayValue:"55",color:"#F39893"},{value:89,displayValue:"89",color:"#F39893"},{value:-2,displayValue:"",color:"#e7edf3"},{value:-1,displayValue:"-1",color:"#e7edf3"}],rL=[{value:0,displayValue:"0",color:"#e7edf3"},{value:.5,displayValue:"",color:"#9EC8FE"},{value:1,displayValue:"1",color:"#9EC8FE"},{value:2,displayValue:"2",color:"#9EC8FE"},{value:3,displayValue:"3",color:"#A3DFF2"},{value:5,displayValue:"5",color:"#A3DFF2"},{value:8,displayValue:"8",color:"#9DD49A"},{value:13,displayValue:"13",color:"#9DD49A"},{value:21,displayValue:"20",color:"#F4DD94"},{value:34,displayValue:"40",color:"#F4DD94"},{value:55,displayValue:"100",color:"#F39893"},{value:-2,displayValue:"",color:"#e7edf3"},{value:-1,displayValue:"-1",color:"#e7edf3"}],iL=[{value:10,displayValue:"XXS",color:"#e7edf3"},{value:20,displayValue:"XS",color:"#9EC8FE"},{value:30,displayValue:"S",color:"#9EC8FE"},{value:40,displayValue:"M",color:"#A3DFF2"},{value:50,displayValue:"L",color:"#A3DFF2"},{value:60,displayValue:"XL",color:"#9DD49A"},{value:70,displayValue:"XXL",color:"#9DD49A"},{value:-2,displayValue:"",color:"#e7edf3"},{value:-1,displayValue:"-1",color:"#e7edf3"}],oL=[{value:10,displayValue:"S",color:"#9EC8FE"},{value:20,displayValue:"M",color:"#9EC8FE"},{value:30,displayValue:"L",color:"#A3DFF2"},{value:40,displayValue:"XL",color:"#A3DFF2"},{value:50,displayValue:"1",color:"#9DD49A"},{value:60,displayValue:"2",color:"#9DD49A"},{value:70,displayValue:"3",color:"#F4DD94"},{value:80,displayValue:"4",color:"#F4DD94"},{value:90,displayValue:"5",color:"#F39893"}],BT=[{value:0,displayValue:"0",color:"#e7edf3"},{value:1,displayValue:"1",color:"#9EC8FE"},{value:2,displayValue:"2",color:"#9EC8FE"},{value:3,displayValue:"3",color:"#A3DFF2"},{value:4,displayValue:"4",color:"#A3DFF2"},{value:5,displayValue:"5",color:"#9DD49A"},{value:6,displayValue:"6",color:"#9DD49A"},{value:7,displayValue:"7",color:"#F4DD94"},{value:8,displayValue:"8",color:"#F4DD94"},{value:9,displayValue:"9",color:"#F39893"},{value:10,displayValue:"10",color:"#F39893"},{value:11,displayValue:"11",color:"#D96C6C"},{value:12,displayValue:"12",color:"#D96C6C"},{value:13,displayValue:"13",color:"#9B59B6"},{value:14,displayValue:"14",color:"#9B59B6"}],zf=e=>{switch(e){case at.Fibonacci:return xw;case at.ShortFibonacci:return rL;case at.TShirt:return iL;case at.TShirtAndNumber:return oL;case at.Custom:return BT;default:return xw}},Sw=()=>{const e=["","","","","","","","","","","","","","","","",""];return e[Math.floor(Math.random()*e.length)]},sL=e=>{const t=BT;return e.forEach((n,r)=>t[r].displayValue=n),t.filter(n=>n.displayValue!==void 0&&n.displayValue.trim()!=="")},aL=({game:e,players:t,currentPlayerId:n})=>{var u;const{t:r}=Xn(),[i,o]=ue.useState(Sw),s=(l,c,h)=>{e.gameStatus!==ze.Finished&&VR(l,c,h.value,i)};ue.useEffect(()=>{e.gameStatus===ze.Started&&o(Sw)},[e.gameStatus]);const a=(u=e.cards)!=null&&u.length?e.cards:zf(e.gameType);return d.jsxs("div",{className:"w-full max-w-full animate-fade-in-down",children:[d.jsx("div",{className:"text-center text-lg font-semibold my-4",children:e.gameStatus!==ze.Finished?r("CardPicker.ClickOnTheCardToVote"):r("CardPicker.SessionNotReadyForVotingWaitForModeratorToStart")}),d.jsx("div",{className:"flex flex-wrap justify-center gap-6 py-4 ",children:a.map((l,c)=>{var f;const h=((f=t.find(p=>p.id===n))==null?void 0:f.value)===l.value;return d.jsx("div",{id:`card-${l.displayValue}`,className:`
              cursor-pointer select-none transition-all duration-300
              rounded shadow-md border
              border-gray-300
              flex flex-col items-center justify-center
              bg-white
              text-gray-800
              w-15 h-23
              md:w-20 md:h-30
              sm:w-15 sm:h-23
              ${h?"border-dashed border-2 border-gray-800 z-10 shadow-lg scale-115":"shadow-md scale-100"}
              ${e.gameStatus===ze.Finished?"pointer-events-none opacity-50 cursor-not-allowed":""}
            `,style:{backgroundColor:l.color},onClick:()=>s(e.id,n,l),children:d.jsxs("div",{className:"flex flex-col justify-between h-full w-full p-1",children:[l.value>=0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-gray-800 flex justify-start",children:l.displayValue}),d.jsx("span",{className:`${l.displayValue.length<2?"text-4xl":"text-3xl"}`,children:l.displayValue}),d.jsx("span",{className:"flex justify-end w-full text-xs text-gray-800",children:l.displayValue})]}),l.value===-1&&d.jsx("span",{className:"flex flex-col justify-center h-full text-4xl",children:i}),l.value===-2&&d.jsx("span",{className:"flex flex-col justify-center h-full text-4xl",children:""})]})},l.value)})})]})},Xg=(e,t,n)=>n?!0:e===t,hp=({className:e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),uL=({game:e,player:t,currentPlayerId:n})=>{var i;const r=(o,s)=>{UR(o,s)};return d.jsxs("div",{className:"rounded shadow-lg w-25 bg-gray-200 dark:bg-gray-800 border-gray-300 dark:border-gray-600 border mb-2 m-3",style:{backgroundColor:lL(e,t.value)},children:[d.jsxs("div",{className:"text-center -mt-5 mx-auto w-[95%] bg-white dark:bg-gray-900 border-2  border-gray-400 dark:border-gray-700 rounded-2xl flex items-center justify-around px-3 py-1",children:[d.jsx("div",{className:"text-center font-semibold text-sm truncate",title:t.name,children:t.name}),Xg(e.createdById,n,e.isAllowMembersToManageSession)&&t.id!==n&&d.jsx("button",{title:"Remove",className:"cursor-pointer  p-0.5 mt-0.5 rounded hover:bg-red-100 transition",onClick:()=>r(e.id,t.id),"data-testid":"remove-button",children:d.jsx(hp,{className:"h-4 w-4 text-red-400"})})]}),d.jsx("div",{className:"flex items-center justify-center text-gray-800 py-6 mb-3",children:d.jsx("span",{className:`${((i=Ew(t,e))==null?void 0:i.length)<2?"text-4xl":"text-3xl"}`,children:Ew(t,e)})})]})},lL=(e,t)=>{if(e.gameStatus==ze.Finished){const n=zf(e.gameType).find(r=>r.value===t);return n?n.color:""}return""},Ew=(e,t)=>t.gameStatus!==ze.Finished?e.status===ze.Finished?"":"":t.gameStatus===ze.Finished?e.status===ze.Finished?e.value&&e.value===-1?e.emoji||"":cL(t,e.value):"":"",cL=(e,t)=>{var r,i;return((i=(((r=e.cards)==null?void 0:r.length)>0?e.cards:zf(e.gameType)).find(o=>o.value===t))==null?void 0:i.displayValue)||(t==null?void 0:t.toString())||""},fL=({game:e,players:t,currentPlayerId:n})=>d.jsx("div",{className:"animate-grow",children:d.jsx("div",{className:"flex flex-wrap justify-center gap-2 pt-8 w-full",children:t.map(r=>d.jsx(uL,{game:e,player:r,currentPlayerId:n},r.id))})}),qT=({children:e,id:t,message:n,onConfirm:r,onCancel:i=()=>{}})=>{const[o,s]=xe.useState(!1),a=`modelConfirm-${t}`,u=()=>{const h=document.getElementById(a);h&&(h.style.display="block",document.getElementsByTagName("body")[0].classList.add("overflow-y-hidden")),s(!0)},l=()=>{const h=document.getElementById(a);h&&(h.style.display="none",document.getElementsByTagName("body")[0].classList.remove("overflow-y-hidden")),s(!1),i()},c=()=>{const h=document.getElementById(a);h&&(h.style.display="none",document.getElementsByTagName("body")[0].classList.remove("overflow-y-hidden")),s(!1),r(t)};return d.jsxs("div",{children:[d.jsx("div",{onClick:u,children:e}),d.jsx("div",{id:a,"data-testid":"alert-dialog",className:"fixed hidden cursor-default z-50 inset-0 bg-gray-800/80 overflow-y-auto h-full w-full px-4 ",children:d.jsxs("div",{className:"relative top-40 mx-auto bg-white dark:bg-gray-900 shadow-xl rounded-md max-w-2xl",children:[d.jsx("div",{className:"flex justify-end p-2",children:d.jsx("button",{onClick:l,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),d.jsxs("div",{className:"p-6 pt-0 text-center",children:[d.jsx("svg",{className:"w-20 h-20 text-red-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h3",{className:"text-xl font-normal text-wrap mt-5 mb-6 ",children:n}),d.jsx("button",{onClick:c,"data-testid":"alert-dialog-confirm",className:"cursor-pointer text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-base inline-flex items-center px-3 py-2.5 text-center mr-2",children:"Confirm"}),d.jsx("button",{onClick:l,className:"cursor-pointer text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-cyan-200 border border-gray-200 font-medium inline-flex items-center rounded-lg text-base px-3 py-2.5 text-center","data-modal-toggle":"delete-user-modal","data-testid":"alert-dialog-cancel",children:"Cancel"})]})]})})]},t)},hL=({className:e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"})}),dL=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),pL=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12v7a1 1 0 01-1 1H5a1 1 0 01-1-1v-7"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12l4 4m0 0l4-4m-4 4V4"})]}),mL=({className:e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h5M20 20v-5h-5M5.5 9A7 7 0 0112 5a7 7 0 017.5 4.5M18.5 15A7 7 0 0112 19a7 7 0 01-7.5-4.5"})}),gL=({game:e,players:t,currentPlayerId:n})=>{const r=us(),{t:i}=Xn(),[o,s]=ue.useState(!1);ue.useEffect(()=>{e.autoReveal&&e.gameStatus==="In Progress"&&Array.isArray(t)&&t.length>0&&t.every(f=>f.status===ze.Finished)&&bw(e.id)},[e.autoReveal,e,JSON.stringify(t.map(f=>({id:f.id,value:f.value,status:f.status})))]);const a=f=>{qf(e.id,{autoReveal:f})},u=()=>{navigator.clipboard.writeText(`${window.location.origin}/join/${e.id}`),s(!0),setTimeout(()=>s(!1),5e3)},l=()=>r.push("/"),c=async f=>{await VT(f),window.location.href="/"},h=Xg(e.createdById,n,e.isAllowMembersToManageSession);return d.jsxs("div",{className:"flex flex-col items-center w-full px-2",children:[d.jsxs("div",{className:"w-full max-w-md bg-gray-200 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg my-5",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-1 border-b border-gray-400 dark:border-gray-600",children:[d.jsx("div",{className:"text-lg font-semibold truncate flex-1/3",children:e.name}),d.jsx("div",{className:"mx-2 h-6 border-l border-gray-400 dark:border-gray-600"}),d.jsxs("span",{className:"text-sm font-medium",children:[e.gameStatus," ",vL(e.gameStatus)]}),d.jsx(wL,{game:e,players:t})]}),h&&d.jsx("div",{className:"flex justify-end p-2",title:"Auto Reveal when all members finished voting",children:d.jsx(yL,{autoReveal:e.autoReveal||!1,onAutoReveal:f=>a(f)})}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-6 px-2 pt-8 pb-2",children:[h&&d.jsxs(d.Fragment,{children:[d.jsx(Fs,{onClick:()=>bw(e.id),icon:d.jsx(dL,{className:"h-9 w-9 text-green-500"}),label:i("GameController.reveal"),colorClass:"bg-green-200",testId:"reveal-button"}),d.jsx(Fs,{onClick:()=>QR(e.id),icon:d.jsx(mL,{className:"h-9 w-9 text-red-400"}),label:i("GameController.restart"),colorClass:"bg-red-200",testId:"restart-button"}),d.jsx(Fs,{icon:d.jsx(hp,{className:"h-9 w-9 text-red-500"}),label:i("GameController.delete"),colorClass:"bg-red-200",testId:"delete-button",children:d.jsx(qT,{id:e.id,message:i("GameController.areYouSureDelete"),onConfirm:()=>c(e.id),"data-testid":"delete-button-dialog",children:d.jsx("button",{className:"p-2 cursor-pointer rounded-full bg-white dark:bg-gray-900 hover:bg-red-200 transition",title:i("GameController.delete"),children:d.jsx(hp,{className:"h-9 w-9 text-red-500"})})})})]}),d.jsx(Fs,{onClick:l,icon:d.jsx(hL,{className:"h-9 w-9 text-orange-500 "}),label:i("GameController.exit"),colorClass:"bg-red-200",testId:"exit-button"}),d.jsx(Fs,{onClick:u,icon:d.jsx(pL,{className:"h-9 w-9 text-blue-500"}),label:i("GameController.invite"),colorClass:"bg-blue-200",testId:"invite-button",title:"Copy invite link"}),d.jsxs("div",{className:"w-full text-xs mt-2",children:[d.jsxs("label",{className:"font-semibold",children:[i("GameController.storyName"),":"]}),d.jsx("input",{placeholder:i("GameController.enterStoryName"),className:"w-full italic p-2 mt-2 border bg-white dark:bg-gray-900 border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",type:"text","data-testid":"story-name-input",value:e.storyName||"",onChange:f=>XR(e.id,f.target.value||"")})]})]})]}),o&&d.jsx("div",{className:"fixed top-6 right-6 z-50",children:d.jsx("div",{className:"bg-green-100 border border-green-200  text-gray-800 opacity-85 px-4 py-3 text-xs rounded shadow",role:"alert",children:d.jsxs("span",{className:"block font-bold",children:[i("GameController.inviteLinkCopied"),"!"]})})})]})},Fs=({onClick:e,icon:t,label:n,colorClass:r,testId:i,title:o,children:s})=>d.jsxs("div",{className:"flex flex-col items-center",children:[s||d.jsx("button",{type:"button",role:"button","aria-label":n,id:i,onClick:e,"data-testid":i,className:`p-2 cursor-pointer rounded-full bg-white dark:bg-gray-900 hover:${r} transition`,title:o||n,children:t},i),d.jsx("span",{className:"text-xs mt-1",children:n})]}),yL=({autoReveal:e,onAutoReveal:t})=>{const{t:n}=Xn();return d.jsx("div",{className:"flex flex-col items-center",children:d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("span",{className:"mr-1 text-xs",children:n("GameController.autoReveal")}),d.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`relative inline-flex h-4 w-8 items-center rounded-full transition-colors focus:outline-none ${e?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,style:{minWidth:"2rem"},children:d.jsx("span",{className:`inline-block h-3 w-3 cursor-pointer transform rounded-full bg-white shadow transition-transform ${e?"translate-x-4":"translate-x-1"}`})})]})})},vL=e=>{switch(e){case"In Progress":return"";case"Finished":return"";default:return""}},wL=({game:e,players:t})=>{const n=e.gameType,r="N/A",i="-";if(!(n!==at.TShirt&&n!==at.TShirtAndNumber))return null;const{t:s}=Xn(),a=bL(e,t);let u=e.gameStatus===ze.Finished&&a?a.toFixed(2):i;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mx-2 h-6 border-l border-gray-400 dark:border-gray-600"}),d.jsxs("span",{className:"text-sm font-medium",children:[s("GameController.average"),":"]}),d.jsxs("span",{className:"px-2 py-1 ml-1 text-xs rounded-full bg-blue-100 dark:bg-blue-900 font-bold shadow-sm border border-gray-200 inline-flex items-center relative",children:[u,u!==i&&u!==r&&d.jsx(d.Fragment,{children:d.jsxs("span",{className:"relative group ml-1",children:[d.jsx("span",{className:"cursor-pointer group ml-1 flex",children:d.jsx(fx,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})}),d.jsx("span",{className:"absolute left-1/2 top-full mt-2 z-10 -translate-x-1/2 w-max min-w-[80px] rounded bg-white dark:bg-gray-900 bg-opacity-90 px-2 py-1 text-xs font-semibold border border-gray-200 dark:border-gray-700 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:`Rounded Average : ${Math.round(a)||0}`})]})})]})]})},bL=(e,t)=>{let n=0,r=0;const i=e.cards;return t.forEach(o=>{var a;const s=e.gameType===at.Custom?Number((a=i.find(u=>u.value===o.value))==null?void 0:a.displayValue):o.value;o.status===ze.Finished&&s!==void 0&&!isNaN(s)&&s&&s>=0&&(n=n+s,r++)}),Math.round(n/r*100)/100},xL=({game:e,players:t,currentPlayerId:n})=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col min-h-[60%] overflow-auto p-0.5 justify-center",children:[d.jsx(fL,{game:e,players:t,currentPlayerId:n}),d.jsx(gL,{game:e,players:t,currentPlayerId:n})]}),d.jsx("div",{className:"text-center flex justify-center",children:d.jsx(aL,{game:e,players:t,currentPlayerId:n})})]}),SL=()=>{let{id:e}=ax();const t=us(),[n,r]=ue.useState(void 0),[i,o]=ue.useState(void 0),[s,a]=ue.useState(!0),[u,l]=ue.useState(void 0);return ue.useEffect(()=>{const c=t.block((h,f)=>{if(f==="POP"&&!window.confirm("Are you sure you want to go back?"))return!1});return()=>{c()}},[t]),ue.useEffect(()=>{let c=!0;if(c){const h=fp(e);h||t.push(`/join/${e}`),l(h),a(!0)}return WR(e).onSnapshot(h=>{if(c){if(h.exists){const f=h.data();if(f){r(f),a(!1);return}}a(!1)}}),KR(e).onSnapshot(h=>{if(c){const f=[];h.forEach(y=>{f.push(y.data())});const p=fp(e);f.find(y=>y.id===p)||t.push(`/join/${e}`),o(f)}}),()=>{c=!1}},[e,t]),s?d.jsx("div",{className:"flex items-center justify-center p-10",children:d.jsx(Im,{})}):d.jsx(d.Fragment,{children:n&&i&&u?d.jsx(xL,{game:n,players:i,currentPlayerId:u}):d.jsx("p",{children:"Game not found"})})},EL=()=>d.jsx("div",{children:d.jsx(SL,{})}),TL=()=>d.jsx("div",{className:"flex flex-col items-center w-full",children:d.jsx(IL,{})}),IL=()=>d.jsx("div",{className:"flex flex-col items-center w-full",children:d.jsx("div",{className:"w-full max-w-3xl flex flex-col items-center justify-center my-8",children:d.jsxs("div",{className:"animate-fade-in-down",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Guidelines on estimating user stories in Agile"}),d.jsxs("div",{className:"text-base",children:[d.jsxs("p",{children:["1. ",d.jsx("b",{children:"Understand the User Story"}),":",d.jsx("br",{}),"Before estimating, ensure that the team has a clear understanding of the user story. The product owner or the person responsible for defining the user story should provide sufficient context and answer any questions from the team. The team should have a shared understanding of the user story's purpose, functionality, and expected outcomes."]}),d.jsx("br",{}),d.jsxs("p",{children:["2. ",d.jsx("b",{children:"Determine Estimation Scale"}),":",d.jsx("br",{}),"Choose an estimation scale that suits your team's needs. The most common scales used in Agile are Fibonacci sequence (1, 2, 3, 5, 8, 13, 21, etc.), T-shirt sizes (XS, S, M, L, XL), or linear scale (1-10). Select a scale that allows for enough differentiation between estimations and avoids spending excessive time on fine-grained estimates."]}),d.jsx("br",{}),d.jsxs("p",{children:["3. ",d.jsx("b",{children:"Relative Sizing"}),":",d.jsx("br",{}),"Agile estimation focuses on relative sizing, where the team compares the effort or complexity of one user story with another. This approach helps avoid the pitfalls of trying to estimate absolute time. Relative sizing allows for a more straightforward and faster estimation process."]}),d.jsx("br",{}),d.jsxs("p",{children:["4. ",d.jsx("b",{children:"Use Reference User Stories"}),":",d.jsx("br",{}),"Create a set of reference user stories that the team collectively agrees on. These reference stories serve as benchmarks against which other user stories can be compared. The team can assign a standard estimation value to each reference story based on its complexity, effort, or size."]}),d.jsx("br",{}),d.jsxs("p",{children:["5. ",d.jsx("b",{children:"Conduct Estimation Sessions"}),":",d.jsx("br",{}),"Organize estimation sessions with the entire team present. The team members responsible for implementing the user stories should be actively involved in the estimation process. Use techniques such as Planning Poker, where team members privately select estimation values, and then reveal them simultaneously, allowing for discussion and convergence."]}),d.jsx("br",{}),d.jsxs("p",{children:["6. ",d.jsx("b",{children:"Discuss and Resolve Differences"}),":",d.jsx("br",{}),"Encourage open discussion during estimation sessions. If team members provide different estimations, have them share their reasoning and insights. This discussion helps to uncover assumptions, identify risks or dependencies, and clarify any misunderstandings. The goal is to reach a consensus estimation."]}),d.jsx("br",{}),d.jsxs("p",{children:["7. ",d.jsx("b",{children:"Update and Refine Estimations"}),":",d.jsx("br",{}),"After the estimation session, update the user story estimates in the product backlog or Agile management tool. As the project progresses, continue to refine the estimates based on actual effort or complexity experienced during implementation. This continuous refinement improves the accuracy of future estimations."]})]})]})})});var zT={exports:{}};(()=>{var e={296:(i,o,s)=>{var a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,f=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,p=typeof self=="object"&&self&&self.Object===Object&&self,y=f||p||Function("return this")(),w=Object.prototype.toString,g=Math.max,m=Math.min,v=function(){return y.Date.now()};function b(T){var S=typeof T;return!!T&&(S=="object"||S=="function")}function x(T){if(typeof T=="number")return T;if(function(P){return typeof P=="symbol"||function(D){return!!D&&typeof D=="object"}(P)&&w.call(P)=="[object Symbol]"}(T))return NaN;if(b(T)){var S=typeof T.valueOf=="function"?T.valueOf():T;T=b(S)?S+"":S}if(typeof T!="string")return T===0?T:+T;T=T.replace(a,"");var k=l.test(T);return k||c.test(T)?h(T.slice(2),k?2:8):u.test(T)?NaN:+T}i.exports=function(T,S,k){var P,D,Y,se,ie,me,ce=0,E=!1,A=!1,ee=!0;if(typeof T!="function")throw new TypeError("Expected a function");function K($){var te=P,he=D;return P=D=void 0,ce=$,se=T.apply(he,te)}function z($){var te=$-me;return me===void 0||te>=S||te<0||A&&$-ce>=Y}function R(){var $=v();if(z($))return j($);ie=setTimeout(R,function(te){var he=S-(te-me);return A?m(he,Y-(te-ce)):he}($))}function j($){return ie=void 0,ee&&P?K($):(P=D=void 0,se)}function M(){var $=v(),te=z($);if(P=arguments,D=this,me=$,te){if(ie===void 0)return function(he){return ce=he,ie=setTimeout(R,S),E?K(he):se}(me);if(A)return ie=setTimeout(R,S),K(me)}return ie===void 0&&(ie=setTimeout(R,S)),se}return S=x(S)||0,b(k)&&(E=!!k.leading,Y=(A="maxWait"in k)?g(x(k.maxWait)||0,S):Y,ee="trailing"in k?!!k.trailing:ee),M.cancel=function(){ie!==void 0&&clearTimeout(ie),ce=0,P=me=D=ie=void 0},M.flush=function(){return ie===void 0?se:j(v())},M}},96:(i,o,s)=>{var a="Expected a function",u=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt,w=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,g=typeof self=="object"&&self&&self.Object===Object&&self,m=w||g||Function("return this")(),v=Object.prototype.toString,b=Math.max,x=Math.min,T=function(){return m.Date.now()};function S(P){var D=typeof P;return!!P&&(D=="object"||D=="function")}function k(P){if(typeof P=="number")return P;if(function(se){return typeof se=="symbol"||function(ie){return!!ie&&typeof ie=="object"}(se)&&v.call(se)==l}(P))return u;if(S(P)){var D=typeof P.valueOf=="function"?P.valueOf():P;P=S(D)?D+"":D}if(typeof P!="string")return P===0?P:+P;P=P.replace(c,"");var Y=f.test(P);return Y||p.test(P)?y(P.slice(2),Y?2:8):h.test(P)?u:+P}i.exports=function(P,D,Y){var se=!0,ie=!0;if(typeof P!="function")throw new TypeError(a);return S(Y)&&(se="leading"in Y?!!Y.leading:se,ie="trailing"in Y?!!Y.trailing:ie),function(me,ce,E){var A,ee,K,z,R,j,M=0,$=!1,te=!1,he=!0;if(typeof me!="function")throw new TypeError(a);function ke(ht){var vn=A,Wt=ee;return A=ee=void 0,M=ht,z=me.apply(Wt,vn)}function Ae(ht){var vn=ht-j;return j===void 0||vn>=ce||vn<0||te&&ht-M>=K}function He(){var ht=T();if(Ae(ht))return Ft(ht);R=setTimeout(He,function(vn){var Wt=ce-(vn-j);return te?x(Wt,K-(vn-M)):Wt}(ht))}function Ft(ht){return R=void 0,he&&A?ke(ht):(A=ee=void 0,z)}function mr(){var ht=T(),vn=Ae(ht);if(A=arguments,ee=this,j=ht,vn){if(R===void 0)return function(Wt){return M=Wt,R=setTimeout(He,ce),$?ke(Wt):z}(j);if(te)return R=setTimeout(He,ce),ke(j)}return R===void 0&&(R=setTimeout(He,ce)),z}return ce=k(ce)||0,S(E)&&($=!!E.leading,K=(te="maxWait"in E)?b(k(E.maxWait)||0,ce):K,he="trailing"in E?!!E.trailing:he),mr.cancel=function(){R!==void 0&&clearTimeout(R),M=0,A=j=ee=R=void 0},mr.flush=function(){return R===void 0?z:Ft(T())},mr}(P,D,{leading:se,maxWait:D,trailing:ie})}},703:(i,o,s)=>{var a=s(414);function u(){}function l(){}l.resetWarningCache=u,i.exports=function(){function c(p,y,w,g,m,v){if(v!==a){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}function h(){return c}c.isRequired=c;var f={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:h,element:c,elementType:c,instanceOf:h,node:c,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:l,resetWarningCache:u};return f.PropTypes=f,f}},697:(i,o,s)=>{i.exports=s(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return n.d(o,{a:o}),o},n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>vn,LazyLoadImage:()=>aI,trackWindowScroll:()=>z});const i=ue;var o=n.n(i),s=n(697);function a(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function u(U){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},u(U)}function l(U,I){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(U);I&&(q=q.filter(function(ge){return Object.getOwnPropertyDescriptor(U,ge).enumerable})),B.push.apply(B,q)}return B}function c(U,I,B){return(I=f(I))in U?Object.defineProperty(U,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):U[I]=B,U}function h(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,f(q.key),q)}}function f(U){var I=function(B,q){if(u(B)!=="object"||B===null)return B;var ge=B[Symbol.toPrimitive];if(ge!==void 0){var ve=ge.call(B,"string");if(u(ve)!=="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(U);return u(I)==="symbol"?I:String(I)}function p(U,I){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},p(U,I)}function y(U){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},y(U)}var w=function(U){U.forEach(function(I){I.isIntersecting&&I.target.onVisible()})},g={},m=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&p(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=y(q);if(ge){var ne=y(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(u(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Z)}(this,O)});function Ne(O){var L;if(function(Z,J){if(!(Z instanceof J))throw new TypeError("Cannot call a class as a function")}(this,Ne),(L=ve.call(this,O)).supportsObserver=!O.scrollPosition&&O.useIntersectionObserver&&a(),L.supportsObserver){var ne=O.threshold;L.observer=function(Z){return g[Z]=g[Z]||new IntersectionObserver(w,{rootMargin:Z+"px"}),g[Z]}(ne)}return L}return I=Ne,B=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,L=this.placeholder.getBoundingClientRect(),ne=this.placeholder.style,Z=parseInt(ne.getPropertyValue("margin-left"),10)||0,J=parseInt(ne.getPropertyValue("margin-top"),10)||0;return{bottom:O.y+L.bottom+J,left:O.x+L.left+Z,right:O.x+L.right+Z,top:O.y+L.top+J}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var O=this.props,L=O.scrollPosition,ne=O.threshold,Z=this.getPlaceholderBoundingBox(L),J=L.y+window.innerHeight,we=L.x,Ue=L.x+window.innerWidth,Ve=L.y;return Ve-ne<=Z.bottom&&J+ne>=Z.top&&we-ne<=Z.right&&Ue+ne>=Z.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var O=this,L=this.props,ne=L.className,Z=L.height,J=L.placeholder,we=L.style,Ue=L.width;if(J&&typeof J.type!="function")return o().cloneElement(J,{ref:function(De){return O.placeholder=De}});var Ve=function(De){for(var dt=1;dt<arguments.length;dt++){var Xe=arguments[dt]!=null?arguments[dt]:{};dt%2?l(Object(Xe),!0).forEach(function(Et){c(De,Et,Xe[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(Xe)):l(Object(Xe)).forEach(function(Et){Object.defineProperty(De,Et,Object.getOwnPropertyDescriptor(Xe,Et))})}return De}({display:"inline-block"},we);return Ue!==void 0&&(Ve.width=Ue),Z!==void 0&&(Ve.height=Z),o().createElement("span",{className:ne,ref:function(De){return O.placeholder=De},style:Ve},J)}}],B&&h(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);m.propTypes={onVisible:s.PropTypes.func.isRequired,className:s.PropTypes.string,height:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),placeholder:s.PropTypes.element,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,scrollPosition:s.PropTypes.shape({x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired}),width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string])},m.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const v=m;var b=n(296),x=n.n(b),T=n(96),S=n.n(T),k=function(U){var I=getComputedStyle(U,null);return I.getPropertyValue("overflow")+I.getPropertyValue("overflow-y")+I.getPropertyValue("overflow-x")};const P=function(U){if(!(U instanceof HTMLElement))return window;for(var I=U;I&&I instanceof HTMLElement;){if(/(scroll|auto)/.test(k(I)))return I;I=I.parentNode}return window};function D(U){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},D(U)}var Y=["delayMethod","delayTime"];function se(){return se=Object.assign?Object.assign.bind():function(U){for(var I=1;I<arguments.length;I++){var B=arguments[I];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(U[q]=B[q])}return U},se.apply(this,arguments)}function ie(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,(ge=function(ve,Ne){if(D(ve)!=="object"||ve===null)return ve;var O=ve[Symbol.toPrimitive];if(O!==void 0){var L=O.call(ve,"string");if(D(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(q.key),D(ge)==="symbol"?ge:String(ge)),q)}var ge}function me(U,I){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},me(U,I)}function ce(U,I){if(I&&(D(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(U)}function E(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function A(U){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},A(U)}var ee=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},K=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const z=function(U){var I=function(B){(function(ne,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),Z&&me(ne,Z)})(L,B);var q,ge,ve,Ne,O=(ve=L,Ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ne,Z=A(ve);if(Ne){var J=A(this).constructor;ne=Reflect.construct(Z,arguments,J)}else ne=Z.apply(this,arguments);return ce(this,ne)});function L(ne){var Z;if(function(we,Ue){if(!(we instanceof Ue))throw new TypeError("Cannot call a class as a function")}(this,L),(Z=O.call(this,ne)).useIntersectionObserver=ne.useIntersectionObserver&&a(),Z.useIntersectionObserver)return ce(Z);var J=Z.onChangeScroll.bind(E(Z));return ne.delayMethod==="debounce"?Z.delayedScroll=x()(J,ne.delayTime):ne.delayMethod==="throttle"&&(Z.delayedScroll=S()(J,ne.delayTime)),Z.state={scrollPosition:{x:ee(),y:K()}},Z.baseComponentRef=o().createRef(),Z}return q=L,(ge=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||P(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=P(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ee(),y:K()}})}},{key:"render",value:function(){var ne=this.props,Z=(ne.delayMethod,ne.delayTime,function(we,Ue){if(we==null)return{};var Ve,De,dt=function(Et,Xi){if(Et==null)return{};var ni,_u,ty={},ny=Object.keys(Et);for(_u=0;_u<ny.length;_u++)ni=ny[_u],Xi.indexOf(ni)>=0||(ty[ni]=Et[ni]);return ty}(we,Ue);if(Object.getOwnPropertySymbols){var Xe=Object.getOwnPropertySymbols(we);for(De=0;De<Xe.length;De++)Ve=Xe[De],Ue.indexOf(Ve)>=0||Object.prototype.propertyIsEnumerable.call(we,Ve)&&(dt[Ve]=we[Ve])}return dt}(ne,Y)),J=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(U,se({forwardRef:this.baseComponentRef,scrollPosition:J},Z))}}])&&ie(q.prototype,ge),Object.defineProperty(q,"prototype",{writable:!1}),L}(o().Component);return I.propTypes={delayMethod:s.PropTypes.oneOf(["debounce","throttle"]),delayTime:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool},I.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},I};function R(U){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},R(U)}function j(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,(ge=function(ve,Ne){if(R(ve)!=="object"||ve===null)return ve;var O=ve[Symbol.toPrimitive];if(O!==void 0){var L=O.call(ve,"string");if(R(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(q.key),R(ge)==="symbol"?ge:String(ge)),q)}var ge}function M(U,I){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},M(U,I)}function $(U){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},$(U)}var te=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&M(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=$(q);if(ge){var ne=$(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(R(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Z)}(this,O)});function Ne(O){return function(L,ne){if(!(L instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,Ne),ve.call(this,O)}return I=Ne,(B=[{key:"render",value:function(){return o().createElement(v,this.props)}}])&&j(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);const he=z(te);function ke(U){return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},ke(U)}function Ae(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,(ge=function(ve,Ne){if(ke(ve)!=="object"||ve===null)return ve;var O=ve[Symbol.toPrimitive];if(O!==void 0){var L=O.call(ve,"string");if(ke(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(q.key),ke(ge)==="symbol"?ge:String(ge)),q)}var ge}function He(U,I){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},He(U,I)}function Ft(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function mr(U){return mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},mr(U)}var ht=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&He(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=mr(q);if(ge){var ne=mr(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(ke(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(Z)}(this,O)});function Ne(O){var L;(function(Ue,Ve){if(!(Ue instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,Ne),L=ve.call(this,O);var ne=O.afterLoad,Z=O.beforeLoad,J=O.scrollPosition,we=O.visibleByDefault;return L.state={visible:we},we&&(Z(),ne()),L.onVisible=L.onVisible.bind(Ft(L)),L.isScrollTracked=!!(J&&Number.isFinite(J.x)&&J.x>=0&&Number.isFinite(J.y)&&J.y>=0),L}return I=Ne,(B=[{key:"componentDidUpdate",value:function(O,L){L.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var O=this.props,L=O.className,ne=O.delayMethod,Z=O.delayTime,J=O.height,we=O.placeholder,Ue=O.scrollPosition,Ve=O.style,De=O.threshold,dt=O.useIntersectionObserver,Xe=O.width;return this.isScrollTracked||dt&&a()?o().createElement(v,{className:L,height:J,onVisible:this.onVisible,placeholder:we,scrollPosition:Ue,style:Ve,threshold:De,useIntersectionObserver:dt,width:Xe}):o().createElement(he,{className:L,delayMethod:ne,delayTime:Z,height:J,onVisible:this.onVisible,placeholder:we,style:Ve,threshold:De,width:Xe})}}])&&Ae(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);ht.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool},ht.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const vn=ht;function Wt(U){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Wt(U)}var iI=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Jg(U,I){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(U);I&&(q=q.filter(function(ge){return Object.getOwnPropertyDescriptor(U,ge).enumerable})),B.push.apply(B,q)}return B}function Zg(U){for(var I=1;I<arguments.length;I++){var B=arguments[I]!=null?arguments[I]:{};I%2?Jg(Object(B),!0).forEach(function(q){oI(U,q,B[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(B)):Jg(Object(B)).forEach(function(q){Object.defineProperty(U,q,Object.getOwnPropertyDescriptor(B,q))})}return U}function oI(U,I,B){return(I=ey(I))in U?Object.defineProperty(U,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):U[I]=B,U}function Cu(){return Cu=Object.assign?Object.assign.bind():function(U){for(var I=1;I<arguments.length;I++){var B=arguments[I];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(U[q]=B[q])}return U},Cu.apply(this,arguments)}function sI(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,ey(q.key),q)}}function ey(U){var I=function(B,q){if(Wt(B)!=="object"||B===null)return B;var ge=B[Symbol.toPrimitive];if(ge!==void 0){var ve=ge.call(B,"string");if(Wt(ve)!=="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(U);return Wt(I)==="symbol"?I:String(I)}function Gf(U,I){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},Gf(U,I)}function Nu(U){return Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},Nu(U)}var Wf=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&Gf(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=Nu(q);if(ge){var ne=Nu(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(Wt(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Z)}(this,O)});function Ne(O){var L;return function(ne,Z){if(!(ne instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Ne),(L=ve.call(this,O)).state={loaded:!1},L}return I=Ne,(B=[{key:"onImageLoad",value:function(){var O=this;return this.state.loaded?null:function(L){O.props.onLoad(L),O.props.afterLoad(),O.setState({loaded:!0})}}},{key:"getImg",value:function(){var O=this.props,L=(O.afterLoad,O.beforeLoad,O.delayMethod,O.delayTime,O.effect,O.placeholder,O.placeholderSrc,O.scrollPosition,O.threshold,O.useIntersectionObserver,O.visibleByDefault,O.wrapperClassName,O.wrapperProps,function(ne,Z){if(ne==null)return{};var J,we,Ue=function(De,dt){if(De==null)return{};var Xe,Et,Xi={},ni=Object.keys(De);for(Et=0;Et<ni.length;Et++)Xe=ni[Et],dt.indexOf(Xe)>=0||(Xi[Xe]=De[Xe]);return Xi}(ne,Z);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(ne);for(we=0;we<Ve.length;we++)J=Ve[we],Z.indexOf(J)>=0||Object.prototype.propertyIsEnumerable.call(ne,J)&&(Ue[J]=ne[J])}return Ue}(O,iI));return o().createElement("img",Cu({},L,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var O=this.props,L=O.beforeLoad,ne=O.className,Z=O.delayMethod,J=O.delayTime,we=O.height,Ue=O.placeholder,Ve=O.scrollPosition,De=O.style,dt=O.threshold,Xe=O.useIntersectionObserver,Et=O.visibleByDefault,Xi=O.width;return o().createElement(vn,{beforeLoad:L,className:ne,delayMethod:Z,delayTime:J,height:we,placeholder:Ue,scrollPosition:Ve,style:De,threshold:dt,useIntersectionObserver:Xe,visibleByDefault:Et,width:Xi},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(O){var L=this.props,ne=L.effect,Z=L.height,J=L.placeholderSrc,we=L.width,Ue=L.wrapperClassName,Ve=L.wrapperProps,De=this.state.loaded,dt=De?" lazy-load-image-loaded":"",Xe=De||!J?{}:{backgroundImage:"url(".concat(J,")"),backgroundSize:"100% 100%"};return o().createElement("span",Cu({className:Ue+" lazy-load-image-background "+ne+dt,style:Zg(Zg({},Xe),{},{color:"transparent",display:"inline-block",height:Z,width:we})},Ve),O)}},{key:"render",value:function(){var O=this.props,L=O.effect,ne=O.placeholderSrc,Z=O.visibleByDefault,J=O.wrapperClassName,we=O.wrapperProps,Ue=this.getLazyLoadImage();return(L||ne)&&!Z||J||we?this.getWrappedLazyLoadImage(Ue):Ue}}])&&sI(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);Wf.propTypes={onLoad:s.PropTypes.func,afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,delayMethod:s.PropTypes.string,delayTime:s.PropTypes.number,effect:s.PropTypes.string,placeholderSrc:s.PropTypes.string,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool,wrapperClassName:s.PropTypes.string,wrapperProps:s.PropTypes.object},Wf.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const aI=Wf})(),zT.exports=r})();var kL=zT.exports;const CL=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"20",height:"20",fill:"none","aria-hidden":"true",children:[d.jsx("circle",{cx:"16",cy:"16",r:"13",stroke:"#2563eb",strokeWidth:"2.5",fill:"none"}),d.jsx("text",{x:"16",y:"18",textAnchor:"middle",fontSize:"18",fontWeight:"bold",fill:"#2563eb",fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:"1",dominantBaseline:"middle",children:"C"})]}),NL=()=>d.jsxs("footer",{children:[d.jsx("div",{className:"border-b border-gray-300"}),d.jsxs("div",{className:"flex w-full items-center justify-between p-2",children:[d.jsxs("div",{className:"flex items-center justify-center pl-5",children:[d.jsx(CL,{}),d.jsx("p",{className:"text-sm pl-1 pb-0.5",children:"pankaj9057"})]}),d.jsx("div",{className:"border-r border-gray-300 mx-2 h-10"}),d.jsx("div",{className:"FooterItemContainer",children:d.jsx("p",{className:"text-sm",children:"Feedback: pankaj9057@gmail.com"})}),d.jsx("div",{className:"border-r border-gray-300 mx-2 h-10"}),d.jsx("a",{href:"https://github.com/pankaj9057/planning-poker/issues",children:"Submit an Issue"})]})]}),Tw=e=>{e=1831565813+(e|=0)|0;let t=Math.imul(e^e>>>15,1|e);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296};class _L{constructor(t){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:n,separator:r,dictionaries:i,style:o,seed:s}=t;this.dictionaries=i,this.separator=r,this.length=n,this.style=o,this.seed=s}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let t=this.seed;return this.dictionaries.slice(0,this.length).reduce((n,r)=>{let i;t?(i=(s=>{if(typeof s=="string"){const a=s.split("").map(l=>l.charCodeAt(0)).reduce((l,c)=>l+c,1),u=Math.floor(Number(a));return Tw(u)}return Tw(s)})(t),t=4294967296*i):i=Math.random();let o=r[Math.floor(i*r.length)]||"";if(this.style==="lowerCase")o=o.toLowerCase();else if(this.style==="capital"){const[s,...a]=o.split("");o=s.toUpperCase()+a.join("")}else this.style==="upperCase"&&(o=o.toUpperCase());return n?`${n}${this.separator}${o}`:`${o}`},"")}}const Iw={separator:"_",dictionaries:[]},kw=e=>{const t=[...e&&e.dictionaries||Iw.dictionaries],n={...Iw,...e,length:e&&e.length||t.length,dictionaries:t};if(!e||!e.dictionaries||!e.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new _L(n).generate()};var PL=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],jL=["amaranth","amber","amethyst","apricot","aqua","aquamarine","azure","beige","black","blue","blush","bronze","brown","chocolate","coffee","copper","coral","crimson","cyan","emerald","fuchsia","gold","gray","green","harlequin","indigo","ivory","jade","lavender","lime","magenta","maroon","moccasin","olive","orange","peach","pink","plum","purple","red","rose","salmon","sapphire","scarlet","silver","tan","teal","tomato","turquoise","violet","white","yellow"],OL=["Ackbar","Adi Gallia","Anakin Skywalker","Arvel Crynyd","Ayla Secura","Bail Prestor Organa","Barriss Offee","Ben Quadinaros","Beru Whitesun lars","Bib Fortuna","Biggs Darklighter","Boba Fett","Bossk","C-3PO","Chewbacca","Cliegg Lars","Cord","Darth Maul","Darth Vader","Dexter Jettster","Dooku","Dorm","Dud Bolt","Eeth Koth","Finis Valorum","Gasgano","Greedo","Gregar Typho","Grievous","Han Solo","IG-88","Jabba Desilijic Tiure","Jango Fett","Jar Jar Binks","Jek Tono Porkins","Jocasta Nu","Ki-Adi-Mundi","Kit Fisto","Lama Su","Lando Calrissian","Leia Organa","Lobot","Luke Skywalker","Luminara Unduli","Mace Windu","Mas Amedda","Mon Mothma","Nien Nunb","Nute Gunray","Obi-Wan Kenobi","Owen Lars","Padm Amidala","Palpatine","Plo Koon","Poggle the Lesser","Quarsh Panaka","Qui-Gon Jinn","R2-D2","R4-P17","R5-D4","Ratts Tyerel","Raymus Antilles","Ric Oli","Roos Tarpals","Rugor Nass","Saesee Tiin","San Hill","Sebulba","Shaak Ti","Shmi Skywalker","Sly Moore","Tarfful","Taun We","Tion Medon","Wat Tambor","Watto","Wedge Antilles","Wicket Systri Warrick","Wilhuff Tarkin","Yarael Poof","Yoda","Zam Wesell"];const AL={dictionaries:[jL,PL],separator:" ",style:"capital"},DL={dictionaries:[OL]},RL=()=>{const e=us(),[t,n]=ue.useState(kw(AL)),[r,i]=ue.useState(localStorage.getItem("recentPlayerName")||kw(DL)),[o,s]=ue.useState(at.Fibonacci),[a,u]=ue.useState({game:!0,name:!0}),[l,c]=ue.useState(!1),[h,f]=ue.useState(!1),[p,y]=xe.useState(Array(15).fill("")),[w,g]=xe.useState(!1),{t:m}=Xn(),v=async S=>{if(S.preventDefault(),o===at.Custom){const D=p.reduce((Y,se)=>se&&se.trim()!==""?Y+1:Y,0);if(g(D<2),D<2)return}c(!0);const k={name:t,createdBy:r,gameType:o,isAllowMembersToManageSession:h,cards:o===at.Custom?sL(p):zf(o),createdAt:new Date},P=await GR(k);P&&(localStorage.setItem("recentPlayerName",r),c(!1)),e.push(`/game/${P}`)},b=(S,k)=>{const P=[...p];P[S]=k,y(P)},x=()=>{a.game&&(n(""),a.game=!1,u({...a}))},T=()=>{a.name&&(i(""),a.name=!1,u({...a}))};return d.jsx("form",{onSubmit:v,className:"w-full flex justify-center",children:d.jsxs("div",{className:"w-full max-w-lg border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:m("CreateGame.newSessionHeader")}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:m("CreateGame.sessionNameLabel")}),d.jsx("input",{required:!0,type:"text",className:"w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Enter a session name",value:t||"",onClick:x,onChange:S=>n(S.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:m("CreateGame.yourNameLabel")}),d.jsx("input",{required:!0,type:"text",className:"w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Enter your name",value:r||"",onClick:T,onChange:S=>i(S.target.value)})]}),d.jsxs("fieldset",{children:[d.jsx("legend",{className:"block text-sm font-medium mb-2",children:m("CreateGame.sessionSizingType")}),d.jsx("div",{className:"flex flex-col gap-2",children:[{type:at.Fibonacci,label:m("CreateGame.fibonacci")},{type:at.ShortFibonacci,label:m("CreateGame.shortFibonacci")},{type:at.TShirt,label:m("CreateGame.tShirt")},{type:at.TShirtAndNumber,label:m("CreateGame.tShirtAndNumber")},{type:at.Custom,label:m("CreateGame.custom")}].map(({type:S,label:k})=>d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"radio",className:"form-radio text-blue-600",name:"gameType",value:S,checked:o===S,onChange:()=>s(S)}),d.jsx("span",{className:"ml-2",children:k})]},S))})]}),o===at.Custom&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.map((S,k)=>d.jsx("input",{type:"text",maxLength:3,className:"w-12 border rounded px-2 py-1 text-xs text-center focus:outline-none focus:ring-2 focus:ring-blue-500",value:S,onChange:P=>b(k,P.target.value),"data-testid":`custom-option-${k}`},k))}),w&&d.jsx("p",{className:"text-red-600 text-xs mt-1",children:m("CreateGame.pleaseEnterValues")})]}),d.jsxs("label",{className:"inline-flex items-center mt-2",children:[d.jsx("input",{type:"checkbox",className:"form-checkbox text-blue-600",checked:h,onChange:()=>f(!h)}),d.jsx("span",{className:"ml-2",children:m("CreateGame.allowMembersToManageSession")})]})]}),d.jsx("div",{className:"flex justify-end mt-6",children:d.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-6 py-2 rounded font-semibold shadow hover:bg-blue-700 transition ${l?"opacity-50 cursor-not-allowed":""}`,disabled:l,"data-testid":"loading",children:m(l?"CreateGame.creating":"CreateGame.create")})})]})})},HT=()=>{const e=us();let{id:t}=ax();const[n,r]=ue.useState(t),[i,o]=ue.useState(()=>localStorage.getItem("recentPlayerName")||""),[s,a]=ue.useState(!0),[u,l]=ue.useState(!1),[c,h]=ue.useState(!1);ue.useEffect(()=>{async function p(){n&&(await UT(n)?(a(!0),await qR(n)&&e.push(`/game/${n}`)):(l(!0),setTimeout(()=>{e.push("/")},5e3)))}p()},[n,e]);const f=async p=>{var m,v;p.preventDefault();const y=p.target,w=(m=y.elements.namedItem("joinGameId"))==null?void 0:m.value,g=(v=y.elements.namedItem("playerName"))==null?void 0:v.value;if(h(!0),n){localStorage.setItem("recentPlayerName",g);const b=await zR(w,g);a(b),b&&e.push(`/game/${n}`),h(!1)}};return d.jsxs("div",{className:"w-full",children:[d.jsx("form",{onSubmit:f,className:"w-full flex justify-center",children:d.jsxs("div",{className:"w-full max-w-lg  border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Join a Session"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session ID"}),d.jsx("input",{id:"joinGameId",required:!0,type:"text",className:`w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400 ${s?"":"border-red-500"}`,placeholder:"xyz...",value:n||"",onChange:p=>r(p.target.value)}),!s&&d.jsx("p",{className:"text-red-600 text-xs mt-1",children:"Session not found, check the ID"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Your Name"}),d.jsx("input",{required:!0,id:"playerName",type:"text",className:"w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Enter your name",value:i,onChange:p=>o(p.target.value)})]})]}),d.jsx("div",{className:"flex justify-end mt-6",children:d.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-6 py-2 rounded font-semibold shadow hover:bg-blue-700 transition ${c?"opacity-50 cursor-not-allowed":""}`,disabled:c,children:c?"Joining...":"Join"})})]})}),u&&d.jsx("div",{className:"fixed top-6 right-6 z-50",children:d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow",role:"alert",children:d.jsx("span",{className:"block font-bold",children:"Session was deleted and doesn't exist anymore!"})})})]})},LL=({className:e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",className:e,children:d.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),FL=()=>{const e=us(),[t,n]=ue.useState(void 0),[r,i]=ue.useState(!1);ue.useEffect(()=>{let a=!0;async function u(){const l=await BR();l&&a&&n(l)}return u(),()=>{a=!1}},[r]);const o=()=>!!(!t||t&&t.length===0),s=async a=>{await VT(a),i(!r)};return d.jsxs("div",{className:"border border-gray-400 rounded-md shadow-sm",children:[d.jsx("div",{className:"text-center -mt-5 mx-auto w-[95%] border-2 bg-white dark:bg-gray-800 border-gray-400 rounded-2xl flex items-center justify-center px-3 py-1",children:d.jsx("h6",{className:"text-lg font-medium  truncate",children:"Recent Session"})}),d.jsxs("div",{className:"p-4",children:[o()&&d.jsx("p",{className:"text-sm",children:"No recent sessions found"}),t&&t.length>0&&d.jsx("div",{className:"overflow-x-auto",style:{maxHeight:250},children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-800 px-6 py-3 text-left text-xs font-bold tracking-wider",children:"Name"}),d.jsx("th",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-800 px-6 py-3 text-left text-xs font-bold  tracking-wider",children:"Created By"}),d.jsx("th",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-800 px-6 py-3 text-left text-xs font-medium  tracking-wider"})]})}),d.jsx("tbody",{className:"",children:t.map(a=>a.name&&d.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer border-t border-gray-200",onClick:()=>e.push(`/game/${a.id}`),children:[d.jsx("td",{className:"px-6 py-4 text-sm",children:a.name}),d.jsx("td",{className:"px-6 py-4 text-sm",children:a.createdBy}),Xg(a.createdById,fp(a.id),a.isAllowMembersToManageSession)?d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",onClick:u=>u.stopPropagation(),children:d.jsx(qT,{id:a.id,message:`Are you sure? That will delete the session: ${a.name} and remove all players from the session.`,onConfirm:u=>s(u),children:d.jsx(LL,{className:"h-5 w-5 text-red-400"})})}):d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"})]},a.id))})]})})]})]})},ML="/planning-poker/assets/Session-Bb4dtvfN.jpg",$L="/planning-poker/assets/background-DerjLgBG.jpg",UL=()=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center w-full animate-fade-in-down",children:[d.jsx(VL,{}),d.jsx(ko,{}),d.jsx(BL,{}),d.jsx(ko,{}),d.jsx(qL,{}),d.jsx(ko,{}),d.jsx(zL,{})]}),d.jsx(NL,{})]}),Yg=({children:e,maxWidth:t="max-w-7xl",className:n=""})=>d.jsx("div",{className:`flex flex-col lg:flex-row w-full ${t} items-center justify-center ${n}`,children:e}),Jo=({children:e,className:t="",...n})=>d.jsx("div",{className:`w-full lg:w-1/2 px-4 ${t}`,...n,children:e}),VL=()=>{const e=IN("/join"),{t}=Xn();return d.jsxs(Yg,{className:"pt-8",children:[d.jsxs(Jo,{className:"flex flex-col items-center",children:[d.jsx("h1",{className:"text-2xl font-semibold text-center mb-4",children:t("HomePage.heroSection.title")}),d.jsx("div",{className:"p-4",children:d.jsx(kL.LazyLoadImage,{loading:"lazy",alt:t("HomePage.heroSection.title"),className:"w-[500px] h-auto rounded-lg shadow-md",src:$L})}),d.jsx("p",{className:"text-base text-center mb-4",children:t("HomePage.heroSection.description")})]}),d.jsx(Jo,{className:"flex flex-col items-center",children:d.jsx("div",{className:"w-full max-w-md",children:e?d.jsx(HT,{}):d.jsx(RL,{})})})]})},BL=()=>{const{t:e}=Xn();return d.jsxs(Yg,{children:[d.jsx(Jo,{className:"mb-8 lg:mb-0",children:d.jsx("div",{className:"p-6 flex flex-col items-center justify-center",children:d.jsx(FL,{})})}),d.jsx(Jo,{children:d.jsx("div",{className:"p-6 flex flex-col items-center justify-center",children:d.jsx("p",{className:"text-base",children:e("HomePage.recentSessions","Here is your recent Planning/Refinement sessions, click on the session name to join the session again.")})})})]})},qL=()=>{const{t:e}=Xn();return d.jsxs(Yg,{maxWidth:"max-w-5xl",children:[d.jsx(Jo,{className:"mb-8 lg:mb-0",children:d.jsxs("div",{className:"p-6 flex flex-col items-center justify-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("HomePage.uiDesignTitle","Intuitive UI Design")}),d.jsx("p",{className:"text-base",children:e("HomePage.uiDesignDesc","Beautiful design for voting the story points, showing team members voting status with emojis( - Voting Done,  - Yet to Vote). Once the card values are revealed, the card color helps to understand if the team's voting is sync or not. Session Moderator has full control on revealing story points and restarting the session.")})]})}),d.jsx(Jo,{children:d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"p-4",children:d.jsx("img",{className:"-mt-2 w-[600px] h-auto rounded-lg shadow-md",alt:"Session controller",src:ML})})})})]})},zL=()=>d.jsx("div",{className:"w-full max-w-7xl my-8",children:d.jsx(hx,{})}),HL=()=>d.jsx("div",{className:"flex flex-col items-center w-full py-8 flex-1",children:d.jsx("div",{className:"w-full max-w-5xl flex justify-center",children:d.jsx("div",{className:"w-full max-w-xl animate-fade-in-down",children:d.jsx(HT,{})})})});SC();function GL(){return d.jsx("div",{className:"bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 min-h-screen",children:d.jsx(ue.Suspense,{fallback:d.jsx("div",{className:"text-center items-center justify-center flex",children:d.jsx(Im,{})}),children:d.jsxs(kN,{basename:"/planning-poker",children:[d.jsx(r_,{}),d.jsxs(EN,{children:[d.jsx(ri,{path:"/game/:id",component:EL}),d.jsx(ri,{path:"/delete-old-games",component:eL}),d.jsx(ri,{path:"/join/:id",component:HL}),d.jsx(ri,{path:"/about-planning-poker",component:u_}),d.jsx(ri,{path:"/examples",component:tL}),d.jsx(ri,{path:"/guide",component:TL}),d.jsx(ri,{exact:!0,path:"/*",component:UL})]})]})})})}const de=e=>typeof e=="string",Ms=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},Cw=e=>e==null?"":""+e,WL=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},KL=/###/g,Nw=e=>e&&e.indexOf("###")>-1?e.replace(KL,"."):e,_w=e=>!e||de(e),ga=(e,t,n)=>{const r=de(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(_w(e))return{};const o=Nw(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return _w(e)?{}:{obj:e,k:Nw(r[i])}},Pw=(e,t,n)=>{const{obj:r,k:i}=ga(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],s=t.slice(0,t.length-1),a=ga(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=ga(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},QL=(e,t,n,r)=>{const{obj:i,k:o}=ga(e,t,Object);i[o]=i[o]||[],i[o].push(n)},vc=(e,t)=>{const{obj:n,k:r}=ga(e,t);if(n)return n[r]},XL=(e,t,n)=>{const r=vc(e,n);return r!==void 0?r:vc(t,n)},GT=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?de(e[r])||e[r]instanceof String||de(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):GT(e[r],t[r],n):e[r]=t[r]);return e},eo=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var YL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JL=e=>de(e)?e.replace(/[&<>"'\/]/g,t=>YL[t]):e;class ZL{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const eF=[" ",",","?","!",";"],tF=new ZL(20),nF=(e,t,n)=>{t=t||"",n=n||"";const r=eF.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=tF.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},dp=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let u=o;u<r.length;++u)if(u!==o&&(a+=n),a+=r[u],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&u<r.length-1)continue;o+=u-o+1;break}i=s}return i},wc=e=>e&&e.replace("_","-"),rF={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class bc{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||rF,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(de(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new bc(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new bc(this.logger,t)}}var Bn=new bc;class Hf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[a,u]=s;for(let l=0;l<u;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,u]=s;for(let l=0;l<u;l++)a.apply(a,[t,...r])})}}class jw extends Hf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):de(r)&&o?a.push(...r.split(o)):a.push(r)));const u=vc(this.data,a);return!u&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),u||!s||!de(r)?u:dp(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),Pw(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(de(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let u=vc(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?GT(u,r,o):u={...u,...r},Pw(this.data,a,u),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var WT={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const Ow={};class xc extends Hf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),WL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Bn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!nF(t,r,i);if(s&&!a){const u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:de(o)?[o]:o};const l=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),t=l.join(i)}return{key:t,namespaces:de(o)?[o]:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),u=a[a.length-1],l=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${x}${s}`,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${x}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:s}const h=this.resolve(t,n);let f=h&&h.res;const p=h&&h.usedKey||s,y=h&&h.exactUsedKey||s,w=Object.prototype.toString.apply(f),g=["[object Number]","[object Function]","[object RegExp]"],m=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!de(f)&&typeof f!="boolean"&&typeof f!="number";if(v&&f&&b&&g.indexOf(w)<0&&!(de(m)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(h.res=x,h.usedParams=this.getUsedParamsDetails(n),h):x}if(o){const x=Array.isArray(f),T=x?[]:{},S=x?y:p;for(const k in f)if(Object.prototype.hasOwnProperty.call(f,k)){const P=`${S}${o}${k}`;T[k]=this.translate(P,{...n,joinArrays:!1,ns:a}),T[k]===P&&(T[k]=f[k])}f=T}}else if(v&&de(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,t,n,r));else{let x=!1,T=!1;const S=n.count!==void 0&&!de(n.count),k=xc.hasDefaultValue(n),P=S?this.pluralResolver.getSuffix(l,n.count,n):"",D=n.ordinal&&S?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",Y=S&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),se=Y&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${P}`]||n[`defaultValue${D}`]||n.defaultValue;!this.isValidLookup(f)&&k&&(x=!0,f=se),this.isValidLookup(f)||(T=!0,f=s);const me=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:f,ce=k&&se!==f&&this.options.updateMissing;if(T||x||ce){if(this.logger.log(ce?"updateKey":"missingKey",l,u,s,ce?se:f),o){const K=this.resolve(s,{...n,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let E=[];const A=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&A&&A[0])for(let K=0;K<A.length;K++)E.push(A[K]);else this.options.saveMissingTo==="all"?E=this.languageUtils.toResolveHierarchy(n.lng||this.language):E.push(n.lng||this.language);const ee=(K,z,R)=>{const j=k&&R!==f?R:me;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,z,j,ce,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(K,u,z,j,ce,n),this.emit("missingKey",K,u,z,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?E.forEach(K=>{const z=this.pluralResolver.getSuffixes(K,n);Y&&n[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(R=>{ee([K],s+R,n[`defaultValue${R}`]||se)})}):ee(E,s,se))}f=this.extendTranslation(f,t,n,h,r),T&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${u}:${s}`),(T||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${s}`:s,x?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(h.res=f,h.usedParams=this.getUsedParamsDetails(n),h):f}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=de(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const f=t.match(this.interpolator.nestingRegexp);c=f&&f.length}let h=r.replace&&!de(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||i.usedLng,r),l){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];return o&&o[0]===p[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):s.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,u=de(a)?[a]:a;return t!=null&&u&&u.length&&r.applyPostProcessor!==!1&&(t=WT.handle(u,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return de(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(u,n),c=l.key;i=c;let h=l.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!de(n.count),p=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(de(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(g=>{this.isValidLookup(r)||(a=g,!Ow[`${w[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Ow[`${w[0]}-${g}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(m=>{if(this.isValidLookup(r))return;s=m;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,m,g,n);else{let x;f&&(x=this.pluralResolver.getSuffix(m,n.count,n));const T=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(v.push(c+x),n.ordinal&&x.indexOf(S)===0&&v.push(c+x.replace(S,this.options.pluralSeparator)),p&&v.push(c+T)),y){const k=`${c}${this.options.contextSeparator}${n.context}`;v.push(k),f&&(v.push(k+x),n.ordinal&&x.indexOf(S)===0&&v.push(k+x.replace(S,this.options.pluralSeparator)),p&&v.push(k+T))}}let b;for(;b=v.pop();)this.isValidLookup(r)||(o=b,r=this.getResource(m,g,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!de(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const Fh=e=>e.charAt(0).toUpperCase()+e.slice(1);class Aw{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Bn.create("languageUtils")}getScriptPartFromCode(t){if(t=wc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=wc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(de(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Fh(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Fh(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Fh(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),de(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return de(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):de(t)&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let iF=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],oF={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const sF=["v1","v2","v3"],aF=["v4"],Dw={zero:0,one:1,two:2,few:3,many:4,other:5},uF=()=>{const e={};return iF.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:oF[t.fc]}})}),e};class lF{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Bn.create("pluralResolver"),(!this.options.compatibilityJSON||aF.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=uF(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=wc(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!t.match(/-|_/))return;const u=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(u,n)}return this.pluralRulesCache[o]=s,s}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Dw[i]-Dw[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!sF.includes(this.options.compatibilityJSON)}}const Rw=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=XL(e,t,n);return!o&&i&&de(n)&&(o=dp(e,n,r),o===void 0&&(o=dp(t,n,r))),o},Mh=e=>e.replace(/\$/g,"$$$$");class cF{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bn.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:u,formatSeparator:l,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:w,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:JL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?eo(o):s||"{{",this.suffix=a?eo(a):u||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?eo(f):p||eo("$t("),this.nestingSuffix=y?eo(y):w||eo(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,s,a;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=p=>{if(p.indexOf(this.formatSeparator)<0){const m=Rw(n,u,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...n,interpolationkey:p}):m}const y=p.split(this.formatSeparator),w=y.shift().trim(),g=y.join(this.formatSeparator).trim();return this.format(Rw(n,u,w,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...i,...n,interpolationkey:w})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Mh(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Mh(this.escape(p)):Mh(p)}].forEach(p=>{for(a=0;o=p.regex.exec(t);){const y=o[1].trim();if(s=l(y),s===void 0)if(typeof c=="function"){const g=c(t,o,i);s=de(g)?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(h){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),s="";else!de(s)&&!this.useRawValueToEscape&&(s=Cw(s));const w=p.safeValue(s);if(t=t.replace(o[0],w),h?(p.regex.lastIndex+=s.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(u,l)=>{const c=this.nestingOptionsSeparator;if(u.indexOf(c)<0)return u;const h=u.split(new RegExp(`${c}[ ]*{`));let f=`{${h[1]}`;u=h[0],f=this.interpolate(f,s);const p=f.match(/'/g),y=f.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(f=f.replace(/'/g,'"'));try{s=JSON.parse(f),l&&(s={...l,...s})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,w),`${u}${c}${f}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,u};for(;i=this.nestingRegexp.exec(t);){let u=[];s={...r},s=s.replace&&!de(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let l=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=c.shift(),u=c,l=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&!de(o))return o;de(o)||(o=Cw(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),l&&(o=u.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const fF=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...u]=s.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=l),l==="false"&&(n[c]=!1),l==="true"&&(n[c]=!0),isNaN(l)||(n[c]=parseInt(l,10))}})}return{formatName:t,formatOptions:n}},to=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(wc(r),i),t[s]=a),a(n)}};class hF{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bn.create("formatter"),this.options=t,this.formats={number:to((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:to((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:to((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:to((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:to((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=to(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,u)=>{const{formatName:l,formatOptions:c}=fF(u);if(this.formats[l]){let h=a;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=f.locale||f.lng||i.locale||i.lng||r;h=this.formats[l](a,p,{...c,...i,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${l}`);return a},t)}}const dF=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class pF extends Hf{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Bn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},u={};return t.forEach(l=>{let c=!0;n.forEach(h=>{const f=`${l}|${h}`;!r.reload&&this.store.hasResourceBundle(l,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?s[f]===void 0&&(s[f]=!0):(this.state[f]=1,c=!1,s[f]===void 0&&(s[f]=!0),o[f]===void 0&&(o[f]=!0),u[h]===void 0&&(u[h]=!0)))}),c||(a[l]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(u=>{QL(u.loaded,[o],s),dF(u,t),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{a[l]||(a[l]={});const c=u.loaded[l];c.length&&c.forEach(h=>{a[l][h]===void 0&&(a[l][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(u=>!u.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(l,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(l&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(l,c)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const l=u(t,n);l&&typeof l.then=="function"?l.then(c=>a(null,c)).catch(a):a(null,l)}catch(l){a(l)}return}return u(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();de(t)&&(t=this.languageUtils.toResolveHierarchy(t)),de(n)&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const u={...s,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let c;l.length===5?c=l(t,n,r,i,u):c=l(t,n,r,i),c&&typeof c.then=="function"?c.then(h=>a(null,h)).catch(a):a(null,c)}catch(c){a(c)}else l(t,n,r,i,a,u)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const Lw=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),de(e[1])&&(t.defaultValue=e[1]),de(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Fw=e=>(de(e.ns)&&(e.ns=[e.ns]),de(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),de(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Yu=()=>{},mF=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Qa extends Hf{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Fw(t),this.services={},this.logger=Bn,this.modules={external:[]},mF(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(de(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Lw();this.options={...i,...this.options,...Fw(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Bn.init(o(this.modules.logger),this.options):Bn.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=hF);const h=new Aw(this.options);this.store=new jw(this.options.resources,this.options);const f=this.services;f.logger=Bn,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new lF(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=o(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new cF(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new pF(o(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),g=1;g<y;g++)w[g-1]=arguments[g];t.emit(p,...w)}),this.modules.languageDetector&&(f.languageDetector=o(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=o(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new xc(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),g=1;g<y;g++)w[g-1]=arguments[g];t.emit(p,...w)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Yu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const u=Ms(),l=()=>{const c=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yu;const i=de(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{l!=="cimode"&&o.indexOf(l)<0&&o.push(l)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>s(u)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=Ms();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Yu),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&WT.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Ms();this.emit("languageChanging",t);const o=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},s=(u,l)=>{l?(o(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},a=u=>{!t&&!u&&this.services.languageDetector&&(u=[]);const l=de(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);l&&(this.language||o(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,c=>{s(c,l)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let u;if(typeof a!="object"){for(var l=arguments.length,c=new Array(l>2?l-2:0),h=2;h<l;h++)c[h-2]=arguments[h];u=i.options.overloadTranslationOptionHandler([s,a].concat(c))}else u={...a};u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);const f=i.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(s)?p=s.map(y=>`${u.keyPrefix}${f}${y}`):p=u.keyPrefix?`${u.keyPrefix}${f}${s}`:s,i.t(p,u)};return de(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,u)=>{const l=this.services.backendConnector.state[`${a}|${u}`];return l===-1||l===0||l===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=Ms();return this.options.ns?(de(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Ms();de(t)&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Aw(Lw());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Qa(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yu;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Qa(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new jw(this.store.data,i),o.services.resourceStore=o.store),o.translator=new xc(o.services,i),o.translator.on("*",function(a){for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];o.emit(a,...l)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lt=Qa.createInstance();Lt.createInstance=Qa.createInstance;Lt.createInstance;Lt.dir;Lt.init;Lt.loadResources;Lt.reloadResources;Lt.use;Lt.changeLanguage;Lt.getFixedT;Lt.t;Lt.exists;Lt.setDefaultNamespace;Lt.hasLoadedNamespace;Lt.loadNamespaces;Lt.loadLanguages;function gF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function yF(e,t){if(Xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vF(e){var t=yF(e,"string");return Xa(t)=="symbol"?t:t+""}function wF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vF(r.key),r)}}function bF(e,t,n){return t&&wF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var KT=[],xF=KT.forEach,SF=KT.slice;function EF(e){return xF.call(SF.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var Mw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,TF=function(t,n,r){var i=r||{};i.path=i.path||"/";var o=encodeURIComponent(n),s="".concat(t,"=").concat(o);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!Mw.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain=".concat(i.domain)}if(i.path){if(!Mw.test(i.path))throw new TypeError("option path is invalid");s+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite){var u=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(u){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},$w={create:function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),i&&(o.domain=i),document.cookie=TF(t,encodeURIComponent(n),o)},read:function(t){for(var n="".concat(t,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},IF={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var r=$w.read(t.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&$w.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},kF={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),o=i.split("&"),s=0;s<o.length;s++){var a=o[s].indexOf("=");if(a>0){var u=o[s].substring(0,a);u===t.lookupQuerystring&&(n=o[s].substring(a+1))}}}return n}},$s=null,Uw=function(){if($s!==null)return $s;try{$s=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{$s=!1}return $s},CF={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&Uw()){var r=window.localStorage.getItem(t.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&Uw()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},Us=null,Vw=function(){if(Us!==null)return Us;try{Us=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Us=!1}return Us},NF={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&Vw()){var r=window.sessionStorage.getItem(t.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&Vw()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},_F={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},PF={name:"htmlTag",lookup:function(t){var n,r=t.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},jF={name:"path",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof r[t.lookupFromPathIndex]!="string")return;n=r[t.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},OF={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}},QT=!1;try{document.cookie,QT=!0}catch{}var XT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];QT||XT.splice(1,1);function AF(){return{order:XT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var YT=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gF(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return bF(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=EF(r,this.options||{},AF()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(IF),this.addDetector(kF),this.addDetector(CF),this.addDetector(NF),this.addDetector(_F),this.addDetector(PF),this.addDetector(jF),this.addDetector(OF)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(o){if(r.detectors[o]){var s=r.detectors[o].lookup(r.options);s&&typeof s=="string"&&(s=[s]),s&&(i=i.concat(s))}}),i=i.map(function(o){return r.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(n,i.options)}))}}])}();YT.type="languageDetector";function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function JT(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":pp(XMLHttpRequest))==="object"}function DF(e){return!!e&&typeof e.then=="function"}function RF(e){return DF(e)?e:Promise.resolve(e)}function LF(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mp={exports:{}},Ju={exports:{}},Bw;function FF(){return Bw||(Bw=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Qs<"u"&&Qs,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof a<"u"&&a,u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(E){return E&&DataView.prototype.isPrototypeOf(E)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(E){return E&&c.indexOf(Object.prototype.toString.call(E))>-1};function f(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function p(E){return typeof E!="string"&&(E=String(E)),E}function y(E){var A={next:function(){var ee=E.shift();return{done:ee===void 0,value:ee}}};return u.iterable&&(A[Symbol.iterator]=function(){return A}),A}function w(E){this.map={},E instanceof w?E.forEach(function(A,ee){this.append(ee,A)},this):Array.isArray(E)?E.forEach(function(A){this.append(A[0],A[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(A){this.append(A,E[A])},this)}w.prototype.append=function(E,A){E=f(E),A=p(A);var ee=this.map[E];this.map[E]=ee?ee+", "+A:A},w.prototype.delete=function(E){delete this.map[f(E)]},w.prototype.get=function(E){return E=f(E),this.has(E)?this.map[E]:null},w.prototype.has=function(E){return this.map.hasOwnProperty(f(E))},w.prototype.set=function(E,A){this.map[f(E)]=p(A)},w.prototype.forEach=function(E,A){for(var ee in this.map)this.map.hasOwnProperty(ee)&&E.call(A,this.map[ee],ee,this)},w.prototype.keys=function(){var E=[];return this.forEach(function(A,ee){E.push(ee)}),y(E)},w.prototype.values=function(){var E=[];return this.forEach(function(A){E.push(A)}),y(E)},w.prototype.entries=function(){var E=[];return this.forEach(function(A,ee){E.push([ee,A])}),y(E)},u.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function g(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function m(E){return new Promise(function(A,ee){E.onload=function(){A(E.result)},E.onerror=function(){ee(E.error)}})}function v(E){var A=new FileReader,ee=m(A);return A.readAsArrayBuffer(E),ee}function b(E){var A=new FileReader,ee=m(A);return A.readAsText(E),ee}function x(E){for(var A=new Uint8Array(E),ee=new Array(A.length),K=0;K<A.length;K++)ee[K]=String.fromCharCode(A[K]);return ee.join("")}function T(E){if(E.slice)return E.slice(0);var A=new Uint8Array(E.byteLength);return A.set(new Uint8Array(E)),A.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:u.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:u.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():u.arrayBuffer&&u.blob&&l(E)?(this._bodyArrayBuffer=T(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||h(E))?this._bodyArrayBuffer=T(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var E=g(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=g(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var E=g(this);if(E)return E;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(E){var A=E.toUpperCase();return k.indexOf(A)>-1?A:E}function D(E,A){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var ee=A.body;if(E instanceof D){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,A.headers||(this.headers=new w(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!ee&&E._bodyInit!=null&&(ee=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new w(A.headers)),this.method=P(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ee)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ee),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var z=/\?/;this.url+=(z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function Y(E){var A=new FormData;return E.trim().split("&").forEach(function(ee){if(ee){var K=ee.split("="),z=K.shift().replace(/\+/g," "),R=K.join("=").replace(/\+/g," ");A.append(decodeURIComponent(z),decodeURIComponent(R))}}),A}function se(E){var A=new w,ee=E.replace(/\r?\n[\t ]+/g," ");return ee.split("\r").map(function(K){return K.indexOf(`
`)===0?K.substr(1,K.length):K}).forEach(function(K){var z=K.split(":"),R=z.shift().trim();if(R){var j=z.join(":").trim();A.append(R,j)}}),A}S.call(D.prototype);function ie(E,A){if(!(this instanceof ie))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new w(A.headers),this.url=A.url||"",this._initBody(E)}S.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},ie.error=function(){var E=new ie(null,{status:0,statusText:""});return E.type="error",E};var me=[301,302,303,307,308];ie.redirect=function(E,A){if(me.indexOf(A)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:A,headers:{location:E}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(A,ee){this.message=A,this.name=ee;var K=Error(A);this.stack=K.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function ce(E,A){return new Promise(function(ee,K){var z=new D(E,A);if(z.signal&&z.signal.aborted)return K(new s.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function j(){R.abort()}R.onload=function(){var $={status:R.status,statusText:R.statusText,headers:se(R.getAllResponseHeaders()||"")};$.url="responseURL"in R?R.responseURL:$.headers.get("X-Request-URL");var te="response"in R?R.response:R.responseText;setTimeout(function(){ee(new ie(te,$))},0)},R.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},R.onabort=function(){setTimeout(function(){K(new s.DOMException("Aborted","AbortError"))},0)};function M($){try{return $===""&&a.location.href?a.location.href:$}catch{return $}}R.open(z.method,M(z.url),!0),z.credentials==="include"?R.withCredentials=!0:z.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(u.blob?R.responseType="blob":u.arrayBuffer&&z.headers.get("Content-Type")&&z.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(R.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof w)?Object.getOwnPropertyNames(A.headers).forEach(function($){R.setRequestHeader($,p(A.headers[$]))}):z.headers.forEach(function($,te){R.setRequestHeader(te,$)}),z.signal&&(z.signal.addEventListener("abort",j),R.onreadystatechange=function(){R.readyState===4&&z.signal.removeEventListener("abort",j)}),R.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return ce.polyfill=!0,a.fetch||(a.fetch=ce,a.Headers=w,a.Request=D,a.Response=ie),s.Headers=w,s.Request=D,s.Response=ie,s.fetch=ce,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Ju,Ju.exports)),Ju.exports}(function(e,t){var n=typeof fetch=="function"?fetch:void 0;if(typeof Qs<"u"&&Qs.fetch?n=Qs.fetch:typeof window<"u"&&window.fetch&&(n=window.fetch),typeof LF<"u"&&typeof window>"u"){var r=n||FF();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(mp,mp.exports);var ZT=mp.exports;const eI=Ja(ZT),qw=uI({__proto__:null,default:eI},[ZT]);function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(n),!0).forEach(function(r){MF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MF(e,t,n){return(t=$F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){var t=UF(e,"string");return Ri(t)=="symbol"?t:t+""}function UF(e,t){if(Ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}var Wr=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Wr=global.fetch:typeof window<"u"&&window.fetch&&(Wr=window.fetch);var Ya;JT()&&(typeof global<"u"&&global.XMLHttpRequest?Ya=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ya=window.XMLHttpRequest));var Sc;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Sc=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Sc=window.ActiveXObject));!Wr&&qw&&!Ya&&!Sc&&(Wr=eI||qw);typeof Wr!="function"&&(Wr=void 0);var gp=function(t,n){if(n&&Ri(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},Gw=function(t,n,r,i){var o=function(u){if(!u.ok)return r(u.statusText||"Error",{status:u.status});u.text().then(function(l){r(null,{status:u.status,data:l})}).catch(r)};if(i){var s=i(t,n);if(s instanceof Promise){s.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):Wr(t,n).then(o).catch(r)},Ww=!1,VF=function(t,n,r,i){t.queryStringParams&&(n=gp(n,t.queryStringParams));var o=Hw({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var s=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=Hw({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},Ww?{}:s),u=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{Gw(n,a,i,u)}catch(l){if(!s||Object.keys(s).length===0||!l.message||l.message.indexOf("not implemented")<0)return i(l);try{Object.keys(s).forEach(function(c){delete a[c]}),Gw(n,a,i,u),Ww=!0}catch(c){i(c)}}},BF=function(t,n,r,i){r&&Ri(r)==="object"&&(r=gp("",r).slice(1)),t.queryStringParams&&(n=gp(n,t.queryStringParams));try{var o;Ya?o=new Ya:o=new Sc("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=t.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(u){console&&console.log(u)}},qF=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Wr&&n.indexOf("file:")!==0)return VF(t,n,r,i);if(JT()||typeof ActiveXObject=="function")return BF(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(r){tI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nI(r.key),r)}}function GF(e,t,n){return t&&HF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tI(e,t,n){return(t=nI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nI(e){var t=WF(e,"string");return Zo(t)=="symbol"?t:t+""}function WF(e,t){if(Zo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KF=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return tI({},r,i||"")},parseLoadPayload:function(n,r){},request:qF,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},rI=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zF(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return GF(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=$h($h($h({},KF()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);Zo(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,u=this.options.loadPath;typeof this.options.loadPath=="function"&&(u=this.options.loadPath(n,i)),u=RF(u),u.then(function(l){if(!l)return s(null,{});var c=a.services.interpolator.interpolate(l,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(c,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,u=typeof o=="string"?[o]:o,l=this.options.parseLoadPayload(a,u);this.options.request(this.options,n,l,function(c,h){if(h&&(h.status>=500&&h.status<600||!h.status))return r("failed loading "+n+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return r("failed loading "+n+"; status code: "+h.status,!1);if(!h&&c&&c.message){var f=c.message.toLowerCase(),p=["failed","fetch","network","load"].find(function(g){return f.indexOf(g)>-1});if(p)return r("failed loading "+n+": "+c.message,!0)}if(c)return r(c,!1);var y,w;try{typeof h.data=="string"?y=s.options.parse(h.data,i,o):y=h.data}catch{w="failed parsing "+n+" to json"}if(w)return r(w,!1);r(null,y)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var u=this.options.parsePayload(r,i,o),l=0,c=[],h=[];n.forEach(function(f){var p=a.options.addPath;typeof a.options.addPath=="function"&&(p=a.options.addPath(f,r));var y=a.services.interpolator.interpolate(p,{lng:f,ns:r});a.options.request(a.options,y,u,function(w,g){l+=1,c.push(w),h.push(g),l===n.length&&typeof s=="function"&&s(c,h)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var u=[],l=function(h){var f=o.toResolveHierarchy(h);f.forEach(function(p){u.indexOf(p)<0&&u.push(p)})};l(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return l(c)}),u.forEach(function(c){n.allOptions.ns.forEach(function(h){i.read(c,h,"read",null,null,function(f,p){f&&s.warn("loading namespace ".concat(h," for language ").concat(c," failed"),f),!f&&p&&s.log("loaded namespace ".concat(h," for language ").concat(c),p),i.loaded("".concat(c,"|").concat(h),f,p)})})})}}}])}();rI.type="backend";Lt.use(rI).use(YT).use(BN).init({fallbackLng:"en",ns:["translation"],defaultNS:"translation",debug:!1,backend:{loadPath:"/planning-poker/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!0},interpolation:{escapeValue:!1}});kn.analytics();wC.render(d.jsx(GL,{}),document.getElementById("root"));
