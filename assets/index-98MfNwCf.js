function lI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Za(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xw={exports:{}},eu={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iy=Object.getOwnPropertySymbols,cI=Object.prototype.hasOwnProperty,fI=Object.prototype.propertyIsEnumerable;function hI(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function dI(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Yw=dI()?Object.assign:function(e,t){for(var n,r=hI(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)cI.call(n,s)&&(r[s]=n[s]);if(iy){i=iy(n);for(var a=0;a<i.length;a++)fI.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},Jw={exports:{}},Ee={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=Yw,ts=60103,Zw=60106;Ee.Fragment=60107;Ee.StrictMode=60108;Ee.Profiler=60114;var eb=60109,tb=60110,nb=60112;Ee.Suspense=60113;var rb=60115,ib=60116;if(typeof Symbol=="function"&&Symbol.for){var Cn=Symbol.for;ts=Cn("react.element"),Zw=Cn("react.portal"),Ee.Fragment=Cn("react.fragment"),Ee.StrictMode=Cn("react.strict_mode"),Ee.Profiler=Cn("react.profiler"),eb=Cn("react.provider"),tb=Cn("react.context"),nb=Cn("react.forward_ref"),Ee.Suspense=Cn("react.suspense"),rb=Cn("react.memo"),ib=Cn("react.lazy")}var oy=typeof Symbol=="function"&&Symbol.iterator;function pI(e){return e===null||typeof e!="object"?null:(e=oy&&e[oy]||e["@@iterator"],typeof e=="function"?e:null)}function tu(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sb={};function ns(e,t,n){this.props=e,this.context=t,this.refs=sb,this.updater=n||ob}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(tu(85));this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ab(){}ab.prototype=ns.prototype;function wp(e,t,n){this.props=e,this.context=t,this.refs=sb,this.updater=n||ob}var bp=wp.prototype=new ab;bp.constructor=wp;vp(bp,ns.prototype);bp.isPureReactComponent=!0;var xp={current:null},ub=Object.prototype.hasOwnProperty,lb={key:!0,ref:!0,__self:!0,__source:!0};function cb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ub.call(t,r)&&!lb.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ts,type:e,key:o,ref:s,props:i,_owner:xp.current}}function mI(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sp(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function gI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sy=/\/+/g;function Qf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gI(""+e.key):t.toString(36)}function el(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ts:case Zw:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Qf(s,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(sy,"$&/")+"/"),el(i,t,n,"",function(l){return l})):i!=null&&(Sp(i)&&(i=mI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+Qf(o,a);s+=el(o,t,n,u,i)}else if(u=pI(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+Qf(o,a++),s+=el(o,t,n,u,i);else if(o==="object")throw t=""+e,Error(tu(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function ju(e,t,n){if(e==null)return e;var r=[],i=0;return el(e,r,"","",function(o){return t.call(n,o,i++)}),r}function yI(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var fb={current:null};function dr(){var e=fb.current;if(e===null)throw Error(tu(321));return e}var vI={ReactCurrentDispatcher:fb,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:xp,IsSomeRendererActing:{current:!1},assign:vp};Ee.Children={map:ju,forEach:function(e,t,n){ju(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ju(e,function(){t++}),t},toArray:function(e){return ju(e,function(t){return t})||[]},only:function(e){if(!Sp(e))throw Error(tu(143));return e}};Ee.Component=ns;Ee.PureComponent=wp;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI;Ee.cloneElement=function(e,t,n){if(e==null)throw Error(tu(267,e));var r=vp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=xp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)ub.call(t,u)&&!lb.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:ts,type:e.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:tb,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:eb,_context:e},e.Consumer=e};Ee.createElement=cb;Ee.createFactory=function(e){var t=cb.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:nb,render:e}};Ee.isValidElement=Sp;Ee.lazy=function(e){return{$$typeof:ib,_payload:{_status:-1,_result:e},_init:yI}};Ee.memo=function(e,t){return{$$typeof:rb,type:e,compare:t===void 0?null:t}};Ee.useCallback=function(e,t){return dr().useCallback(e,t)};Ee.useContext=function(e,t){return dr().useContext(e,t)};Ee.useDebugValue=function(){};Ee.useEffect=function(e,t){return dr().useEffect(e,t)};Ee.useImperativeHandle=function(e,t,n){return dr().useImperativeHandle(e,t,n)};Ee.useLayoutEffect=function(e,t){return dr().useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return dr().useMemo(e,t)};Ee.useReducer=function(e,t,n){return dr().useReducer(e,t,n)};Ee.useRef=function(e){return dr().useRef(e)};Ee.useState=function(e){return dr().useState(e)};Ee.version="17.0.2";Jw.exports=Ee;var ae=Jw.exports;const xe=Za(ae);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI=ae,hb=60103;eu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var ay=Symbol.for;hb=ay("react.element"),eu.Fragment=ay("react.fragment")}var bI=wI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xI=Object.prototype.hasOwnProperty,SI={key:!0,ref:!0,__self:!0,__source:!0};function db(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)xI.call(t,r)&&!SI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:hb,type:e,key:o,ref:s,props:i,_owner:bI.current}}eu.jsx=db;eu.jsxs=db;Xw.exports=eu;var h=Xw.exports,pb={exports:{}},In={},mb={exports:{}},gb={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,l=null,c=function(){if(u!==null)try{var j=e.unstable_now();u(!0,j),u=null}catch(M){throw setTimeout(c,0),M}};t=function(j){u!==null?setTimeout(t,0,j):(u=j,setTimeout(c,0))},n=function(j,M){l=setTimeout(j,M)},r=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,w=null,g=-1,m=5,v=0;e.unstable_shouldYield=function(){return e.unstable_now()>=v},i=function(){},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<j?Math.floor(1e3/j):5};var b=new MessageChannel,x=b.port2;b.port1.onmessage=function(){if(w!==null){var j=e.unstable_now();v=j+m;try{w(!0,j)?x.postMessage(null):(y=!1,w=null)}catch(M){throw x.postMessage(null),M}}else y=!1},t=function(j){w=j,y||(y=!0,x.postMessage(null))},n=function(j,M){g=d(function(){j(e.unstable_now())},M)},r=function(){f(g),g=-1}}function T(j,M){var $=j.length;j.push(M);e:for(;;){var te=$-1>>>1,he=j[te];if(he!==void 0&&0<P(he,M))j[te]=M,j[$]=he,$=te;else break e}}function S(j){return j=j[0],j===void 0?null:j}function k(j){var M=j[0];if(M!==void 0){var $=j.pop();if($!==M){j[0]=$;e:for(var te=0,he=j.length;te<he;){var ke=2*(te+1)-1,Ae=j[ke],He=ke+1,Ft=j[He];if(Ae!==void 0&&0>P(Ae,$))Ft!==void 0&&0>P(Ft,Ae)?(j[te]=Ft,j[He]=$,te=He):(j[te]=Ae,j[ke]=$,te=ke);else if(Ft!==void 0&&0>P(Ft,$))j[te]=Ft,j[He]=$,te=He;else break e}}return M}return null}function P(j,M){var $=j.sortIndex-M.sortIndex;return $!==0?$:j.id-M.id}var D=[],Y=[],se=1,ie=null,me=3,ce=!1,E=!1,A=!1;function ee(j){for(var M=S(Y);M!==null;){if(M.callback===null)k(Y);else if(M.startTime<=j)k(Y),M.sortIndex=M.expirationTime,T(D,M);else break;M=S(Y)}}function K(j){if(A=!1,ee(j),!E)if(S(D)!==null)E=!0,t(z);else{var M=S(Y);M!==null&&n(K,M.startTime-j)}}function z(j,M){E=!1,A&&(A=!1,r()),ce=!0;var $=me;try{for(ee(M),ie=S(D);ie!==null&&(!(ie.expirationTime>M)||j&&!e.unstable_shouldYield());){var te=ie.callback;if(typeof te=="function"){ie.callback=null,me=ie.priorityLevel;var he=te(ie.expirationTime<=M);M=e.unstable_now(),typeof he=="function"?ie.callback=he:ie===S(D)&&k(D),ee(M)}else k(D);ie=S(D)}if(ie!==null)var ke=!0;else{var Ae=S(Y);Ae!==null&&n(K,Ae.startTime-M),ke=!1}return ke}finally{ie=null,me=$,ce=!1}}var R=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){E||ce||(E=!0,t(z))},e.unstable_getCurrentPriorityLevel=function(){return me},e.unstable_getFirstCallbackNode=function(){return S(D)},e.unstable_next=function(j){switch(me){case 1:case 2:case 3:var M=3;break;default:M=me}var $=me;me=M;try{return j()}finally{me=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=R,e.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=me;me=j;try{return M()}finally{me=$}},e.unstable_scheduleCallback=function(j,M,$){var te=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?te+$:te):$=te,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=$+he,j={id:se++,callback:M,priorityLevel:j,startTime:$,expirationTime:he,sortIndex:-1},$>te?(j.sortIndex=$,T(Y,j),S(D)===null&&j===S(Y)&&(A?r():A=!0,n(K,$-te))):(j.sortIndex=he,T(D,j),E||ce||(E=!0,t(z))),j},e.unstable_wrapCallback=function(j){var M=me;return function(){var $=me;me=M;try{return j.apply(this,arguments)}finally{me=$}}}})(gb);mb.exports=gb;var EI=mb.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=ae,$e=Yw,ut=EI;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Tc)throw Error(H(227));var yb=new Set,va={};function Li(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(va[e]=t,e=0;e<t.length;e++)yb.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uy=Object.prototype.hasOwnProperty,ly={},cy={};function II(e){return uy.call(cy,e)?!0:uy.call(ly,e)?!1:TI.test(e)?cy[e]=!0:(ly[e]=!0,!1)}function kI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CI(e,t,n,r){if(t===null||typeof t>"u"||kI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ep=/[\-:]([a-z])/g;function Tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ep,Tp);xt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ep,Tp);xt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ep,Tp);xt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ip(e,t,n,r){var i=xt.hasOwnProperty(t)?xt[t]:null,o=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(CI(t,n,i,r)&&(n=null),r||i===null?II(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fi=Tc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=60103,ui=60106,Sr=60107,kp=60108,Ys=60114,Cp=60109,Np=60110,Ic=60112,Js=60113,bl=60120,kc=60115,_p=60116,Pp=60121,jp=60128,vb=60129,Op=60130,Vh=60131;if(typeof Symbol=="function"&&Symbol.for){var ot=Symbol.for;Bs=ot("react.element"),ui=ot("react.portal"),Sr=ot("react.fragment"),kp=ot("react.strict_mode"),Ys=ot("react.profiler"),Cp=ot("react.provider"),Np=ot("react.context"),Ic=ot("react.forward_ref"),Js=ot("react.suspense"),bl=ot("react.suspense_list"),kc=ot("react.memo"),_p=ot("react.lazy"),Pp=ot("react.block"),ot("react.scope"),jp=ot("react.opaque.id"),vb=ot("react.debug_trace_mode"),Op=ot("react.offscreen"),Vh=ot("react.legacy_hidden")}var fy=typeof Symbol=="function"&&Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=fy&&e[fy]||e["@@iterator"],typeof e=="function"?e:null)}var Xf;function qs(e){if(Xf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xf=t&&t[1]||""}return`
`+Xf+e}var Yf=!1;function Ou(e,t){if(!e||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qs(e):""}function NI(e){switch(e.tag){case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return e=Ou(e.type,!1),e;case 11:return e=Ou(e.type.render,!1),e;case 22:return e=Ou(e.type._render,!1),e;case 1:return e=Ou(e.type,!0),e;default:return""}}function go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case ui:return"Portal";case Ys:return"Profiler";case kp:return"StrictMode";case Js:return"Suspense";case bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Np:return(e.displayName||"Context")+".Consumer";case Cp:return(e._context.displayName||"Context")+".Provider";case Ic:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case kc:return go(e.type);case Pp:return go(e._render);case _p:t=e._payload,e=e._init;try{return go(e(t))}catch{}}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function wb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _I(e){var t=wb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Au(e){e._valueTracker||(e._valueTracker=_I(e))}function bb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bh(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xb(e,t){t=t.checked,t!=null&&Ip(e,"checked",t,!1)}function qh(e,t){xb(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zh(e,t.type,n):t.hasOwnProperty("defaultValue")&&zh(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zh(e,t,n){(t!=="number"||xl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function PI(e){var t="";return Tc.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Hh(e,t){return e=$e({children:void 0},t),(t=PI(t.children))&&(e.children=t),e}function yo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function py(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function Sb(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function my(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Wh={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Eb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Eb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Du,Tb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==Wh.svg||"innerHTML"in e)e.innerHTML=t;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Du.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jI=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){jI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function Ib(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function kb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ib(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var OI=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qh(e,t){if(t){if(OI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Xh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yh=null,vo=null,wo=null;function gy(e){if(e=ru(e)){if(typeof Yh!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Oc(t),Yh(e.stateNode,e.type,t))}}function Cb(e){vo?wo?wo.push(e):wo=[e]:vo=e}function Nb(){if(vo){var e=vo,t=wo;if(wo=vo=null,gy(e),t)for(e=0;e<t.length;e++)gy(t[e])}}function Dp(e,t){return e(t)}function _b(e,t,n,r,i){return e(t,n,r,i)}function Rp(){}var Pb=Dp,li=!1,Jf=!1;function Lp(){(vo!==null||wo!==null)&&(Rp(),Nb())}function AI(e,t,n){if(Jf)return e(t,n);Jf=!0;try{return Pb(e,t,n)}finally{Jf=!1,Lp()}}function ba(e,t){var n=e.stateNode;if(n===null)return null;var r=Oc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Jh=!1;if(lr)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Jh=!1}function DI(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var ea=!1,Sl=null,El=!1,Zh=null,RI={onError:function(e){ea=!0,Sl=e}};function LI(e,t,n,r,i,o,s,a,u){ea=!1,Sl=null,DI.apply(RI,arguments)}function FI(e,t,n,r,i,o,s,a,u){if(LI.apply(this,arguments),ea){if(ea){var l=Sl;ea=!1,Sl=null}else throw Error(H(198));El||(El=!0,Zh=l)}}function Mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yy(e){if(Mi(e)!==e)throw Error(H(188))}function MI(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yy(i),e;if(o===r)return yy(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Ob(e){if(e=MI(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function vy(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var Ab,Fp,Db,Rb,ed=!1,Mn=[],Pr=null,jr=null,Or=null,xa=new Map,Sa=new Map,Es=[],wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function by(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(t.pointerId)}}function Ts(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e=td(t,n,r,i,o),t!==null&&(t=ru(t),t!==null&&Fp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $I(e,t,n,r,i){switch(t){case"focusin":return Pr=Ts(Pr,e,t,n,r,i),!0;case"dragenter":return jr=Ts(jr,e,t,n,r,i),!0;case"mouseover":return Or=Ts(Or,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xa.set(o,Ts(xa.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Sa.set(o,Ts(Sa.get(o)||null,e,t,n,r,i)),!0}return!1}function UI(e){var t=ci(e.target);if(t!==null){var n=Mi(t);if(n!==null){if(t=n.tag,t===13){if(t=jb(n),t!==null){e.blockedOn=t,Rb(e.lanePriority,function(){ut.unstable_runWithPriority(e.priority,function(){Db(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=ru(n),t!==null&&Fp(t),e.blockedOn=n,!1;t.shift()}return!0}function xy(e,t,n){tl(e)&&n.delete(t)}function VI(){for(ed=!1;0<Mn.length;){var e=Mn[0];if(e.blockedOn!==null){e=ru(e.blockedOn),e!==null&&Ab(e);break}for(var t=e.targetContainers;0<t.length;){var n=Vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Mn.shift()}Pr!==null&&tl(Pr)&&(Pr=null),jr!==null&&tl(jr)&&(jr=null),Or!==null&&tl(Or)&&(Or=null),xa.forEach(xy),Sa.forEach(xy)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,ed||(ed=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,VI)))}function Lb(e){function t(i){return Is(i,e)}if(0<Mn.length){Is(Mn[0],e);for(var n=1;n<Mn.length;n++){var r=Mn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Is(Pr,e),jr!==null&&Is(jr,e),Or!==null&&Is(Or,e),xa.forEach(t),Sa.forEach(t),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)UI(n),n.blockedOn===null&&Es.shift()}function Ru(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ao={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Zf={},Fb={};lr&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Cc(e){if(Zf[e])return Zf[e];if(!ao[e])return e;var t=ao[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fb)return Zf[e]=t[n];return e}var Mb=Cc("animationend"),$b=Cc("animationiteration"),Ub=Cc("animationstart"),Vb=Cc("transitionend"),Bb=new Map,Mp=new Map,BI=["abort","abort",Mb,"animationEnd",$b,"animationIteration",Ub,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Vb,"transitionEnd","waiting","waiting"];function $p(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Mp.set(r,t),Bb.set(r,i),Li(i,[r])}}var qI=ut.unstable_now;qI();var je=8;function no(e){if(1&e)return je=15,1;if(2&e)return je=14,2;if(4&e)return je=13,4;var t=24&e;return t!==0?(je=12,t):e&32?(je=11,32):(t=192&e,t!==0?(je=10,t):e&256?(je=9,256):(t=3584&e,t!==0?(je=8,t):e&4096?(je=7,4096):(t=4186112&e,t!==0?(je=6,t):(t=62914560&e,t!==0?(je=5,t):e&67108864?(je=4,67108864):e&134217728?(je=3,134217728):(t=805306368&e,t!==0?(je=2,t):1073741824&e?(je=1,1073741824):(je=8,e))))))}function zI(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function HI(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,e))}}function Ea(e,t){var n=e.pendingLanes;if(n===0)return je=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(o!==0)r=o,i=je=15;else if(o=n&134217727,o!==0){var u=o&~s;u!==0?(r=no(u),i=je):(a&=o,a!==0&&(r=no(a),i=je))}else o=n&~s,o!==0?(r=no(o),i=je):a!==0&&(r=no(a),i=je);if(r===0)return 0;if(r=31-Vr(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&!(t&s)){if(no(t),i<=je)return t;je=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vr(t),i=1<<n,r|=e[n],t&=~i;return r}function qb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tl(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=ro(24&~t),e===0?Tl(10,t):e;case 10:return e=ro(192&~t),e===0?Tl(8,t):e;case 8:return e=ro(3584&~t),e===0&&(e=ro(4186112&~t),e===0&&(e=512)),e;case 2:return t=ro(805306368&~t),t===0&&(t=268435456),t}throw Error(H(358,e))}function ro(e){return e&-e}function eh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nc(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Vr(t),e[t]=n}var Vr=Math.clz32?Math.clz32:KI,GI=Math.log,WI=Math.LN2;function KI(e){return e===0?32:31-(GI(e)/WI|0)|0}var QI=ut.unstable_UserBlockingPriority,XI=ut.unstable_runWithPriority,nl=!0;function YI(e,t,n,r){li||Rp();var i=Up,o=li;li=!0;try{_b(i,e,t,n,r)}finally{(li=o)||Lp()}}function JI(e,t,n,r){XI(QI,Up.bind(null,e,t,n,r))}function Up(e,t,n,r){if(nl){var i;if((i=(t&4)===0)&&0<Mn.length&&-1<wy.indexOf(e))e=td(null,e,t,n,r),Mn.push(e);else{var o=Vp(e,t,n,r);if(o===null)i&&by(e,r);else{if(i){if(-1<wy.indexOf(e)){e=td(o,e,t,n,r),Mn.push(e);return}if($I(o,e,t,n,r))return;by(e,r)}tx(e,t,r,null,n)}}}}function Vp(e,t,n,r){var i=Ap(r);if(i=ci(i),i!==null){var o=Mi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=jb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return tx(e,t,r,i,n),null}var Cr=null,Bp=null,rl=null;function zb(){if(rl)return rl;var e,t=Bp,n=t.length,r,i="value"in Cr?Cr.value:Cr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return rl=i.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lu(){return!0}function Sy(){return!1}function mn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lu:Sy,this.isPropagationStopped=Sy,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),t}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qp=mn(rs),nu=$e({},rs,{view:0,detail:0}),ZI=mn(nu),th,nh,ks,_c=$e({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(th=e.screenX-ks.screenX,nh=e.screenY-ks.screenY):nh=th=0,ks=e),th)},movementY:function(e){return"movementY"in e?e.movementY:nh}}),Ey=mn(_c),ek=$e({},_c,{dataTransfer:0}),tk=mn(ek),nk=$e({},nu,{relatedTarget:0}),rh=mn(nk),rk=$e({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),ik=mn(rk),ok=$e({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sk=mn(ok),ak=$e({},rs,{data:0}),Ty=mn(ak),uk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ck[e])?!!t[e]:!1}function zp(){return fk}var hk=$e({},nu,{key:function(e){if(e.key){var t=uk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dk=mn(hk),pk=$e({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=mn(pk),mk=$e({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),gk=mn(mk),yk=$e({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),vk=mn(yk),wk=$e({},_c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bk=mn(wk),xk=[9,13,27,32],Hp=lr&&"CompositionEvent"in window,ta=null;lr&&"documentMode"in document&&(ta=document.documentMode);var Sk=lr&&"TextEvent"in window&&!ta,Hb=lr&&(!Hp||ta&&8<ta&&11>=ta),ky=" ",Cy=!1;function Gb(e,t){switch(e){case"keyup":return xk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function Ek(e,t){switch(e){case"compositionend":return Wb(t);case"keypress":return t.which!==32?null:(Cy=!0,ky);case"textInput":return e=t.data,e===ky&&Cy?null:e;default:return null}}function Tk(e,t){if(uo)return e==="compositionend"||!Hp&&Gb(e,t)?(e=zb(),rl=Bp=Cr=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hb&&t.locale!=="ko"?null:t.data;default:return null}}var Ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ik[e.type]:t==="textarea"}function Kb(e,t,n,r){Cb(r),t=Il(t,"onChange"),0<t.length&&(n=new qp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var na=null,Ta=null;function kk(e){Jb(e,0)}function Pc(e){var t=co(e);if(bb(t))return e}function Ck(e,t){if(e==="change")return t}var Qb=!1;if(lr){var ih;if(lr){var oh="oninput"in document;if(!oh){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),oh=typeof _y.oninput=="function"}ih=oh}else ih=!1;Qb=ih&&(!document.documentMode||9<document.documentMode)}function Py(){na&&(na.detachEvent("onpropertychange",Xb),Ta=na=null)}function Xb(e){if(e.propertyName==="value"&&Pc(Ta)){var t=[];if(Kb(t,Ta,e,Ap(e)),e=kk,li)e(t);else{li=!0;try{Dp(e,t)}finally{li=!1,Lp()}}}}function Nk(e,t,n){e==="focusin"?(Py(),na=t,Ta=n,na.attachEvent("onpropertychange",Xb)):e==="focusout"&&Py()}function _k(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pc(Ta)}function Pk(e,t){if(e==="click")return Pc(t)}function jk(e,t){if(e==="input"||e==="change")return Pc(t)}function Ok(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:Ok,Ak=Object.prototype.hasOwnProperty;function Ia(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ak.call(t,n[r])||!wn(e[n[r]],t[n[r]]))return!1;return!0}function jy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oy(e,t){var n=jy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jy(n)}}function Yb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ay(){for(var e=window,t=xl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xl(e.document)}return t}function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dk=lr&&"documentMode"in document&&11>=document.documentMode,lo=null,rd=null,ra=null,id=!1;function Dy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;id||lo==null||lo!==xl(r)||(r=lo,"selectionStart"in r&&nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ra&&Ia(ra,r)||(ra=r,r=Il(rd,"onSelect"),0<r.length&&(t=new qp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lo)))}$p("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);$p("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$p(BI,2);for(var Ry="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),sh=0;sh<Ry.length;sh++)Mp.set(Ry[sh],0);_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function Ly(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,FI(r,t,void 0,e),e.currentTarget=null}function Jb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Ly(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Ly(i,a,l),o=u}}}if(El)throw e=Zh,El=!1,Zh=null,e}function Re(e,t){var n=rx(t),r=e+"__bubble";n.has(r)||(ex(t,e,2,!1),n.add(r))}var Fy="_reactListening"+Math.random().toString(36).slice(2);function Zb(e){e[Fy]||(e[Fy]=!0,yb.forEach(function(t){Rk.has(t)||My(t,!1,e,null),My(t,!0,e,null)}))}function My(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;e==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument);var s=rx(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),ex(o,e,i,t),s.add(a))}function ex(e,t,n,r){var i=Mp.get(t);switch(i===void 0?2:i){case 0:i=YI;break;case 1:i=JI;break;default:i=Up}n=i.bind(null,t,n,e),i=void 0,!Jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tx(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ci(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}AI(function(){var l=o,c=Ap(n),d=[];e:{var f=Bb.get(e);if(f!==void 0){var p=qp,y=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":p=dk;break;case"focusin":y="focus",p=rh;break;case"focusout":y="blur",p=rh;break;case"beforeblur":case"afterblur":p=rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gk;break;case Mb:case $b:case Ub:p=ik;break;case Vb:p=vk;break;case"scroll":p=ZI;break;case"wheel":p=bk;break;case"copy":case"cut":case"paste":p=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Iy}var w=(t&4)!==0,g=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var v=l,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,m!==null&&(x=ba(v,m),x!=null&&w.push(ka(v,x,b)))),g)break;v=v.return}0<w.length&&(f=new p(f,y,null,n,c),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&!(t&16)&&(y=n.relatedTarget||n.fromElement)&&(ci(y)||y[is]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=l,y=y?ci(y):null,y!==null&&(g=Mi(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=l),p!==y)){if(w=Ey,x="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Iy,x="onPointerLeave",m="onPointerEnter",v="pointer"),g=p==null?f:co(p),b=y==null?f:co(y),f=new w(x,v+"leave",p,n,c),f.target=g,f.relatedTarget=b,x=null,ci(c)===l&&(w=new w(m,v+"enter",y,n,c),w.target=b,w.relatedTarget=g,x=w),g=x,p&&y)t:{for(w=p,m=y,v=0,b=w;b;b=Yi(b))v++;for(b=0,x=m;x;x=Yi(x))b++;for(;0<v-b;)w=Yi(w),v--;for(;0<b-v;)m=Yi(m),b--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=Yi(w),m=Yi(m)}w=null}else w=null;p!==null&&$y(d,f,p,w,!1),y!==null&&g!==null&&$y(d,g,y,w,!0)}}e:{if(f=l?co(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=Ck;else if(Ny(f))if(Qb)T=jk;else{T=_k;var S=Nk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Pk);if(T&&(T=T(e,l))){Kb(d,T,n,c);break e}S&&S(e,f,l),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&zh(f,"number",f.value)}switch(S=l?co(l):window,e){case"focusin":(Ny(S)||S.contentEditable==="true")&&(lo=S,rd=l,ra=null);break;case"focusout":ra=rd=lo=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Dy(d,n,c);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":Dy(d,n,c)}var k;if(Hp)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else uo?Gb(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Hb&&n.locale!=="ko"&&(uo||P!=="onCompositionStart"?P==="onCompositionEnd"&&uo&&(k=zb()):(Cr=c,Bp="value"in Cr?Cr.value:Cr.textContent,uo=!0)),S=Il(l,P),0<S.length&&(P=new Ty(P,e,null,n,c),d.push({event:P,listeners:S}),k?P.data=k:(k=Wb(n),k!==null&&(P.data=k)))),(k=Sk?Ek(e,n):Tk(e,n))&&(l=Il(l,"onBeforeInput"),0<l.length&&(c=new Ty("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=k))}Jb(d,t)})}function ka(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ba(e,n),o!=null&&r.unshift(ka(e,o,i)),o=ba(e,t),o!=null&&r.push(ka(e,o,i))),e=e.return}return r}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $y(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ba(n,o),u!=null&&s.unshift(ka(n,u,a))):i||(u=ba(n,o),u!=null&&s.push(ka(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}function kl(){}var ah=null,uh=null;function nx(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function od(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uy=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0;function Gp(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function bo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Vy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lh=0;function Fk(e){return{$$typeof:jp,toString:e,valueOf:e}}var jc=Math.random().toString(36).slice(2),Nr="__reactFiber$"+jc,Cl="__reactProps$"+jc,is="__reactContainer$"+jc,By="__reactEvents$"+jc;function ci(e){var t=e[Nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[is]||n[Nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vy(e);e!==null;){if(n=e[Nr])return n;e=Vy(e)}return t}e=n,n=e.parentNode}return null}function ru(e){return e=e[Nr]||e[is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Oc(e){return e[Cl]||null}function rx(e){var t=e[By];return t===void 0&&(t=e[By]=new Set),t}var sd=[],fo=-1;function Kr(e){return{current:e}}function Fe(e){0>fo||(e.current=sd[fo],sd[fo]=null,fo--)}function Ke(e,t){fo++,sd[fo]=e.current,e.current=t}var Br={},At=Kr(Br),Jt=Kr(!1),Ei=Br;function Po(e,t){var n=e.type.contextTypes;if(!n)return Br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Nl(){Fe(Jt),Fe(At)}function qy(e,t,n){if(At.current!==Br)throw Error(H(168));Ke(At,t),Ke(Jt,n)}function ix(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,go(t)||"Unknown",i));return $e({},n,r)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,Ei=At.current,Ke(At,e),Ke(Jt,Jt.current),!0}function zy(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=ix(e,t,Ei),r.__reactInternalMemoizedMergedChildContext=e,Fe(Jt),Fe(At),Ke(At,e)):Fe(Jt),Ke(Jt,n)}var Wp=null,wi=null,Mk=ut.unstable_runWithPriority,Kp=ut.unstable_scheduleCallback,ad=ut.unstable_cancelCallback,$k=ut.unstable_shouldYield,Hy=ut.unstable_requestPaint,ud=ut.unstable_now,Uk=ut.unstable_getCurrentPriorityLevel,Ac=ut.unstable_ImmediatePriority,ox=ut.unstable_UserBlockingPriority,sx=ut.unstable_NormalPriority,ax=ut.unstable_LowPriority,ux=ut.unstable_IdlePriority,ch={},Vk=Hy!==void 0?Hy:function(){},Zn=null,sl=null,fh=!1,Gy=ud(),Nt=1e4>Gy?ud:function(){return ud()-Gy};function jo(){switch(Uk()){case Ac:return 99;case ox:return 98;case sx:return 97;case ax:return 96;case ux:return 95;default:throw Error(H(332))}}function lx(e){switch(e){case 99:return Ac;case 98:return ox;case 97:return sx;case 96:return ax;case 95:return ux;default:throw Error(H(332))}}function Ti(e,t){return e=lx(e),Mk(e,t)}function Ca(e,t,n){return e=lx(e),Kp(e,t,n)}function Qn(){if(sl!==null){var e=sl;sl=null,ad(e)}cx()}function cx(){if(!fh&&Zn!==null){fh=!0;var e=0;try{var t=Zn;Ti(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Zn=null}catch(n){throw Zn!==null&&(Zn=Zn.slice(e+1)),Kp(Ac,Qn),n}finally{fh=!1}}}var Bk=Fi.ReactCurrentBatchConfig;function Pn(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var _l=Kr(null),Pl=null,ho=null,jl=null;function Qp(){jl=ho=Pl=null}function Xp(e){var t=_l.current;Fe(_l),e.type._context._currentValue=t}function fx(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function xo(e,t){Pl=e,jl=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function En(e,t){if(jl!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(jl=e,t=1073741823),t={context:e,observedBits:t,next:null},ho===null){if(Pl===null)throw Error(H(308));ho=t,Pl.dependencies={lanes:0,firstContext:t,responders:null}}else ho=ho.next=t;return e._currentValue}var br=!1;function Yp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Wy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Na(e,t,n,r){var i=e.updateQueue;br=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;if(c!==null){c=c.updateQueue;var d=c.lastBaseUpdate;d!==s&&(d===null?c.firstBaseUpdate=l:d.next=l,c.lastBaseUpdate=u)}}if(o!==null){d=i.baseState,s=0,c=l=u=null;do{a=o.lane;var f=o.eventTime;if((r&a)===a){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(a=t,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(f,d,a);break e}d=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=y.payload,a=typeof p=="function"?p.call(f,d,a):p,a==null)break e;d=$e({},d,a);break e;case 2:br=!0}}o.callback!==null&&(e.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else f={eventTime:f,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=f,u=d):c=c.next=f,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(!0);c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,ou|=s,e.lanes=s,e.memoizedState=d}}function Ky(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var dx=new Tc.Component().refs;function Ol(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dc={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fn(),i=Rr(e),o=Ar(r,i);o.payload=t,n!=null&&(o.callback=n),Dr(e,o),Lr(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fn(),i=Rr(e),o=Ar(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),Dr(e,o),Lr(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),r=Rr(e),i=Ar(n,r);i.tag=2,t!=null&&(i.callback=t),Dr(e,i),Lr(e,r,n)}};function Qy(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(i,o):!0}function px(e,t,n){var r=!1,i=Br,o=t.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Zt(t)?Ei:At.current,r=t.contextTypes,o=(r=r!=null)?Po(e,i):Br),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function ld(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=dx,Yp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Zt(t)?Ei:At.current,i.context=Po(e,o)),Na(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ol(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dc.enqueueReplaceState(i,i.state,null),Na(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Fu=Array.isArray;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=r.refs;s===dx&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Mu(e,t){if(e.type!=="textarea")throw Error(H(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function mx(e){function t(g,m){if(e){var v=g.lastEffect;v!==null?(v.nextEffect=m,g.lastEffect=m):g.firstEffect=g.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=zr(g,m),g.index=0,g.sibling=null,g}function o(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags=2,m):v):(g.flags=2,m)):m}function s(g){return e&&g.alternate===null&&(g.flags=2),g}function a(g,m,v,b){return m===null||m.tag!==6?(m=gh(v,g.mode,b),m.return=g,m):(m=i(m,v),m.return=g,m)}function u(g,m,v,b){return m!==null&&m.elementType===v.type?(b=i(m,v.props),b.ref=Cs(g,m,v),b.return=g,b):(b=cl(v.type,v.key,v.props,null,g.mode,b),b.ref=Cs(g,m,v),b.return=g,b)}function l(g,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=yh(v,g.mode,b),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function c(g,m,v,b,x){return m===null||m.tag!==7?(m=Io(v,g.mode,b,x),m.return=g,m):(m=i(m,v),m.return=g,m)}function d(g,m,v){if(typeof m=="string"||typeof m=="number")return m=gh(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bs:return v=cl(m.type,m.key,m.props,null,g.mode,v),v.ref=Cs(g,null,m),v.return=g,v;case ui:return m=yh(m,g.mode,v),m.return=g,m}if(Fu(m)||xs(m))return m=Io(m,g.mode,v,null),m.return=g,m;Mu(g,m)}return null}function f(g,m,v,b){var x=m!==null?m.key:null;if(typeof v=="string"||typeof v=="number")return x!==null?null:a(g,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bs:return v.key===x?v.type===Sr?c(g,m,v.props.children,b,x):u(g,m,v,b):null;case ui:return v.key===x?l(g,m,v,b):null}if(Fu(v)||xs(v))return x!==null?null:c(g,m,v,b,null);Mu(g,v)}return null}function p(g,m,v,b,x){if(typeof b=="string"||typeof b=="number")return g=g.get(v)||null,a(m,g,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bs:return g=g.get(b.key===null?v:b.key)||null,b.type===Sr?c(m,g,b.props.children,x,b.key):u(m,g,b,x);case ui:return g=g.get(b.key===null?v:b.key)||null,l(m,g,b,x)}if(Fu(b)||xs(b))return g=g.get(v)||null,c(m,g,b,x,null);Mu(m,b)}return null}function y(g,m,v,b){for(var x=null,T=null,S=m,k=m=0,P=null;S!==null&&k<v.length;k++){S.index>k?(P=S,S=null):P=S.sibling;var D=f(g,S,v[k],b);if(D===null){S===null&&(S=P);break}e&&S&&D.alternate===null&&t(g,S),m=o(D,m,k),T===null?x=D:T.sibling=D,T=D,S=P}if(k===v.length)return n(g,S),x;if(S===null){for(;k<v.length;k++)S=d(g,v[k],b),S!==null&&(m=o(S,m,k),T===null?x=S:T.sibling=S,T=S);return x}for(S=r(g,S);k<v.length;k++)P=p(S,g,k,v[k],b),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),m=o(P,m,k),T===null?x=P:T.sibling=P,T=P);return e&&S.forEach(function(Y){return t(g,Y)}),x}function w(g,m,v,b){var x=xs(v);if(typeof x!="function")throw Error(H(150));if(v=x.call(v),v==null)throw Error(H(151));for(var T=x=null,S=m,k=m=0,P=null,D=v.next();S!==null&&!D.done;k++,D=v.next()){S.index>k?(P=S,S=null):P=S.sibling;var Y=f(g,S,D.value,b);if(Y===null){S===null&&(S=P);break}e&&S&&Y.alternate===null&&t(g,S),m=o(Y,m,k),T===null?x=Y:T.sibling=Y,T=Y,S=P}if(D.done)return n(g,S),x;if(S===null){for(;!D.done;k++,D=v.next())D=d(g,D.value,b),D!==null&&(m=o(D,m,k),T===null?x=D:T.sibling=D,T=D);return x}for(S=r(g,S);!D.done;k++,D=v.next())D=p(S,g,k,D.value,b),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?k:D.key),m=o(D,m,k),T===null?x=D:T.sibling=D,T=D);return e&&S.forEach(function(se){return t(g,se)}),x}return function(g,m,v,b){var x=typeof v=="object"&&v!==null&&v.type===Sr&&v.key===null;x&&(v=v.props.children);var T=typeof v=="object"&&v!==null;if(T)switch(v.$$typeof){case Bs:e:{for(T=v.key,x=m;x!==null;){if(x.key===T){switch(x.tag){case 7:if(v.type===Sr){n(g,x.sibling),m=i(x,v.props.children),m.return=g,g=m;break e}break;default:if(x.elementType===v.type){n(g,x.sibling),m=i(x,v.props),m.ref=Cs(g,x,v),m.return=g,g=m;break e}}n(g,x);break}else t(g,x);x=x.sibling}v.type===Sr?(m=Io(v.props.children,g.mode,b,v.key),m.return=g,g=m):(b=cl(v.type,v.key,v.props,null,g.mode,b),b.ref=Cs(g,m,v),b.return=g,g=b)}return s(g);case ui:e:{for(x=v.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=yh(v,g.mode,b),m.return=g,g=m}return s(g)}if(typeof v=="string"||typeof v=="number")return v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=gh(v,g.mode,b),m.return=g,g=m),s(g);if(Fu(v))return y(g,m,v,b);if(xs(v))return w(g,m,v,b);if(T&&Mu(g,v),typeof v>"u"&&!x)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,go(g.type)||"Component"))}return n(g,m)}}var Al=mx(!0),gx=mx(!1),iu={},qn=Kr(iu),_a=Kr(iu),Pa=Kr(iu);function fi(e){if(e===iu)throw Error(H(174));return e}function cd(e,t){switch(Ke(Pa,t),Ke(_a,e),Ke(qn,iu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kh(t,e)}Fe(qn),Ke(qn,t)}function Oo(){Fe(qn),Fe(_a),Fe(Pa)}function Yy(e){fi(Pa.current);var t=fi(qn.current),n=Kh(t,e.type);t!==n&&(Ke(_a,e),Ke(qn,n))}function Jp(e){_a.current===e&&(Fe(qn),Fe(_a))}var We=Kr(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=null,_r=null,zn=!1;function yx(e,t){var n=bn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Jy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function fd(e){if(zn){var t=_r;if(t){var n=t;if(!Jy(e,t)){if(t=bo(n.nextSibling),!t||!Jy(e,t)){e.flags=e.flags&-1025|2,zn=!1,tr=e;return}yx(tr,n)}tr=e,_r=bo(t.firstChild)}else e.flags=e.flags&-1025|2,zn=!1,tr=e}}function Zy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function $u(e){if(e!==tr)return!1;if(!zn)return Zy(e),zn=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!od(t,e.memoizedProps))for(t=_r;t;)yx(e,t),t=bo(t.nextSibling);if(Zy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_r=bo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=tr?bo(e.stateNode.nextSibling):null;return!0}function hh(){_r=tr=null,zn=!1}var So=[];function Zp(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var ia=Fi.ReactCurrentDispatcher,xn=Fi.ReactCurrentBatchConfig,ja=0,Qe=null,It=null,pt=null,Rl=!1,oa=!1;function Kt(){throw Error(H(321))}function em(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function tm(e,t,n,r,i,o){if(ja=o,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=e===null||e.memoizedState===null?zk:Hk,e=n(r,i),oa){o=0;do{if(oa=!1,!(25>o))throw Error(H(301));o+=1,pt=It=null,t.updateQueue=null,ia.current=Gk,e=n(r,i)}while(oa)}if(ia.current=$l,t=It!==null&&It.next!==null,ja=0,pt=It=Qe=null,Rl=!1,t)throw Error(H(300));return e}function hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Qe.memoizedState=pt=e:pt=pt.next=e,pt}function $i(){if(It===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=pt===null?Qe.memoizedState:pt.next;if(t!==null)pt=t,It=e;else{if(e===null)throw Error(H(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},pt===null?Qe.memoizedState=pt=e:pt=pt.next=e}return pt}function $n(e,t){return typeof t=="function"?t(e):t}function Ns(e){var t=$i(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,u=i;do{var l=u.lane;if((ja&l)===l)a!==null&&(a=a.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};a===null?(s=a=c,o=r):a=a.next=c,Qe.lanes|=l,ou|=l}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=s,wn(r,t.memoizedState)||(jn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function _s(e){var t=$i(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);wn(o,t.memoizedState)||(jn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ev(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(ja&e)===e)&&(t._workInProgressVersionPrimary=r,So.push(t))),e)return n(t._source);throw So.push(t),Error(H(350))}function vx(e,t,n,r){var i=zt;if(i===null)throw Error(H(349));var o=t._getVersion,s=o(t._source),a=ia.current,u=a.useState(function(){return ev(i,t,n)}),l=u[1],c=u[0];u=pt;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,y=d.source;d=d.subscribe;var w=Qe;return e.memoizedState={refs:f,source:t,subscribe:r},a.useEffect(function(){f.getSnapshot=n,f.setSnapshot=l;var g=o(t._source);if(!wn(s,g)){g=n(t._source),wn(c,g)||(l(g),g=Rr(w),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var m=i.entanglements,v=g;0<v;){var b=31-Vr(v),x=1<<b;m[b]|=g,v&=~x}}},[n,t,r]),a.useEffect(function(){return r(t._source,function(){var g=f.getSnapshot,m=f.setSnapshot;try{m(g(t._source));var v=Rr(w);i.mutableReadLanes|=v&i.pendingLanes}catch(b){m(function(){throw b})}})},[t,r]),wn(p,n)&&wn(y,t)&&wn(d,r)||(e={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:c},e.dispatch=l=im.bind(null,Qe,e),u.queue=e,u.baseQueue=null,c=ev(i,t,n),u.memoizedState=u.baseState=c),c}function wx(e,t,n){var r=$i();return vx(r,e,t,n)}function Ps(e){var t=hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},e=e.dispatch=im.bind(null,Qe,e),[t.memoizedState,e]}function Ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tv(e){var t=hi();return e={current:e},t.memoizedState=e}function Fl(){return $i().memoizedState}function hd(e,t,n,r){var i=hi();Qe.flags|=e,i.memoizedState=Ll(1|t,n,void 0,r===void 0?null:r)}function nm(e,t,n,r){var i=$i();r=r===void 0?null:r;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,r!==null&&em(r,s.deps)){Ll(t,n,o,r);return}}Qe.flags|=e,i.memoizedState=Ll(1|t,n,o,r)}function nv(e,t){return hd(516,4,e,t)}function Ml(e,t){return nm(516,4,e,t)}function bx(e,t){return nm(4,2,e,t)}function xx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sx(e,t,n){return n=n!=null?n.concat([e]):null,nm(4,2,xx.bind(null,t,e),n)}function rm(){}function Ex(e,t){var n=$i();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&em(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tx(e,t){var n=$i();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&em(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qk(e,t){var n=jo();Ti(98>n?98:n,function(){e(!0)}),Ti(97<n?97:n,function(){var r=xn.transition;xn.transition=1;try{e(!1),t()}finally{xn.transition=r}})}function im(e,t,n){var r=fn(),i=Rr(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Qe||s!==null&&s===Qe)oa=Rl=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,wn(u,a))return}catch{}finally{}Lr(e,i,r)}}var $l={readContext:En,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useOpaqueIdentifier:Kt,unstable_isNewReconciler:!1},zk={readContext:En,useCallback:function(e,t){return hi().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:nv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hd(4,2,xx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hd(4,2,e,t)},useMemo:function(e,t){var n=hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=im.bind(null,Qe,e),[r.memoizedState,e]},useRef:tv,useState:Ps,useDebugValue:rm,useDeferredValue:function(e){var t=Ps(e),n=t[0],r=t[1];return nv(function(){var i=xn.transition;xn.transition=1;try{r(e)}finally{xn.transition=i}},[e]),n},useTransition:function(){var e=Ps(!1),t=e[0];return e=qk.bind(null,e[1]),tv(e),[e,t]},useMutableSource:function(e,t,n){var r=hi();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},vx(r,e,t,n)},useOpaqueIdentifier:function(){if(zn){var e=!1,t=Fk(function(){throw e||(e=!0,n("r:"+(lh++).toString(36))),Error(H(355))}),n=Ps(t)[1];return!(Qe.mode&2)&&(Qe.flags|=516,Ll(5,function(){n("r:"+(lh++).toString(36))},void 0,null)),t}return t="r:"+(lh++).toString(36),Ps(t),t},unstable_isNewReconciler:!1},Hk={readContext:En,useCallback:Ex,useContext:En,useEffect:Ml,useImperativeHandle:Sx,useLayoutEffect:bx,useMemo:Tx,useReducer:Ns,useRef:Fl,useState:function(){return Ns($n)},useDebugValue:rm,useDeferredValue:function(e){var t=Ns($n),n=t[0],r=t[1];return Ml(function(){var i=xn.transition;xn.transition=1;try{r(e)}finally{xn.transition=i}},[e]),n},useTransition:function(){var e=Ns($n)[0];return[Fl().current,e]},useMutableSource:wx,useOpaqueIdentifier:function(){return Ns($n)[0]},unstable_isNewReconciler:!1},Gk={readContext:En,useCallback:Ex,useContext:En,useEffect:Ml,useImperativeHandle:Sx,useLayoutEffect:bx,useMemo:Tx,useReducer:_s,useRef:Fl,useState:function(){return _s($n)},useDebugValue:rm,useDeferredValue:function(e){var t=_s($n),n=t[0],r=t[1];return Ml(function(){var i=xn.transition;xn.transition=1;try{r(e)}finally{xn.transition=i}},[e]),n},useTransition:function(){var e=_s($n)[0];return[Fl().current,e]},useMutableSource:wx,useOpaqueIdentifier:function(){return _s($n)[0]},unstable_isNewReconciler:!1},Wk=Fi.ReactCurrentOwner,jn=!1;function Qt(e,t,n,r){t.child=e===null?gx(t,null,n,r):Al(t,e.child,n,r)}function rv(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=tm(e,t,n,r,o,i),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nr(e,t,i)):(t.flags|=1,Qt(e,t,r,i),t.child)}function iv(e,t,n,r,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!cm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ix(e,t,s,r,i,o)):(e=cl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,!(i&o)&&(i=s.memoizedProps,n=n.compare,n=n!==null?n:Ia,n(i,r)&&e.ref===t.ref)?nr(e,t,o):(t.flags|=1,e=zr(s,r),e.ref=t.ref,e.return=t,t.child=e)}function Ix(e,t,n,r,i,o){if(e!==null&&Ia(e.memoizedProps,r)&&e.ref===t.ref)if(jn=!1,(o&i)!==0)e.flags&16384&&(jn=!0);else return t.lanes=e.lanes,nr(e,t,o);return dd(e,t,n,r,o)}function dh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},Vu(t,n);else if(n&1073741824)t.memoizedState={baseLanes:0},Vu(t,o!==null?o.baseLanes:n);else return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Vu(t,e),null;else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Vu(t,r);return Qt(e,t,i,n),t.child}function kx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function dd(e,t,n,r,i){var o=Zt(n)?Ei:At.current;return o=Po(t,o),xo(t,i),n=tm(e,t,n,r,o,i),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nr(e,t,i)):(t.flags|=1,Qt(e,t,n,i),t.child)}function ov(e,t,n,r,i){if(Zt(n)){var o=!0;ol(t)}else o=!1;if(xo(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),px(t,n,r),ld(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=En(l):(l=Zt(n)?Ei:At.current,l=Po(t,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Xy(t,s,r,l),br=!1;var f=t.memoizedState;s.state=f,Na(t,r,s,i),u=t.memoizedState,a!==r||f!==u||Jt.current||br?(typeof c=="function"&&(Ol(t,n,c,r),u=t.memoizedState),(a=br||Qy(t,n,a,r,f,u,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{s=t.stateNode,hx(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Pn(t.type,a),s.props=l,d=t.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=Zt(n)?Ei:At.current,u=Po(t,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Xy(t,s,r,u),br=!1,f=t.memoizedState,s.state=f,Na(t,r,s,i);var y=t.memoizedState;a!==d||f!==y||Jt.current||br?(typeof p=="function"&&(Ol(t,n,p,r),y=t.memoizedState),(l=br||Qy(t,n,l,r,f,y,u))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return pd(e,t,n,r,o,i)}function pd(e,t,n,r,i,o){kx(e,t);var s=(t.flags&64)!==0;if(!r&&!s)return i&&zy(t,n,!1),nr(e,t,o);r=t.stateNode,Wk.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Al(t,e.child,null,o),t.child=Al(t,null,a,o)):Qt(e,t,a,o),t.memoizedState=r.state,i&&zy(t,n,!0),t.child}function sv(e){var t=e.stateNode;t.pendingContext?qy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qy(e,t.context,!1),cd(e,t.containerInfo)}var Uu={dehydrated:null,retryLane:0};function av(e,t,n){var r=t.pendingProps,i=We.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Ke(We,i&1),e===null?(r.fallback!==void 0&&fd(t),e=r.children,i=r.fallback,o?(e=uv(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Uu,e):typeof r.unstable_expectedLoadTime=="number"?(e=uv(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Uu,t.lanes=33554432,e):(n=fm({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?o?(r=cv(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Uu,r):(n=lv(e,t,r.children,n),t.memoizedState=null,n):o?(r=cv(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Uu,r):(n=lv(e,t,r.children,n),t.memoizedState=null,n)}function uv(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=fm(t,i,0,null),n=Io(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function lv(e,t,n,r){var i=e.child;return e=i.sibling,n=zr(i,{mode:"visible",children:n}),!(t.mode&2)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function cv(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return!(o&2)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,s=n.lastEffect,s!==null?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zr(s,a),e!==null?r=zr(e,r):(r=Io(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function fv(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fx(e.return,t)}function ph(e,t,n,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function hv(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Qt(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fv(e,n);else if(e.tag===19)fv(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(We,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ph(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ph(t,!0,n,null,o,t.lastEffect);break;case"together":ph(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ou|=t.lanes,n&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var Cx,md,Nx,_x;Cx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};md=function(){};Nx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fi(qn.current);var o=null;switch(n){case"input":i=Bh(e,i),r=Bh(e,r),o=[];break;case"option":i=Hh(e,i),r=Hh(e,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=Gh(e,i),r=Gh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kl)}Qh(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(va.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(va.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Re("scroll",e),o||a===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===jp?u.toString():(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};_x=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!zn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kk(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zt(t.type)&&Nl(),null;case 3:return Oo(),Fe(Jt),Fe(At),Zp(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($u(t)?t.flags|=4:r.hydrate||(t.flags|=256)),md(t),null;case 5:Jp(t);var i=fi(Pa.current);if(n=t.type,e!==null&&t.stateNode!=null)Nx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(H(166));return null}if(e=fi(qn.current),$u(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nr]=t,r[Cl]=o,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(e=0;e<zs.length;e++)Re(zs[e],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":hy(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":py(r,o),Re("invalid",r)}Qh(n,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):va.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Re("scroll",r));switch(n){case"input":Au(r),dy(r,o,!0);break;case"textarea":Au(r),my(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kl)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===Wh.html&&(e=Eb(n)),e===Wh.html?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Nr]=t,e[Cl]=r,Cx(e,t,!1,!1),t.stateNode=e,s=Xh(n,r),n){case"dialog":Re("cancel",e),Re("close",e),i=r;break;case"iframe":case"object":case"embed":Re("load",e),i=r;break;case"video":case"audio":for(i=0;i<zs.length;i++)Re(zs[i],e);i=r;break;case"source":Re("error",e),i=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),i=r;break;case"details":Re("toggle",e),i=r;break;case"input":hy(e,r),i=Bh(e,r),Re("invalid",e);break;case"option":i=Hh(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Re("invalid",e);break;case"textarea":py(e,r),i=Gh(e,r),Re("invalid",e);break;default:i=r}Qh(n,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?kb(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tb(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wa(e,u):typeof u=="number"&&wa(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(va.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Re("scroll",e):u!=null&&Ip(e,o,u,s))}switch(n){case"input":Au(e),dy(e,r,!1);break;case"textarea":Au(e),my(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?yo(e,!!r.multiple,o,!1):r.defaultValue!=null&&yo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kl)}nx(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)_x(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));n=fi(Pa.current),fi(qn.current),$u(t)?(r=t.stateNode,n=t.memoizedProps,r[Nr]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=t,t.stateNode=r)}return null;case 13:return Fe(We),r=t.memoizedState,t.flags&64?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&$u(t):n=e.memoizedState!==null,r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||We.current&1?gt===0&&(gt=3):((gt===0||gt===3)&&(gt=4),zt===null||!(ou&134217727)&&!(ss&134217727)||Eo(zt,Pt))),(r||n)&&(t.flags|=4),null);case 4:return Oo(),md(t),e===null&&Zb(t.stateNode.containerInfo),null;case 10:return Xp(t),null;case 17:return Zt(t.type)&&Nl(),null;case 19:if(Fe(We),r=t.memoizedState,r===null)return null;if(o=(t.flags&64)!==0,s=r.rendering,s===null)if(o)js(r,!1);else{if(gt!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(s=Dl(e),s!==null){for(t.flags|=64,js(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(We,We.current&1|2),t.child}e=e.sibling}r.tail!==null&&Nt()>xd&&(t.flags|=64,o=!0,js(r,!1),t.lanes=33554432)}else{if(!o)if(e=Dl(s),e!==null){if(t.flags|=64,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!zn)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Nt()-r.renderingStartTime>xd&&n!==1073741824&&(t.flags|=64,o=!0,js(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Nt(),n.sibling=null,t=We.current,Ke(We,o?t&1|2:t&1),n):null;case 23:case 24:return lm(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(H(156,t.tag))}function Qk(e){switch(e.tag){case 1:Zt(e.type)&&Nl();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Oo(),Fe(Jt),Fe(At),Zp(),t=e.flags,t&64)throw Error(H(285));return e.flags=t&-4097|64,e;case 5:return Jp(e),null;case 13:return Fe(We),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Fe(We),null;case 4:return Oo(),null;case 10:return Xp(e),null;case 23:case 24:return lm(),null;default:return null}}function om(e,t){try{var n="",r=t;do n+=NI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function gd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xk=typeof WeakMap=="function"?WeakMap:Map;function Px(e,t,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Sd=r),gd(e,t)},n}function jx(e,t,n){n=Ar(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return gd(e,t),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this),gd(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}var Yk=typeof WeakSet=="function"?WeakSet:Set;function dv(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Fr(e,n)}else t.current=null}function Jk(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Pn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Gp(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(H(163))}function Zk(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&(Ux(n,e),aC(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Pn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&Ky(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Ky(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&nx(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Lb(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function pv(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ib("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function mv(e,t){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(Wp,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)Ux(t,n);else{r=t;try{i()}catch(o){Fr(r,o)}}n=n.next}while(n!==e)}break;case 1:if(dv(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Fr(t,o)}break;case 5:dv(t);break;case 4:Ox(e,t)}}function gv(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function yv(e){return e.tag===5||e.tag===3||e.tag===4}function vv(e){e:{for(var t=e.return;t!==null;){if(yv(t))break e;t=t.return}throw Error(H(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(H(161))}n.flags&16&&(wa(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||yv(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?yd(e,n,t):vd(e,n,t)}function yd(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kl));else if(r!==4&&(e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}function vd(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vd(e,t,n),e=e.sibling;e!==null;)vd(e,t,n),e=e.sibling}function Ox(e,t){for(var n=t,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(H(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=e,a=n,u=a;;)if(mv(s,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(s=i,a=n.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(mv(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function mh(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(n[Cl]=r,e==="input"&&r.type==="radio"&&r.name!=null&&xb(n,r),Xh(e,i),t=Xh(e,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?kb(n,a):s==="dangerouslySetInnerHTML"?Tb(n,a):s==="children"?wa(n,a):Ip(n,s,a,t)}switch(e){case"input":qh(n,r);break;case"textarea":Sb(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?yo(n,!!r.multiple,o,!1):e!==!!r.multiple&&(r.defaultValue!=null?yo(n,!!r.multiple,r.defaultValue,!0):yo(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(H(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,Lb(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(um=Nt(),pv(t.child,!0)),wv(t);return;case 19:wv(t);return;case 17:return;case 23:case 24:pv(t,t.memoizedState!==null);return}throw Error(H(163))}function wv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yk),t.forEach(function(r){var i=cC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function eC(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var tC=Math.ceil,Ul=Fi.ReactCurrentDispatcher,sm=Fi.ReactCurrentOwner,fe=0,zt=null,nt=null,Pt=0,Ii=0,wd=Kr(0),gt=0,Rc=null,os=0,ou=0,ss=0,am=0,bd=null,um=0,xd=1/0;function as(){xd=Nt()+500}var X=null,Vl=!1,Sd=null,Un=null,qr=!1,sa=null,Hs=90,Ed=[],Td=[],or=null,aa=0,Id=null,al=-1,er=0,ul=0,ua=null,ll=!1;function fn(){return fe&48?Nt():al!==-1?al:al=Nt()}function Rr(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return jo()===99?1:2;if(er===0&&(er=os),Bk.transition!==0){ul!==0&&(ul=bd!==null?bd.pendingLanes:0),e=er;var t=4186112&~ul;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=jo(),fe&4&&e===98?e=Tl(12,er):(e=zI(e),e=Tl(e,er)),e}function Lr(e,t,n){if(50<aa)throw aa=0,Id=null,Error(H(185));if(e=Lc(e,t),e===null)return null;Nc(e,t,n),e===zt&&(ss|=t,gt===4&&Eo(e,Pt));var r=jo();t===1?fe&8&&!(fe&48)?kd(e):(Tn(e,n),fe===0&&(as(),Qn())):(!(fe&4)||r!==98&&r!==99||(or===null?or=new Set([e]):or.add(e)),Tn(e,n)),bd=e}function Lc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function Tn(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Vr(s),u=1<<a,l=o[a];if(l===-1){if(!(u&r)||u&i){l=t,no(u);var c=je;o[a]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ea(e,e===zt?Pt:0),t=je,r===0)n!==null&&(n!==ch&&ad(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==ch&&ad(n)}t===15?(n=kd.bind(null,e),Zn===null?(Zn=[n],sl=Kp(Ac,cx)):Zn.push(n),n=ch):t===14?n=Ca(99,kd.bind(null,e)):(n=HI(t),n=Ca(n,Ax.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Ax(e){if(al=-1,ul=er=0,fe&48)throw Error(H(327));var t=e.callbackNode;if(Qr()&&e.callbackNode!==t)return null;var n=Ea(e,e===zt?Pt:0);if(n===0)return null;var r=n,i=fe;fe|=16;var o=Fx();(zt!==e||Pt!==r)&&(as(),To(e,r));do try{iC();break}catch(a){Lx(e,a)}while(!0);if(Qp(),Ul.current=o,fe=i,nt!==null?r=0:(zt=null,Pt=0,r=gt),os&ss)To(e,0);else if(r!==0){if(r===2&&(fe|=64,e.hydrate&&(e.hydrate=!1,Gp(e.containerInfo)),n=qb(e),n!==0&&(r=Gs(e,n))),r===1)throw t=Rc,To(e,0),Eo(e,n),Tn(e,Nt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:oi(e);break;case 3:if(Eo(e,n),(n&62914560)===n&&(r=um+500-Nt(),10<r)){if(Ea(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Uy(oi.bind(null,e),r);break}oi(e);break;case 4:if(Eo(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vr(n);o=1<<s,s=r[s],s>i&&(i=s),n&=~o}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tC(n/1960))-n,10<n){e.timeoutHandle=Uy(oi.bind(null,e),n);break}oi(e);break;case 5:oi(e);break;default:throw Error(H(329))}}return Tn(e,Nt()),e.callbackNode===t?Ax.bind(null,e):null}function Eo(e,t){for(t&=~am,t&=~ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),r=1<<n;e[n]=-1,t&=~r}}function kd(e){if(fe&48)throw Error(H(327));if(Qr(),e===zt&&e.expiredLanes&Pt){var t=Pt,n=Gs(e,t);os&ss&&(t=Ea(e,t),n=Gs(e,t))}else t=Ea(e,0),n=Gs(e,t);if(e.tag!==0&&n===2&&(fe|=64,e.hydrate&&(e.hydrate=!1,Gp(e.containerInfo)),t=qb(e),t!==0&&(n=Gs(e,t))),n===1)throw n=Rc,To(e,0),Eo(e,t),Tn(e,Nt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e),Tn(e,Nt()),null}function nC(){if(or!==null){var e=or;or=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Tn(t,Nt())})}Qn()}function Dx(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(as(),Qn())}}function Rx(e,t){var n=fe;fe&=-2,fe|=8;try{return e(t)}finally{fe=n,fe===0&&(as(),Qn())}}function Vu(e,t){Ke(wd,Ii),Ii|=t,os|=t}function lm(){Ii=wd.current,Fe(wd)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lk(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:Oo(),Fe(Jt),Fe(At),Zp();break;case 5:Jp(r);break;case 4:Oo();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Xp(r);break;case 23:case 24:lm()}n=n.return}zt=e,nt=zr(e.current,null),Pt=Ii=os=t,gt=0,Rc=null,am=ss=ou=0}function Lx(e,t){do{var n=nt;try{if(Qp(),ia.current=$l,Rl){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rl=!1}if(ja=0,pt=It=Qe=null,oa=!1,sm.current=null,n===null||n.return===null){gt=1,Rc=t,nt=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Pt,a.flags|=2048,a.firstEffect=a.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if(!(a.mode&2)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=(We.current&1)!==0,f=s;do{var p;if(p=f.tag===13){var y=f.memoizedState;if(y!==null)p=y.dehydrated!==null;else{var w=f.memoizedProps;p=w.fallback===void 0?!1:w.unstable_avoidThisFallback!==!0?!0:!d}}if(p){var g=f.updateQueue;if(g===null){var m=new Set;m.add(l),f.updateQueue=m}else g.add(l);if(!(f.mode&2)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var v=Ar(-1,1);v.tag=2,Dr(a,v)}a.lanes|=1;break e}u=void 0,a=t;var b=o.pingCache;if(b===null?(b=o.pingCache=new Xk,u=new Set,b.set(l,u)):(u=b.get(l),u===void 0&&(u=new Set,b.set(l,u))),!u.has(a)){u.add(a);var x=lC.bind(null,o,l,a);l.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(f!==null);u=Error((go(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}gt!==5&&(gt=2),u=om(u,a),f=s;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t;var T=Px(f,o,t);Wy(f,T);break e;case 1:o=u;var S=f.type,k=f.stateNode;if(!(f.flags&64)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Un===null||!Un.has(k)))){f.flags|=4096,t&=-t,f.lanes|=t;var P=jx(f,o,t);Wy(f,P);break e}}f=f.return}while(f!==null)}$x(n)}catch(D){t=D,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Fx(){var e=Ul.current;return Ul.current=$l,e===null?$l:e}function Gs(e,t){var n=fe;fe|=16;var r=Fx();zt===e&&Pt===t||To(e,t);do try{rC();break}catch(i){Lx(e,i)}while(!0);if(Qp(),fe=n,Ul.current=r,nt!==null)throw Error(H(261));return zt=null,Pt=0,gt}function rC(){for(;nt!==null;)Mx(nt)}function iC(){for(;nt!==null&&!$k();)Mx(nt)}function Mx(e){var t=Vx(e.alternate,e,Ii);e.memoizedProps=e.pendingProps,t===null?$x(e):nt=t,sm.current=null}function $x(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&2048){if(n=Qk(t),n!==null){n.flags&=2047,nt=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(n=Kk(n,t,Ii),n!==null){nt=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||Ii&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);gt===0&&(gt=5)}function oi(e){var t=jo();return Ti(99,oC.bind(null,e,t)),null}function oC(e,t){do Qr();while(sa!==null);if(fe&48)throw Error(H(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<o;){var u=31-Vr(o),l=1<<u;i[u]=0,s[u]=-1,a[u]=-1,o&=~l}if(or!==null&&!(r&24)&&or.has(e)&&or.delete(e),e===zt&&(nt=zt=null,Pt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=fe,fe|=32,sm.current=null,ah=nl,s=Ay(),nd(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(l=a.getSelection&&a.getSelection())&&l.rangeCount!==0){a=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var c=0,d=-1,f=-1,p=0,y=0,w=s,g=null;t:for(;;){for(var m;w!==a||o!==0&&w.nodeType!==3||(d=c+o),w!==u||l!==0&&w.nodeType!==3||(f=c+l),w.nodeType===3&&(c+=w.nodeValue.length),(m=w.firstChild)!==null;)g=w,w=m;for(;;){if(w===s)break t;if(g===a&&++p===o&&(d=c),g===u&&++y===l&&(f=c),(m=w.nextSibling)!==null)break;w=g,g=w.parentNode}w=m}a=d===-1||f===-1?null:{start:d,end:f}}else a=null;a=a||{start:0,end:0}}else a=null;uh={focusedElem:s,selectionRange:a},nl=!1,ua=null,ll=!1,X=r;do try{sC()}catch(D){if(X===null)throw Error(H(330));Fr(X,D),X=X.nextEffect}while(X!==null);ua=null,X=r;do try{for(s=e;X!==null;){var v=X.flags;if(v&16&&wa(X.stateNode,""),v&128){var b=X.alternate;if(b!==null){var x=b.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(v&1038){case 2:vv(X),X.flags&=-3;break;case 6:vv(X),X.flags&=-3,mh(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025,mh(X.alternate,X);break;case 4:mh(X.alternate,X);break;case 8:a=X,Ox(s,a);var T=a.alternate;gv(a),T!==null&&gv(T)}X=X.nextEffect}}catch(D){if(X===null)throw Error(H(330));Fr(X,D),X=X.nextEffect}while(X!==null);if(x=uh,b=Ay(),v=x.focusedElem,s=x.selectionRange,b!==v&&v&&v.ownerDocument&&Yb(v.ownerDocument.documentElement,v)){for(s!==null&&nd(v)&&(b=s.start,x=s.end,x===void 0&&(x=b),"selectionStart"in v?(v.selectionStart=b,v.selectionEnd=Math.min(x,v.value.length)):(x=(b=v.ownerDocument||document)&&b.defaultView||window,x.getSelection&&(x=x.getSelection(),a=v.textContent.length,T=Math.min(s.start,a),s=s.end===void 0?T:Math.min(s.end,a),!x.extend&&T>s&&(a=s,s=T,T=a),a=Oy(v,T),o=Oy(v,s),a&&o&&(x.rangeCount!==1||x.anchorNode!==a.node||x.anchorOffset!==a.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&(b=b.createRange(),b.setStart(a.node,a.offset),x.removeAllRanges(),T>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b)))))),b=[],x=v;x=x.parentNode;)x.nodeType===1&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<b.length;v++)x=b[v],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}nl=!!ah,uh=ah=null,e.current=n,X=r;do try{for(v=e;X!==null;){var S=X.flags;if(S&36&&Zk(v,X.alternate,X),S&128){b=void 0;var k=X.ref;if(k!==null){var P=X.stateNode;switch(X.tag){case 5:b=P;break;default:b=P}typeof k=="function"?k(b):k.current=b}}X=X.nextEffect}}catch(D){if(X===null)throw Error(H(330));Fr(X,D),X=X.nextEffect}while(X!==null);X=null,Vk(),fe=i}else e.current=n;if(qr)qr=!1,sa=e,Hs=t;else for(X=r;X!==null;)t=X.nextEffect,X.nextEffect=null,X.flags&8&&(S=X,S.sibling=null,S.stateNode=null),X=t;if(r=e.pendingLanes,r===0&&(Un=null),r===1?e===Id?aa++:(aa=0,Id=e):aa=0,n=n.stateNode,wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(Wp,n,void 0,(n.current.flags&64)===64)}catch{}if(Tn(e,Nt()),Vl)throw Vl=!1,e=Sd,Sd=null,e;return fe&8||Qn(),null}function sC(){for(;X!==null;){var e=X.alternate;ll||ua===null||(X.flags&8?vy(X,ua)&&(ll=!0):X.tag===13&&eC(e,X)&&vy(X,ua)&&(ll=!0));var t=X.flags;t&256&&Jk(e,X),!(t&512)||qr||(qr=!0,Ca(97,function(){return Qr(),null})),X=X.nextEffect}}function Qr(){if(Hs!==90){var e=97<Hs?97:Hs;return Hs=90,Ti(e,uC)}return!1}function aC(e,t){Ed.push(t,e),qr||(qr=!0,Ca(97,function(){return Qr(),null}))}function Ux(e,t){Td.push(t,e),qr||(qr=!0,Ca(97,function(){return Qr(),null}))}function uC(){if(sa===null)return!1;var e=sa;if(sa=null,fe&48)throw Error(H(331));var t=fe;fe|=32;var n=Td;Td=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(u){if(o===null)throw Error(H(330));Fr(o,u)}}for(n=Ed,Ed=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var a=i.create;i.destroy=a()}catch(u){if(o===null)throw Error(H(330));Fr(o,u)}}for(a=e.current.firstEffect;a!==null;)e=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=e;return fe=t,Qn(),!0}function bv(e,t,n){t=om(n,t),t=Px(e,t,1),Dr(e,t),t=fn(),e=Lc(e,1),e!==null&&(Nc(e,1,t),Tn(e,t))}function Fr(e,t){if(e.tag===3)bv(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){bv(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=om(t,e);var i=jx(n,e,1);if(Dr(n,i),i=fn(),n=Lc(n,1),n!==null)Nc(n,1,i),Tn(n,i);else if(typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function lC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Pt&n)===n&&(gt===4||gt===3&&(Pt&62914560)===Pt&&500>Nt()-um?To(e,0):am|=n),Tn(e,t)}function cC(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(er===0&&(er=os),t=ro(62914560&~er),t===0&&(t=4194304)):t=jo()===99?1:2:t=1),n=fn(),e=Lc(e,t),e!==null&&(Nc(e,t,n),Tn(e,n))}var Vx;Vx=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)jn=!0;else if(n&r)jn=!!(e.flags&16384);else{switch(jn=!1,t.tag){case 3:sv(t),hh();break;case 5:Yy(t);break;case 1:Zt(t.type)&&ol(t);break;case 4:cd(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ke(_l,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return n&t.child.childLanes?av(e,t,n):(Ke(We,We.current&1),t=nr(e,t,n),t!==null?t.sibling:null);Ke(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&64){if(r)return hv(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(We,We.current),r)break;return null;case 23:case 24:return t.lanes=0,dh(e,t,n)}return nr(e,t,n)}else jn=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Po(t,At.current),xo(t,n),i=tm(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)){var o=!0;ol(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yp(t);var s=r.getDerivedStateFromProps;typeof s=="function"&&Ol(t,r,s,e),i.updater=Dc,t.stateNode=i,i._reactInternals=t,ld(t,r,e,n),t=pd(null,t,r,!0,o,n)}else t.tag=0,Qt(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=hC(i),e=Pn(i,e),o){case 0:t=dd(null,t,i,e,n);break e;case 1:t=ov(null,t,i,e,n);break e;case 11:t=rv(null,t,i,e,n);break e;case 14:t=iv(null,t,i,Pn(i.type,e),r,n);break e}throw Error(H(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),dd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),ov(e,t,r,i,n);case 3:if(sv(t),r=t.updateQueue,e===null||r===null)throw Error(H(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,hx(e,t),Na(t,r,null,n),r=t.memoizedState.element,r===i)hh(),t=nr(e,t,n);else{if(i=t.stateNode,(o=i.hydrate)&&(_r=bo(t.stateNode.containerInfo.firstChild),tr=t,o=zn=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],So.push(o);for(n=gx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Qt(e,t,r,n),hh();t=t.child}return t;case 5:return Yy(t),e===null&&fd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,od(r,i)?s=null:o!==null&&od(r,o)&&(t.flags|=16),kx(e,t),Qt(e,t,s,n),t.child;case 6:return e===null&&fd(t),null;case 13:return av(e,t,n);case 4:return cd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Al(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),rv(e,t,r,i,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var a=t.type._context;if(Ke(_l,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=wn(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!Jt.current){t=nr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){s=a.child;for(var l=u.firstContext;l!==null;){if(l.context===r&&l.observedBits&o){a.tag===1&&(l=Ar(-1,n&-n),l.tag=2,Dr(a,l)),a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),fx(a.return,n),u.lanes|=n;break}l=l.next}}else s=a.tag===10&&a.type===t.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,xo(t,n),i=En(i,o.unstable_observedBits),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return i=t.type,o=Pn(i,t.pendingProps),o=Pn(i.type,o),iv(e,t,i,o,r,n);case 15:return Ix(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zt(r)?(e=!0,ol(t)):e=!1,xo(t,n),px(t,r,i),ld(t,r,i,n),pd(null,t,r,!0,e,n);case 19:return hv(e,t,n);case 23:return dh(e,t,n);case 24:return dh(e,t,n)}throw Error(H(156,t.tag))};function fC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,r){return new fC(e,t,n,r)}function cm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hC(e){if(typeof e=="function")return cm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ic)return 11;if(e===kc)return 14}return 2}function zr(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")cm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sr:return Io(n.children,i,o,t);case vb:s=8,i|=16;break;case kp:s=8,i|=1;break;case Ys:return e=bn(12,n,t,i|8),e.elementType=Ys,e.type=Ys,e.lanes=o,e;case Js:return e=bn(13,n,t,i),e.type=Js,e.elementType=Js,e.lanes=o,e;case bl:return e=bn(19,n,t,i),e.elementType=bl,e.lanes=o,e;case Op:return fm(n,i,o,t);case Vh:return e=bn(24,n,t,i),e.elementType=Vh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cp:s=10;break e;case Np:s=9;break e;case Ic:s=11;break e;case kc:s=14;break e;case _p:s=16,r=null;break e;case Pp:s=22;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=bn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Io(e,t,n,r){return e=bn(7,e,r,t),e.lanes=n,e}function fm(e,t,n,r){return e=bn(23,e,r,t),e.elementType=Op,e.lanes=n,e}function gh(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function yh(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dC(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=eh(0),this.expirationTimes=eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.mutableSourceEagerHydrationData=null}function pC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e,t,n,r){var i=t.current,o=fn(),s=Rr(i);e:if(n){n=n._reactInternals;t:{if(Mi(n)!==n||n.tag!==1)throw Error(H(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Zt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(H(171))}if(n.tag===1){var u=n.type;if(Zt(u)){n=ix(n,u,a);break e}}n=a}else n=Br;return t.context===null?t.context=n:t.pendingContext=n,t=Ar(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Dr(i,t),Lr(i,s,o),s}function vh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hm(e,t){xv(e,t),(e=e.alternate)&&xv(e,t)}function mC(){return null}function dm(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new dC(e,t,n!=null&&n.hydrate===!0),t=bn(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,Yp(t),e[is]=n.current,Zb(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}dm.prototype.render=function(e){Bl(e,this._internalRoot,null,null)};dm.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Bl(null,e,null,function(){t[is]=null})};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gC(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new dm(e,0,t?{hydrate:!0}:void 0)}function Fc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var l=vh(s);a.call(l)}}Bl(t,s,e,i)}else{if(o=n._reactRootContainer=gC(n,r),s=o._internalRoot,typeof i=="function"){var u=i;i=function(){var l=vh(s);u.call(l)}}Rx(function(){Bl(t,s,e,i)})}return vh(s)}Ab=function(e){if(e.tag===13){var t=fn();Lr(e,4,t),hm(e,4)}};Fp=function(e){if(e.tag===13){var t=fn();Lr(e,67108864,t),hm(e,67108864)}};Db=function(e){if(e.tag===13){var t=fn(),n=Rr(e);Lr(e,n,t),hm(e,n)}};Rb=function(e,t){return t()};Yh=function(e,t,n){switch(t){case"input":if(qh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Oc(r);if(!i)throw Error(H(90));bb(r),qh(r,i)}}}break;case"textarea":Sb(e,n);break;case"select":t=n.value,t!=null&&yo(e,!!n.multiple,t,!1)}};Dp=Dx;_b=function(e,t,n,r,i){var o=fe;fe|=4;try{return Ti(98,e.bind(null,t,n,r,i))}finally{fe=o,fe===0&&(as(),Qn())}};Rp=function(){!(fe&49)&&(nC(),Qr())};Pb=function(e,t){var n=fe;fe|=2;try{return e(t)}finally{fe=n,fe===0&&(as(),Qn())}};function Bx(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(H(200));return pC(e,t,null,n)}var yC={Events:[ru,co,Oc,Cb,Nb,Qr,{current:!1}]},Os={findFiberByHostInstance:ci,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},vC={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ob(e),e===null?null:e.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Wp=Bu.inject(vC),wi=Bu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC;In.createPortal=Bx;In.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):Error(H(268,Object.keys(e)));return e=Ob(t),e=e===null?null:e.stateNode,e};In.flushSync=function(e,t){var n=fe;if(n&48)return e(t);fe|=1;try{if(e)return Ti(99,e.bind(null,t))}finally{fe=n,Qn()}};In.hydrate=function(e,t,n){if(!su(t))throw Error(H(200));return Fc(null,e,t,!0,n)};In.render=function(e,t,n){if(!su(t))throw Error(H(200));return Fc(null,e,t,!1,n)};In.unmountComponentAtNode=function(e){if(!su(e))throw Error(H(40));return e._reactRootContainer?(Rx(function(){Fc(null,null,e,!1,function(){e._reactRootContainer=null,e[is]=null})}),!0):!1};In.unstable_batchedUpdates=Dx;In.unstable_createPortal=function(e,t){return Bx(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};In.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!su(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Fc(e,t,n,!1,r)};In.version="17.0.2";function qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qx)}catch(e){console.error(e)}}qx(),pb.exports=In;var wC=pb.exports;const bC=Za(wC),xC='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif';function SC(){const e=document.createElement("canvas");e.width=e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});return t.textBaseline="top",t.font=`100px ${xC}`,t.scale(.01,.01),t}function Sv(e,t,n){return e.clearRect(0,0,100,100),e.fillStyle=n,e.fillText(t,0,0),e.getImageData(0,0,1,1).data.join(",")}function Ev(e){const t=SC(),n=Sv(t,e,"#fff"),r=Sv(t,e,"#000");return r===n&&!r.startsWith("0,0,0,")}function EC(e="Twemoji Country Flags",t="https://cdn.jsdelivr.net/npm/country-flag-emoji-polyfill@0.1/dist/TwemojiCountryFlags.woff2"){if(typeof window<"u"&&Ev("")&&!Ev("")){const n=document.createElement("style");return n.textContent=`@font-face {
      font-family: "${e}";
      unicode-range: U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067,
        U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F;
      src: url('${t}') format('woff2');
      font-display: swap;
    }`,document.head.appendChild(n),!0}return!1}function Cd(e,t){return Cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Cd(e,t)}function Gn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cd(e,t)}var zx={exports:{}},TC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IC=TC,kC=IC;function Hx(){}function Gx(){}Gx.resetWarningCache=Hx;var CC=function(){function e(r,i,o,s,a,u){if(u!==kC){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Gx,resetWarningCache:Hx};return n.PropTypes=n,n};zx.exports=CC();var NC=zx.exports;const Tv=Za(NC);function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(null,arguments)}function qu(e){return e.charAt(0)==="/"}function wh(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function _C(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&qu(e),o=t&&qu(t),s=i||o;if(e&&qu(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var l=0,c=r.length;c>=0;c--){var d=r[c];d==="."?wh(r,c):d===".."?(wh(r,c),l++):l&&(wh(r,c),l--)}if(!s)for(;l--;l)r.unshift("..");s&&r[0]!==""&&(!r[0]||!qu(r[0]))&&r.unshift("");var f=r.join("/");return a&&f.substr(-1)!=="/"&&(f+="/"),f}var PC="Invariant failed";function Ui(e,t){throw new Error(PC)}function la(e){return e.charAt(0)==="/"?e:"/"+e}function Iv(e){return e.charAt(0)==="/"?e.substr(1):e}function jC(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function Wx(e,t){return jC(e,t)?e.substr(t.length):e}function Kx(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function OC(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return o!==-1&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function Xt(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function un(e,t,n,r){var i;typeof e=="string"?(i=OC(e),i.state=t):(i=Ht({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=_C(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function pm(){var e=null;function t(s){return e=s,function(){e===s&&(e=null)}}function n(s,a,u,l){if(e!=null){var c=typeof e=="function"?e(s,a):e;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var r=[];function i(s){var a=!0;function u(){a&&s.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(l){return l!==u})}}function o(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var Qx=!!(typeof window<"u"&&window.document&&window.document.createElement);function Xx(e,t){t(window.confirm(e))}function AC(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function DC(){return window.navigator.userAgent.indexOf("Trident")===-1}function RC(){return window.navigator.userAgent.indexOf("Firefox")===-1}function LC(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var kv="popstate",Cv="hashchange";function Nv(){try{return window.history.state||{}}catch{return{}}}function FC(e){e===void 0&&(e={}),Qx||Ui();var t=window.history,n=AC(),r=!DC(),i=e,o=i.forceRefresh,s=o===void 0?!1:o,a=i.getUserConfirmation,u=a===void 0?Xx:a,l=i.keyLength,c=l===void 0?6:l,d=e.basename?Kx(la(e.basename)):"";function f(z){var R=z||{},j=R.key,M=R.state,$=window.location,te=$.pathname,he=$.search,ke=$.hash,Ae=te+he+ke;return d&&(Ae=Wx(Ae,d)),un(Ae,M,j)}function p(){return Math.random().toString(36).substr(2,c)}var y=pm();function w(z){Ht(K,z),K.length=t.length,y.notifyListeners(K.location,K.action)}function g(z){LC(z)||b(f(z.state))}function m(){b(f(Nv()))}var v=!1;function b(z){if(v)v=!1,w();else{var R="POP";y.confirmTransitionTo(z,R,u,function(j){j?w({action:R,location:z}):x(z)})}}function x(z){var R=K.location,j=S.indexOf(R.key);j===-1&&(j=0);var M=S.indexOf(z.key);M===-1&&(M=0);var $=j-M;$&&(v=!0,Y($))}var T=f(Nv()),S=[T.key];function k(z){return d+Xt(z)}function P(z,R){var j="PUSH",M=un(z,R,p(),K.location);y.confirmTransitionTo(M,j,u,function($){if($){var te=k(M),he=M.key,ke=M.state;if(n)if(t.pushState({key:he,state:ke},null,te),s)window.location.href=te;else{var Ae=S.indexOf(K.location.key),He=S.slice(0,Ae+1);He.push(M.key),S=He,w({action:j,location:M})}else window.location.href=te}})}function D(z,R){var j="REPLACE",M=un(z,R,p(),K.location);y.confirmTransitionTo(M,j,u,function($){if($){var te=k(M),he=M.key,ke=M.state;if(n)if(t.replaceState({key:he,state:ke},null,te),s)window.location.replace(te);else{var Ae=S.indexOf(K.location.key);Ae!==-1&&(S[Ae]=M.key),w({action:j,location:M})}else window.location.replace(te)}})}function Y(z){t.go(z)}function se(){Y(-1)}function ie(){Y(1)}var me=0;function ce(z){me+=z,me===1&&z===1?(window.addEventListener(kv,g),r&&window.addEventListener(Cv,m)):me===0&&(window.removeEventListener(kv,g),r&&window.removeEventListener(Cv,m))}var E=!1;function A(z){z===void 0&&(z=!1);var R=y.setPrompt(z);return E||(ce(1),E=!0),function(){return E&&(E=!1,ce(-1)),R()}}function ee(z){var R=y.appendListener(z);return ce(1),function(){ce(-1),R()}}var K={length:t.length,action:"POP",location:T,createHref:k,push:P,replace:D,go:Y,goBack:se,goForward:ie,block:A,listen:ee};return K}var _v="hashchange",MC={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+Iv(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:Iv,decodePath:la},slash:{encodePath:la,decodePath:la}};function Yx(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function As(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function $C(e){window.location.hash=e}function bh(e){window.location.replace(Yx(window.location.href)+"#"+e)}function UC(e){e===void 0&&(e={}),Qx||Ui();var t=window.history;RC();var n=e,r=n.getUserConfirmation,i=r===void 0?Xx:r,o=n.hashType,s=o===void 0?"slash":o,a=e.basename?Kx(la(e.basename)):"",u=MC[s],l=u.encodePath,c=u.decodePath;function d(){var R=c(As());return a&&(R=Wx(R,a)),un(R)}var f=pm();function p(R){Ht(z,R),z.length=t.length,f.notifyListeners(z.location,z.action)}var y=!1,w=null;function g(R,j){return R.pathname===j.pathname&&R.search===j.search&&R.hash===j.hash}function m(){var R=As(),j=l(R);if(R!==j)bh(j);else{var M=d(),$=z.location;if(!y&&g($,M)||w===Xt(M))return;w=null,v(M)}}function v(R){if(y)y=!1,p();else{var j="POP";f.confirmTransitionTo(R,j,i,function(M){M?p({action:j,location:R}):b(R)})}}function b(R){var j=z.location,M=k.lastIndexOf(Xt(j));M===-1&&(M=0);var $=k.lastIndexOf(Xt(R));$===-1&&($=0);var te=M-$;te&&(y=!0,se(te))}var x=As(),T=l(x);x!==T&&bh(T);var S=d(),k=[Xt(S)];function P(R){var j=document.querySelector("base"),M="";return j&&j.getAttribute("href")&&(M=Yx(window.location.href)),M+"#"+l(a+Xt(R))}function D(R,j){var M="PUSH",$=un(R,void 0,void 0,z.location);f.confirmTransitionTo($,M,i,function(te){if(te){var he=Xt($),ke=l(a+he),Ae=As()!==ke;if(Ae){w=he,$C(ke);var He=k.lastIndexOf(Xt(z.location)),Ft=k.slice(0,He+1);Ft.push(he),k=Ft,p({action:M,location:$})}else p()}})}function Y(R,j){var M="REPLACE",$=un(R,void 0,void 0,z.location);f.confirmTransitionTo($,M,i,function(te){if(te){var he=Xt($),ke=l(a+he),Ae=As()!==ke;Ae&&(w=he,bh(ke));var He=k.indexOf(Xt(z.location));He!==-1&&(k[He]=he),p({action:M,location:$})}})}function se(R){t.go(R)}function ie(){se(-1)}function me(){se(1)}var ce=0;function E(R){ce+=R,ce===1&&R===1?window.addEventListener(_v,m):ce===0&&window.removeEventListener(_v,m)}var A=!1;function ee(R){R===void 0&&(R=!1);var j=f.setPrompt(R);return A||(E(1),A=!0),function(){return A&&(A=!1,E(-1)),j()}}function K(R){var j=f.appendListener(R);return E(1),function(){E(-1),j()}}var z={length:t.length,action:"POP",location:S,createHref:P,push:D,replace:Y,go:se,goBack:ie,goForward:me,block:ee,listen:K};return z}function Pv(e,t,n){return Math.min(Math.max(e,t),n)}function VC(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,o=t.initialIndex,s=o===void 0?0:o,a=t.keyLength,u=a===void 0?6:a,l=pm();function c(P){Ht(k,P),k.length=k.entries.length,l.notifyListeners(k.location,k.action)}function d(){return Math.random().toString(36).substr(2,u)}var f=Pv(s,0,i.length-1),p=i.map(function(P){return typeof P=="string"?un(P,void 0,d()):un(P,void 0,P.key||d())}),y=Xt;function w(P,D){var Y="PUSH",se=un(P,D,d(),k.location);l.confirmTransitionTo(se,Y,n,function(ie){if(ie){var me=k.index,ce=me+1,E=k.entries.slice(0);E.length>ce?E.splice(ce,E.length-ce,se):E.push(se),c({action:Y,location:se,index:ce,entries:E})}})}function g(P,D){var Y="REPLACE",se=un(P,D,d(),k.location);l.confirmTransitionTo(se,Y,n,function(ie){ie&&(k.entries[k.index]=se,c({action:Y,location:se}))})}function m(P){var D=Pv(k.index+P,0,k.entries.length-1),Y="POP",se=k.entries[D];l.confirmTransitionTo(se,Y,n,function(ie){ie?c({action:Y,location:se,index:D}):c()})}function v(){m(-1)}function b(){m(1)}function x(P){var D=k.index+P;return D>=0&&D<k.entries.length}function T(P){return P===void 0&&(P=!1),l.setPrompt(P)}function S(P){return l.appendListener(P)}var k={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:y,push:w,replace:g,go:m,goBack:v,goForward:b,canGo:x,block:T,listen:S};return k}var us={exports:{}},BC=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},ql=BC;us.exports=e1;us.exports.parse=mm;us.exports.compile=HC;us.exports.tokensToFunction=Jx;us.exports.tokensToRegExp=Zx;var qC=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function mm(e,t){for(var n=[],r=0,i=0,o="",s=t&&t.delimiter||"/",a;(a=qC.exec(e))!=null;){var u=a[0],l=a[1],c=a.index;if(o+=e.slice(i,c),i=c+u.length,l){o+=l[1];continue}var d=e[i],f=a[2],p=a[3],y=a[4],w=a[5],g=a[6],m=a[7];o&&(n.push(o),o="");var v=f!=null&&d!=null&&d!==f,b=g==="+"||g==="*",x=g==="?"||g==="*",T=f||s,S=y||w,k=f||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:p||r++,prefix:f||"",delimiter:T,optional:x,repeat:b,partial:v,asterisk:!!m,pattern:S?KC(S):m?".*":zC(T,k)})}return i<e.length&&(o+=e.substr(i)),o&&n.push(o),n}function zC(e,t){return!t||t.indexOf(e)>-1?"[^"+di(e)+"]+?":di(t)+"|(?:(?!"+di(t)+")[^"+di(e)+"])+?"}function HC(e,t){return Jx(mm(e,t),t)}function GC(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function WC(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Jx(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",ym(t)));return function(i,o){for(var s="",a=i||{},u=o||{},l=u.pretty?GC:encodeURIComponent,c=0;c<e.length;c++){var d=e[c];if(typeof d=="string"){s+=d;continue}var f=a[d.name],p;if(f==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(ql(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var y=0;y<f.length;y++){if(p=l(f[y]),!n[c].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");s+=(y===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?WC(f):l(f),!n[c].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');s+=d.prefix+p}return s}}function di(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function KC(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function gm(e,t){return e.keys=t,e}function ym(e){return e&&e.sensitive?"":"i"}function QC(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return gm(e,t)}function XC(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(e1(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",ym(n));return gm(o,t)}function YC(e,t,n){return Zx(mm(e,n),t,n)}function Zx(e,t,n){ql(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",s=0;s<e.length;s++){var a=e[s];if(typeof a=="string")o+=di(a);else{var u=di(a.prefix),l="(?:"+a.pattern+")";t.push(a),a.repeat&&(l+="(?:"+u+l+")*"),a.optional?a.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",o+=l}}var c=di(n.delimiter||"/"),d=o.slice(-c.length)===c;return r||(o=(d?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),i?o+="$":o+=r&&d?"":"(?="+c+"|$)",gm(new RegExp("^"+o,ym(n)),t)}function e1(e,t,n){return ql(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?QC(e,t):ql(e)?XC(e,t,n):YC(e,t,n)}var JC=us.exports;const ZC=Za(JC);var Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=typeof Symbol=="function"&&Symbol.for,vm=ct?Symbol.for("react.element"):60103,wm=ct?Symbol.for("react.portal"):60106,Mc=ct?Symbol.for("react.fragment"):60107,$c=ct?Symbol.for("react.strict_mode"):60108,Uc=ct?Symbol.for("react.profiler"):60114,Vc=ct?Symbol.for("react.provider"):60109,Bc=ct?Symbol.for("react.context"):60110,bm=ct?Symbol.for("react.async_mode"):60111,qc=ct?Symbol.for("react.concurrent_mode"):60111,zc=ct?Symbol.for("react.forward_ref"):60112,Hc=ct?Symbol.for("react.suspense"):60113,eN=ct?Symbol.for("react.suspense_list"):60120,Gc=ct?Symbol.for("react.memo"):60115,Wc=ct?Symbol.for("react.lazy"):60116,tN=ct?Symbol.for("react.block"):60121,nN=ct?Symbol.for("react.fundamental"):60117,rN=ct?Symbol.for("react.responder"):60118,iN=ct?Symbol.for("react.scope"):60119;function gn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vm:switch(e=e.type,e){case bm:case qc:case Mc:case Uc:case $c:case Hc:return e;default:switch(e=e&&e.$$typeof,e){case Bc:case zc:case Wc:case Gc:case Vc:return e;default:return t}}case wm:return t}}}function t1(e){return gn(e)===qc}Pe.AsyncMode=bm;Pe.ConcurrentMode=qc;Pe.ContextConsumer=Bc;Pe.ContextProvider=Vc;Pe.Element=vm;Pe.ForwardRef=zc;Pe.Fragment=Mc;Pe.Lazy=Wc;Pe.Memo=Gc;Pe.Portal=wm;Pe.Profiler=Uc;Pe.StrictMode=$c;Pe.Suspense=Hc;Pe.isAsyncMode=function(e){return t1(e)||gn(e)===bm};Pe.isConcurrentMode=t1;Pe.isContextConsumer=function(e){return gn(e)===Bc};Pe.isContextProvider=function(e){return gn(e)===Vc};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vm};Pe.isForwardRef=function(e){return gn(e)===zc};Pe.isFragment=function(e){return gn(e)===Mc};Pe.isLazy=function(e){return gn(e)===Wc};Pe.isMemo=function(e){return gn(e)===Gc};Pe.isPortal=function(e){return gn(e)===wm};Pe.isProfiler=function(e){return gn(e)===Uc};Pe.isStrictMode=function(e){return gn(e)===$c};Pe.isSuspense=function(e){return gn(e)===Hc};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mc||e===qc||e===Uc||e===$c||e===Hc||e===eN||typeof e=="object"&&e!==null&&(e.$$typeof===Wc||e.$$typeof===Gc||e.$$typeof===Vc||e.$$typeof===Bc||e.$$typeof===zc||e.$$typeof===nN||e.$$typeof===rN||e.$$typeof===iN||e.$$typeof===tN)};Pe.typeOf=gn;function Kc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n1={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=typeof Symbol=="function"&&Symbol.for,xm=ft?Symbol.for("react.element"):60103,Sm=ft?Symbol.for("react.portal"):60106,Qc=ft?Symbol.for("react.fragment"):60107,Xc=ft?Symbol.for("react.strict_mode"):60108,Yc=ft?Symbol.for("react.profiler"):60114,Jc=ft?Symbol.for("react.provider"):60109,Zc=ft?Symbol.for("react.context"):60110,Em=ft?Symbol.for("react.async_mode"):60111,ef=ft?Symbol.for("react.concurrent_mode"):60111,tf=ft?Symbol.for("react.forward_ref"):60112,nf=ft?Symbol.for("react.suspense"):60113,oN=ft?Symbol.for("react.suspense_list"):60120,rf=ft?Symbol.for("react.memo"):60115,of=ft?Symbol.for("react.lazy"):60116,sN=ft?Symbol.for("react.block"):60121,aN=ft?Symbol.for("react.fundamental"):60117,uN=ft?Symbol.for("react.responder"):60118,lN=ft?Symbol.for("react.scope"):60119;function yn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xm:switch(e=e.type,e){case Em:case ef:case Qc:case Yc:case Xc:case nf:return e;default:switch(e=e&&e.$$typeof,e){case Zc:case tf:case of:case rf:case Jc:return e;default:return t}}case Sm:return t}}}function r1(e){return yn(e)===ef}_e.AsyncMode=Em;_e.ConcurrentMode=ef;_e.ContextConsumer=Zc;_e.ContextProvider=Jc;_e.Element=xm;_e.ForwardRef=tf;_e.Fragment=Qc;_e.Lazy=of;_e.Memo=rf;_e.Portal=Sm;_e.Profiler=Yc;_e.StrictMode=Xc;_e.Suspense=nf;_e.isAsyncMode=function(e){return r1(e)||yn(e)===Em};_e.isConcurrentMode=r1;_e.isContextConsumer=function(e){return yn(e)===Zc};_e.isContextProvider=function(e){return yn(e)===Jc};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xm};_e.isForwardRef=function(e){return yn(e)===tf};_e.isFragment=function(e){return yn(e)===Qc};_e.isLazy=function(e){return yn(e)===of};_e.isMemo=function(e){return yn(e)===rf};_e.isPortal=function(e){return yn(e)===Sm};_e.isProfiler=function(e){return yn(e)===Yc};_e.isStrictMode=function(e){return yn(e)===Xc};_e.isSuspense=function(e){return yn(e)===nf};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qc||e===ef||e===Yc||e===Xc||e===nf||e===oN||typeof e=="object"&&e!==null&&(e.$$typeof===of||e.$$typeof===rf||e.$$typeof===Jc||e.$$typeof===Zc||e.$$typeof===tf||e.$$typeof===aN||e.$$typeof===uN||e.$$typeof===lN||e.$$typeof===sN)};_e.typeOf=yn;n1.exports=_e;var cN=n1.exports,i1=cN,fN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o1={};o1[i1.ForwardRef]=fN;o1[i1.Memo]=hN;var xh=1073741823,jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function dN(){var e="__global_unique_id__";return jv[e]=(jv[e]||0)+1}function pN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mN(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(o){return o(e,i)})}}}function gN(e){return Array.isArray(e)?e[0]:e}function yN(e,t){var n,r,i="__create-react-context-"+dN()+"__",o=function(a){Gn(u,a);function u(){for(var c,d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return c=a.call.apply(a,[this].concat(f))||this,c.emitter=mN(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},l.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var f=this.props.value,p=d.value,y;pN(f,p)?y=0:(y=typeof t=="function"?t(f,p):xh,y|=0,y!==0&&this.emitter.set(d.value,y))}},l.render=function(){return this.props.children},u}(xe.Component);o.childContextTypes=(n={},n[i]=Tv.object.isRequired,n);var s=function(a){Gn(u,a);function u(){for(var c,d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return c=a.call.apply(a,[this].concat(f))||this,c.observedBits=void 0,c.state={value:c.getValue()},c.onUpdate=function(y,w){var g=c.observedBits|0;g&w&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(d){var f=d.observedBits;this.observedBits=f??xh},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??xh},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():e},l.render=function(){return gN(this.props.children)(this.state.value)},u}(xe.Component);return s.contextTypes=(r={},r[i]=Tv.object,r),{Provider:o,Consumer:s}}var vN=xe.createContext||yN,s1=function(t){var n=vN();return n.displayName=t,n},a1=s1("Router-History"),cr=s1("Router"),sf=function(e){Gn(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var n=t.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return xe.createElement(cr.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},xe.createElement(a1.Provider,{children:this.props.children||null,value:this.props.history}))},t}(xe.Component);xe.Component;xe.Component;var Ov={},wN=1e4,Av=0;function bN(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ov[n]||(Ov[n]={});if(r[e])return r[e];var i=[],o=ZC(e,i,t),s={regexp:o,keys:i};return Av<wN&&(r[e]=s,Av++),s}function af(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=i===void 0?!1:i,s=n.strict,a=s===void 0?!1:s,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(r);return c.reduce(function(d,f){if(!f&&f!=="")return null;if(d)return d;var p=bN(f,{end:o,strict:a,sensitive:l}),y=p.regexp,w=p.keys,g=y.exec(e);if(!g)return null;var m=g[0],v=g.slice(1),b=e===m;return o&&!b?null:{path:f,url:f==="/"&&m===""?"/":m,isExact:b,params:w.reduce(function(x,T,S){return x[T.name]=v[S],x},{})}},null)}function xN(e){return xe.Children.count(e)===0}var ri=function(e){Gn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return xe.createElement(cr.Consumer,null,function(o){o||Ui();var s=i.props.location||o.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?af(s.pathname,i.props):o.match,u=Ht({},o,{location:s,match:a}),l=i.props,c=l.children,d=l.component,f=l.render;return Array.isArray(c)&&xN(c)&&(c=null),xe.createElement(cr.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:d?xe.createElement(d,u):f?f(u):null:typeof c=="function"?c(u):null)})},t}(xe.Component);function Tm(e){return e.charAt(0)==="/"?e:"/"+e}function SN(e,t){return e?Ht({},t,{pathname:Tm(e)+t.pathname}):t}function EN(e,t){if(!e)return t;var n=Tm(e);return t.pathname.indexOf(n)!==0?t:Ht({},t,{pathname:t.pathname.substr(n.length)})}function Dv(e){return typeof e=="string"?e:Xt(e)}function Sh(e){return function(){Ui()}}function Rv(){}xe.Component;var TN=function(e){Gn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return xe.createElement(cr.Consumer,null,function(o){o||Ui();var s=i.props.location||o.location,a,u;return xe.Children.forEach(i.props.children,function(l){if(u==null&&xe.isValidElement(l)){a=l;var c=l.props.path||l.props.from;u=c?af(s.pathname,Ht({},l.props,{path:c})):o.match}}),u?xe.cloneElement(a,{location:s,computedMatch:u}):null})},t}(xe.Component),uf=xe.useContext;function ls(){return uf(a1)}function IN(){return uf(cr).location}function u1(){var e=uf(cr).match;return e?e.params:{}}function kN(e){var t=IN();return uf(cr).match,af(t.pathname,e)}var CN=function(e){Gn(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.history=FC(r.props),r}var n=t.prototype;return n.render=function(){return xe.createElement(sf,{history:this.history,children:this.props.children})},t}(xe.Component);xe.Component;var Nd=function(t,n){return typeof t=="function"?t(n):t},_d=function(t,n){return typeof t=="string"?un(t,null,null,n):t},Im=function(t){return t},Ao=xe.forwardRef;typeof Ao>"u"&&(Ao=Im);function NN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var _N=Ao(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Kc(e,["innerRef","navigate","onClick"]),s=o.target,a=Ht({},o,{onClick:function(l){try{i&&i(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!s||s==="_self")&&!NN(l)&&(l.preventDefault(),r())}});return Im!==Ao?a.ref=t||n:a.ref=n,xe.createElement("a",a)}),PN=Ao(function(e,t){var n=e.component,r=n===void 0?_N:n,i=e.replace,o=e.to,s=e.innerRef,a=Kc(e,["component","replace","to","innerRef"]);return xe.createElement(cr.Consumer,null,function(u){u||Ui();var l=u.history,c=_d(Nd(o,u.location),u.location),d=c?l.createHref(c):"",f=Ht({},a,{href:d,navigate:function(){var y=Nd(o,u.location),w=Xt(u.location)===Xt(_d(y)),g=i||w?l.replace:l.push;g(y)}});return Im!==Ao?f.ref=t||s:f.innerRef=s,xe.createElement(r,f)})}),l1=function(t){return t},zl=xe.forwardRef;typeof zl>"u"&&(zl=l1);function jN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}zl(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,o=i===void 0?"active":i,s=e.activeStyle,a=e.className,u=e.exact,l=e.isActive,c=e.location,d=e.sensitive,f=e.strict,p=e.style,y=e.to,w=e.innerRef,g=Kc(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return xe.createElement(cr.Consumer,null,function(m){m||Ui();var v=c||m.location,b=_d(Nd(y,v),v),x=b.pathname,T=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=T?af(v.pathname,{path:T,exact:u,sensitive:d,strict:f}):null,k=!!(l?l(S,v):S),P=typeof a=="function"?a(k):a,D=typeof p=="function"?p(k):p;k&&(P=jN(P,o),D=Ht({},D,s));var Y=Ht({"aria-current":k&&r||null,className:P,style:D,to:b},g);return l1!==zl?Y.ref=t||w:Y.innerRef=w,xe.createElement(PN,Y)})});const km=({size:e})=>{let t=32,n=32;return e==="small"&&(t=16,n=16),h.jsxs("svg",{width:t,height:n,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[h.jsx("rect",{x:"12",y:"12",width:"8",height:"8",rx:"2",fill:"#60a5fa"}),h.jsxs("g",{className:"poker-spinner-heads",children:[h.jsx("circle",{cx:"16",cy:"6",r:"4",fill:"#fbbf24",stroke:"#fff",strokeWidth:"1.5"}),h.jsx("circle",{cx:"16",cy:"26",r:"4",fill:"#34d399",stroke:"#fff",strokeWidth:"1.5"}),h.jsx("circle",{cx:"6",cy:"16",r:"4",fill:"#a78bfa",stroke:"#fff",strokeWidth:"1.5"}),h.jsx("circle",{cx:"26",cy:"16",r:"4",fill:"#f472b6",stroke:"#fff",strokeWidth:"1.5"})]})]})};function ON(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Lv={};function Pd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&Lv[t[0]]||(typeof t[0]=="string"&&(Lv[t[0]]=new Date),ON(...t))}const c1=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function Fv(e,t,n){e.loadNamespaces(t,c1(e,n))}function Mv(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,c1(e,r))}function AN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,u)=>{const l=t.services.backendConnector.state[`${a}|${u}`];return l===-1||l===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}function DN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Pd("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):AN(e,t,n)}const RN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,LN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},FN=e=>LN[e],MN=e=>e.replace(RN,FN);let jd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:MN};function $N(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jd={...jd,...e}}function UN(){return jd}let f1;function VN(e){f1=e}function BN(){return f1}const qN={type:"3rdParty",init(e){$N(e.options.react),VN(e)}},zN=ae.createContext();class HN{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const GN=(e,t)=>{const n=ae.useRef();return ae.useEffect(()=>{n.current=e},[e,t]),n.current};function Xn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=ae.useContext(zN)||{},o=n||r||BN();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new HN),!o){Pd("You will need to pass in an i18next instance by using initReactI18next");const b=(T,S)=>typeof S=="string"?S:S&&typeof S=="object"&&typeof S.defaultValue=="string"?S.defaultValue:Array.isArray(T)?T[T.length-1]:T,x=[b,{},!1];return x.t=b,x.i18n={},x.ready=!1,x}o.options.react&&o.options.react.wait!==void 0&&Pd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...UN(),...o.options.react,...t},{useSuspense:a,keyPrefix:u}=s;let l=i||o.options&&o.options.defaultNS;l=typeof l=="string"?[l]:l||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(l);const c=(o.isInitialized||o.initializedStoreOnce)&&l.every(b=>DN(b,o,s));function d(){return o.getFixedT(t.lng||null,s.nsMode==="fallback"?l:l[0],u)}const[f,p]=ae.useState(d);let y=l.join();t.lng&&(y=`${t.lng}${y}`);const w=GN(y),g=ae.useRef(!0);ae.useEffect(()=>{const{bindI18n:b,bindI18nStore:x}=s;g.current=!0,!c&&!a&&(t.lng?Mv(o,t.lng,l,()=>{g.current&&p(d)}):Fv(o,l,()=>{g.current&&p(d)})),c&&w&&w!==y&&g.current&&p(d);function T(){g.current&&p(d)}return b&&o&&o.on(b,T),x&&o&&o.store.on(x,T),()=>{g.current=!1,b&&o&&b.split(" ").forEach(S=>o.off(S,T)),x&&o&&x.split(" ").forEach(S=>o.store.off(S,T))}},[o,y]);const m=ae.useRef(!0);ae.useEffect(()=>{g.current&&!m.current&&p(d),m.current=!1},[o,u]);const v=[f,o,c];if(v.t=f,v.i18n=o,v.ready=c,c||!c&&!a)return v;throw new Promise(b=>{t.lng?Mv(o,t.lng,l,()=>b()):Fv(o,l,()=>b())})}const WN=({className:e})=>h.jsxs("svg",{className:e,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[h.jsx("rect",{x:"12",y:"12",width:"8",height:"8",rx:"2",fill:"#60a5fa"}),h.jsx("circle",{cx:"16",cy:"6",r:"4",fill:"#fbbf24",stroke:"#fff",strokeWidth:"1.5"}),h.jsx("circle",{cx:"16",cy:"26",r:"4",fill:"#34d399",stroke:"#fff",strokeWidth:"1.5"}),h.jsx("circle",{cx:"6",cy:"16",r:"4",fill:"#a78bfa",stroke:"#fff",strokeWidth:"1.5"}),h.jsx("circle",{cx:"26",cy:"16",r:"4",fill:"#f472b6",stroke:"#fff",strokeWidth:"1.5"})]}),Ds={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},KN=()=>{const[e,t]=ae.useState(null);return ae.useEffect(()=>{const n=()=>{var o;const i=((o=window.visualViewport)==null?void 0:o.width)||window.innerWidth;return i>=Ds["2xl"]?"2xl":i>=Ds.xl?"xl":i>=Ds.lg?"lg":i>=Ds.md?"md":i>=Ds.sm?"sm":"xs"},r=()=>{t(n())};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e};function QN(e){return $v(e[0])+$v(e[1])}function $v(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}const XN=[{value:"en-US",label:"English",flag:"US"},{value:"fr-FR",label:"Franais",flag:"FR"},{value:"de-DE",label:"Deutsch",flag:"DE"},{value:"nl-NL",label:"Dutch",flag:"NL"},{value:"pt-BR",label:"Portugus",flag:"BR"},{value:"zh-Hant",label:"",flag:"HK"},{value:"ru-RU",label:"",flag:"RU"},{value:"hi-IN",label:"",flag:"IN"},{value:"ta-IN",label:"",flag:"IN"},{value:"es-ES",label:"Espaol",flag:"ES"}],Uv=()=>{const{i18n:e}=Xn(),[t,n]=ae.useState(e.language),[r,i]=ae.useState(!1);ae.useEffect(()=>{n(e.language)},[e.language]);const o=async s=>{i(!0);const a=s.target.value;n(a),e.changeLanguage(s.target.value).finally(()=>{i(!1)})};return r?h.jsx("div",{className:"text-center items-center justify-center flex","data-testid":"loading-indicator",children:h.jsx(km,{size:"small"})}):h.jsx("select",{value:t,onChange:o,className:"w-20 m-1 text-xs cursor-pointer focus:outline-none focus:shadow-outline text-ellipsis","data-testid":"language-control",children:XN.map(({value:s,label:a,flag:u})=>h.jsxs("option",{className:"dark:bg-gray-800",value:s,children:[QN(u)," ",a]},s))})},YN=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[h.jsx("circle",{cx:"6",cy:"7",r:"1.5"}),h.jsx("circle",{cx:"6",cy:"12",r:"1.5"}),h.jsx("circle",{cx:"6",cy:"17",r:"1.5"}),h.jsx("line",{x1:"10",y1:"7",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("line",{x1:"10",y1:"12",x2:"20",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("line",{x1:"10",y1:"17",x2:"20",y2:"17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),JN=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 .5C5.73.5.5 5.73.5 12c0 5.08 3.29 9.39 7.86 10.91.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.54-3.88-1.54-.53-1.34-1.3-1.7-1.3-1.7-1.06-.72.08-.71.08-.71 1.17.08 1.78 1.2 1.78 1.2 1.04 1.78 2.73 1.27 3.4.97.11-.75.41-1.27.74-1.56-2.56-.29-5.26-1.28-5.26-5.7 0-1.26.45-2.29 1.19-3.09-.12-.29-.52-1.45.11-3.02 0 0 .98-.31 3.2 1.18a11.1 11.1 0 012.92-.39c.99.01 1.99.13 2.92.39 2.22-1.49 3.2-1.18 3.2-1.18.63 1.57.23 2.73.11 3.02.74.8 1.19 1.83 1.19 3.09 0 4.43-2.7 5.41-5.27 5.7.42.36.79 1.09.79 2.2 0 1.59-.01 2.87-.01 3.26 0 .31.21.68.8.56C20.71 21.39 24 17.08 24 12c0-6.27-5.23-11.5-12-11.5z"})}),ZN=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35"})]}),h1=({className:e="h-5 w-5"})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16v-4m0-4h.01"})]}),e_=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 7l-5 5-5-5M12 12v6"})}),t_=({className:e})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:[h.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),n_=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v8m4-4H8"})]}),Od=({icon:e,label:t,onClick:n,testId:r})=>h.jsxs("button",{className:"button-ghost text-left flex items-center",onClick:n,"data-testid":r,children:[h.jsx("div",{className:"pr-2",children:e}),h.jsxs("div",{className:"text-sm font-normal",children:[" ",t]})]}),Vv=()=>{const[e,t]=ae.useState(()=>localStorage.getItem("theme")||"light");return ae.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("theme",e)},[e]),h.jsx(Od,{icon:e==="dark"?"":"",label:e==="dark"?"Light":"Dark",onClick:()=>t(e==="dark"?"light":"dark"),testId:"toolbar.menu.theme"},1)},r_="Planning Poker",i_=()=>{const e=ls(),t=KN(),{t:n}=Xn(),[r,i]=ae.useState(!1),o=ae.useRef(null),s=()=>{i(!r)},a=l=>{e.push(l),i(!1)};ae.useEffect(()=>{const l=c=>{o.current&&!o.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const u=[{icon:h.jsx(h1,{}),label:n("toolbar.menu.about"),onClick:()=>a("/about-planning-poker")},{icon:h.jsx(ZN,{}),label:n("toolbar.menu.guide"),onClick:()=>a("/guide")},{icon:h.jsx(YN,{}),label:n("toolbar.menu.examples"),onClick:()=>a("/examples")},{icon:h.jsx(n_,{}),label:n("toolbar.menu.newSession"),onClick:()=>a("/"),testId:"toolbar.menu.newSession"},{icon:h.jsx(e_,{}),label:n("toolbar.menu.joinSession"),onClick:()=>a("/join"),testId:"toolbar.menu.joinSession"},{icon:h.jsx(JN,{}),label:"GitHub",onClick:()=>window.location.href="https://github.com/pankaj9057/planning-poker"}];return h.jsxs("div",{className:"flex w-full items-center shadow-sm dark:shadow-gray-800",children:[h.jsx("div",{className:"inline-flex items-center",children:h.jsxs("button",{className:"button-ghost flex items-center",onClick:()=>e.push("/"),children:[h.jsx("div",{className:"pr-1",children:h.jsx(WN,{})}),h.jsx("p",{className:"md:text-2xl text-sm font-normal",children:r_})]})}),h.jsx("div",{className:"inline-flex items-center justify-end flex-1",children:t==="md"||t==="sm"||t==="xs"?h.jsxs("div",{className:"flex relative",ref:o,children:[h.jsx(Vv,{}),h.jsx(Uv,{}),h.jsx("button",{className:"button-ghost flex items-center",onClick:s,"aria-label":"Toggle Menu",children:h.jsx(t_,{})}),r&&h.jsx("div",{className:"absolute right-0 mt-10 w-48 bg-white dark:bg-gray-800 shadow-lg rounded-lg z-50 flex flex-col",children:u.map((l,c)=>h.jsx(Od,{icon:l.icon,label:l.label,onClick:l.onClick,testId:l.testId},c))})]}):h.jsxs(h.Fragment,{children:[u.map((l,c)=>h.jsx(Od,{icon:l.icon,label:l.label,onClick:l.onClick,testId:l.testId},c)),h.jsx(Vv,{}),h.jsx(Uv,{})]})})]})},ko=()=>h.jsx("div",{className:"w-full max-w-7xl my-8",children:h.jsx("hr",{className:"border-t border-gray-300"})}),Co=()=>(ae.useEffect(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch{}},[]),h.jsx(h.Fragment,{children:h.jsx("ins",{className:"adsbygoogle google_ad_responsive",style:{display:"block",margin:"30px"},"data-ad-client":"ca-pub-3152802418728088","data-ad-slot":"2256716101"})})),o_=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-green-400 mx-auto",fill:"none",viewBox:"0 0 160 160",children:[h.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),h.jsx("text",{x:"80",y:"85",textAnchor:"middle",fontSize:"25",fontWeight:"bold",fill:"green",fontFamily:"inherit",dominantBaseline:"middle",children:"BENEFITS!"})]}),s_=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-purple-400 mx-auto",fill:"none",viewBox:"0 0 160 160",children:[h.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),h.jsx("text",{x:"80",y:"65",textAnchor:"middle",fontSize:"25",fontWeight:"bold",fill:"purple",fontFamily:"inherit",dominantBaseline:"middle",children:"Best"}),h.jsx("text",{x:"80",y:"90",textAnchor:"middle",fontSize:"25",fontWeight:"bold",fill:"purple",fontFamily:"inherit",dominantBaseline:"middle",children:"Practice!"})]}),a_=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-orange-400 mx-auto",fill:"none",viewBox:"0 0 160 160",children:[h.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),h.jsx("text",{x:"80",y:"85",textAnchor:"middle",fontSize:"40",fontWeight:"bold",fill:"orange",fontFamily:"inherit",dominantBaseline:"middle",children:"How?"})]}),u_=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-60 h-60 text-blue-400 mx-auto",fill:"none",viewBox:"0 0 96 96",children:[h.jsx("circle",{cx:"48",cy:"48",r:"44",stroke:"currentColor",strokeWidth:"8",fill:"#e0f2fe"}),h.jsx("path",{d:"M48 68v-4m0-8c0-8 12-8 12-20 0-6.627-5.373-12-12-12s-12 5.373-12 12",stroke:"#2563eb",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),h.jsx("circle",{cx:"48",cy:"76",r:"3.5",fill:"#2563eb"})]}),l_=()=>h.jsxs("div",{className:"flex flex-col items-center w-full",children:[h.jsx(d1,{}),h.jsx(Co,{})]}),d1=()=>h.jsx("div",{className:"flex flex-col items-center w-full",children:h.jsxs("div",{className:"animate-fade-in-down",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[h.jsx("div",{className:"w-full lg:w-1/2 px-4 mb-8 lg:mb-0",children:h.jsxs("div",{className:"HomePageContainer",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"What is Agile Planning Poker?"}),h.jsxs("p",{className:"text-base",children:["In Agile software development, accurate estimation of tasks is crucial for effective planning and project success. Agile Planning Poker is a collaborative technique that leverages the wisdom of the team to estimate effort, complexity, or relative size of user stories or tasks. In this article, we will delve into the details of Agile Planning Poker, its benefits, and how it can revolutionize the estimation process for Agile teams.",h.jsx("br",{}),"Agile Planning Poker, also known as Scrum Poker, is a consensus-based estimation technique used in Agile projects. It involves a team of individuals with diverse expertise collectively assigning effort points or story points to user stories, features, or tasks. This technique facilitates discussion, knowledge sharing, and alignment among team members, ensuring a more accurate estimation process."]})]})}),h.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center",children:h.jsx("div",{className:"HomePageContainer p-4",children:h.jsx(u_,{})})})]}),h.jsx(ko,{}),h.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[h.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center mb-8 lg:mb-0",children:h.jsx("div",{className:"HomePageContainer p-4",children:h.jsx(a_,{})})}),h.jsx("div",{className:"w-full lg:w-1/2 px-4",children:h.jsxs("div",{className:"HomePageContainer",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How Agile Planning Poker Works"}),h.jsxs("p",{className:"text-base",children:["a. ",h.jsx("b",{children:"Team Collaboration"}),": Agile Planning Poker brings together the entire Agile team, including developers, testers, product owners, and scrum masters. Each team member receives a deck of cards with values representing the effort or complexity of the work to be estimated.",h.jsx("br",{}),"b. ",h.jsx("b",{children:"User Story Presentation"}),": The product owner presents a user story or task to the team, explaining its purpose, requirements, and expected outcomes. This ensures a common understanding of the work to be estimated.",h.jsx("br",{}),"c. ",h.jsx("b",{children:"Individual Estimation"}),": Each team member privately selects a card representing their estimate of effort or complexity. The cards are kept face down until everyone has made their estimation.",h.jsx("br",{}),"d. ",h.jsx("b",{children:"Revealing Estimations"}),": On a predetermined signal, all team members simultaneously reveal their selected cards. This reveals a range of estimates and encourages discussion and justification for the differing estimations.",h.jsx("br",{}),"e. ",h.jsx("b",{children:"Consensus Building"}),": Team members discuss their reasoning, clarifying any uncertainties and sharing their perspectives. Through open dialogue, consensus is reached, and the team converges on a shared estimation.",h.jsx("br",{}),"f. ",h.jsx("b",{children:"Repeating the Process"}),": The Agile Planning Poker process is repeated for each user story or task, allowing the team to estimate the entire backlog or sprint plan collaboratively."]})]})})]}),h.jsx(ko,{}),h.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[h.jsx("div",{className:"w-full lg:w-1/2 px-4 mb-8 lg:mb-0",children:h.jsxs("div",{className:"HomePageContainer",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Benefits of Agile Planning Poker"}),h.jsxs("p",{className:"text-base",children:["a. ",h.jsx("b",{children:"Improved Accuracy"}),": Agile Planning Poker leverages the collective knowledge and expertise of the team, resulting in more accurate and reliable estimations. It considers different perspectives, experiences, and skill sets, leading to a well-rounded estimation process.",h.jsx("br",{}),"b. ",h.jsx("b",{children:"Enhanced Collaboration"}),": The technique encourages open communication, discussion, and knowledge sharing among team members. It facilitates a shared understanding of the work, promotes a sense of ownership, and fosters a collaborative team culture.",h.jsx("br",{}),"c. ",h.jsx("b",{children:"Increased Transparency"}),": Agile Planning Poker makes the estimation process transparent and visible to the entire team. This visibility helps identify discrepancies, resolve conflicts, and align expectations, ensuring better planning and decision-making.",h.jsx("br",{}),"d. ",h.jsx("b",{children:"Time Efficiency"}),": The structured nature of Agile Planning Poker streamlines the estimation process. It prevents lengthy debates and reduces biases by anchoring individual estimations to a shared understanding, leading to quicker consensus building."]})]})}),h.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center",children:h.jsx("div",{className:"HomePageContainer p-4",children:h.jsx(o_,{})})})]}),h.jsx(ko,{}),h.jsxs("div",{className:"flex flex-col lg:flex-row w-full items-center justify-center my-8",children:[h.jsx("div",{className:"w-full lg:w-1/2 px-4 flex justify-center mb-8 lg:mb-0",children:h.jsx("div",{className:"HomePageContainer p-4",children:h.jsx(s_,{})})}),h.jsx("div",{className:"w-full lg:w-1/2 px-4",children:h.jsxs("div",{className:"HomePageContainer",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Best Practices for Agile Planning Poker"}),h.jsxs("p",{className:"text-base",children:["a. ",h.jsx("b",{children:"Establish Consistent Estimation Units"}),": Ensure the team has a clear understanding and consistency in the units used for estimation, such as story points, ideal days, or t-shirt sizes.",h.jsx("br",{}),"b. ",h.jsx("b",{children:"Include the Whole Team"}),": Involve all team members in Agile Planning Poker, as diverse perspectives lead to better estimations and improved buy-in.",h.jsx("br",{}),"c. ",h.jsx("b",{children:"Use Fibonacci Sequence"}),": Consider utilizing the Fibonacci sequence (1, 2, 3, 5, 8, 13, 21, etc.) for assigning values to estimation cards. This helps account for the inherent uncertainty and diminishing accuracy of estimating larger tasks.",h.jsx("br",{}),"d. ",h.jsx("b",{children:"Document and Track Estimations"}),": Maintain a record of estimated values to track progress, monitor trends and identify areas where adjustments may be necessary. This documentation provides valuable insights for future planning and retrospective analysis.",h.jsx("br",{}),"e. ",h.jsx("b",{children:"Embrace Consensus"}),": Agile Planning Poker aims to achieve consensus within the team. Encourage open discussions, actively listen to different viewpoints, and work towards finding common ground to reach agreement on the estimation.",h.jsx("br",{}),"f. ",h.jsx("b",{children:"Iterate and Refine"}),": Agile Planning Poker is not a one-time activity. Continuously refine and improve the estimation process based on feedback and lessons learned from previous sprints. Adapt the technique to suit the team's needs and evolving project requirements.",h.jsx("br",{}),h.jsx("br",{})]}),h.jsx("p",{className:"text-base mt-2",children:"Agile Planning Poker is a powerful technique that enhances collaboration, transparency, and accuracy in the estimation process for Agile teams. By harnessing the collective knowledge and expertise of team members, it leads to more reliable estimations and better planning outcomes. Embracing Agile Planning Poker enables teams to effectively manage project scope, prioritize work, and deliver value to stakeholders with increased confidence. Incorporate this collaborative estimation technique into your Agile practices and experience the benefits of empowered teamwork and improved project success."})]})})]})]})});function fl(e){const t=new Error(e);return t.source="ulid",t}const Cm="0123456789ABCDEFGHJKMNPQRSTVWXYZ",ca=Cm.length,Bv=Math.pow(2,48)-1,c_=10,f_=16;function h_(e){let t=Math.floor(e()*ca);return t===ca&&(t=ca-1),Cm.charAt(t)}function d_(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>Bv)throw fl("cannot encode time greater than "+Bv);if(e<0)throw fl("time must be positive");if(Number.isInteger(Number(e))===!1)throw fl("time must be an integer");let n,r="";for(;t>0;t--)n=e%ca,r=Cm.charAt(n)+r,e=(e-n)/ca;return r}function p_(e,t){let n="";for(;e>0;e--)n=h_(t)+n;return n}function m_(e=!1,t){t||(t=typeof window<"u"?window:null);const n=t&&(t.crypto||t.msCrypto);if(n)return()=>{const r=new Uint8Array(1);return n.getRandomValues(r),r[0]/255};try{const r=require("crypto");return()=>r.randomBytes(1).readUInt8()/255}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return()=>Math.random()}throw fl("secure crypto unusable, insecure Math.random not allowed")}function g_(e){return e||(e=m_()),function(n){return isNaN(n)&&(n=Date.now()),d_(n,c_)+p_(f_,e)}}const Ad=g_();var Dd=function(e,t){return Dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Dd(e,t)};function ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vt=function(){return Vt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vt.apply(this,arguments)};function _(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fa(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ws(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Be(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},y_=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],a=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},v_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,p=l&63;u||(p=64,s||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var u=i<e.length,l=u?n[e.charAt(i)]:64;++i;var c=i<e.length,d=c?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw Error();var f=o<<2|a>>4;if(r.push(f),l!==64){var p=a<<4&240|l>>2;if(r.push(p),d!==64){var y=l<<6&192|d;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},w_=function(e){var t=p1(e);return v_.encodeByteArray(t,!0)},qv=function(e){return w_(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(e){return Oa(void 0,e)}function Oa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!x_(r)||(e[r]=Oa(e[r],t[r]));return e}function x_(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S_=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Vt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[qv(JSON.stringify(n)),qv(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function m1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I_(){return typeof self=="object"&&self.self===self}function Nm(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function k_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C_(){return ki().indexOf("Electron/")>=0}function N_(){var e=ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function __(){return ki().indexOf("MSAppHost/")>=0}function P_(){return!m1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){return"indexedDB"in self&&indexedDB!=null}function y1(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){t(o)}})}function v1(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j_="FirebaseError",_m=function(e){ue(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=j_,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,au.prototype.create),o}return t}(Error),au=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?O_(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",l=new _m(o,u,i);return l},e}();function O_(e,t){return e.replace(A_,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var A_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D_(e,t){var n=new R_(e,t);return n.subscribe.bind(n)}var R_=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L_(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Eh),o.error===void 0&&(o.error=Eh),o.complete===void 0&&(o.complete=Eh);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function L_(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Eh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F_=1e3,M_=2,$_=4*60*60*1e3,U_=.5;function Hv(e,t,n){t===void 0&&(t=F_),n===void 0&&(n=M_);var r=t*Math.pow(n,e),i=Math.round(U_*r*(Math.random()-.5)*2);return Math.min($_,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return e&&e._delegate?e._delegate:e}var Ci=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V_=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new S_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(q_(t))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}try{for(var i=fa(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Ws(o.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch{}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=si),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Be(Be([],Ws(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ws(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=si),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=si),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=fa(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Ws(l.value,2),d=c[0],f=c[1],p=this.normalizeInstanceIdentifier(d);s===p&&f.resolve(a)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=fa(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,n)}catch{}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:B_(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=si),this.component?this.component.multipleInstances?t:si:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function B_(e){return e===si?void 0:e}function q_(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z_=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new V_(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _n(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii,Pm=[],Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));var w1={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},H_=Te.INFO,G_=(ii={},ii[Te.DEBUG]="log",ii[Te.VERBOSE]="log",ii[Te.INFO]="info",ii[Te.WARN]="warn",ii[Te.ERROR]="error",ii),W_=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=G_[t];if(o)console[o].apply(console,_n(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},jm=function(){function e(t){this.name=t,this._logLevel=H_,this._logHandler=W_,this._userLogHandler=null,Pm.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Te))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?w1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.DEBUG],t)),this._logHandler.apply(this,_n([this,Te.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.VERBOSE],t)),this._logHandler.apply(this,_n([this,Te.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.INFO],t)),this._logHandler.apply(this,_n([this,Te.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.WARN],t)),this._logHandler.apply(this,_n([this,Te.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_n([this,Te.ERROR],t)),this._logHandler.apply(this,_n([this,Te.ERROR],t))},e}();function K_(e){Pm.forEach(function(t){t.setLogLevel(e)})}function Q_(e,t){for(var n=function(s){var a=null;t&&t.level&&(a=w1[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(u,l){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var f=c.map(function(p){if(p==null)return null;if(typeof p=="string")return p;if(typeof p=="number"||typeof p=="boolean")return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch{return null}}).filter(function(p){return p}).join(" ");l>=(a??u.logLevel)&&e({level:Te[l].toLowerCase(),message:f,args:c,type:u.name})}},r=0,i=Pm;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,X_=(gr={},gr["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gr["bad-app-name"]="Illegal App name: '{$appName}",gr["duplicate-app"]="Firebase App named '{$appName}' already exists",gr["app-deleted"]="Firebase App named '{$appName}' already deleted",gr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gr),io=new au("app","Firebase",X_),b1="@firebase/app",Y_="0.6.30",J_="@firebase/analytics",Z_="@firebase/app-check",eP="@firebase/auth",tP="@firebase/database",nP="@firebase/functions",rP="@firebase/installations",iP="@firebase/messaging",oP="@firebase/performance",sP="@firebase/remote-config",aP="@firebase/storage",uP="@firebase/firestore",lP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Hl="[DEFAULT]",cP=(Tt={},Tt[b1]="fire-core",Tt[J_]="fire-analytics",Tt[Z_]="fire-app-check",Tt[eP]="fire-auth",Tt[tP]="fire-rtdb",Tt[nP]="fire-fn",Tt[rP]="fire-iid",Tt[iP]="fire-fcm",Tt[oP]="fire-perf",Tt[sP]="fire-rc",Tt[aP]="fire-gcs",Tt[uP]="fire-fst",Tt["fire-js"]="fire-js",Tt[lP]="fire-js-all",Tt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=new jm("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=b_(t),this.container=new z_(n.name),this._addComponent(new Ci("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Hl),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Hl),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Do.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw io.create("app-deleted",{appName:this.name_})},e}();hl.prototype.name&&hl.prototype.options||hl.prototype.delete||console.log("dc");var fP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:K_,onLog:c,apps:null,SDK_VERSION:fP,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:d}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(f){delete t[f]}function o(f){if(f=f||Hl,!zv(t,f))throw io.create("no-app",{appName:f});return t[f]}o.App=e;function s(f,p){if(p===void 0&&(p={}),typeof p!="object"||p===null){var y=p;p={name:y}}var w=p;w.name===void 0&&(w.name=Hl);var g=w.name;if(typeof g!="string"||!g)throw io.create("bad-app-name",{appName:String(g)});if(zv(t,g))throw io.create("duplicate-app",{appName:g});var m=new e(f,w,r);return t[g]=m,m}function a(){return Object.keys(t).map(function(f){return t[f]})}function u(f){var p=f.name;if(n.has(p))return Do.debug("There were multiple attempts to register component "+p+"."),f.type==="PUBLIC"?r[p]:null;if(n.set(p,f),f.type==="PUBLIC"){var y=function(v){if(v===void 0&&(v=o()),typeof v[p]!="function")throw io.create("invalid-app-argument",{appName:p});return v[p]()};f.serviceProps!==void 0&&Oa(y,f.serviceProps),r[p]=y,e.prototype[p]=function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];var x=this._getService.bind(this,p);return x.apply(this,f.multipleInstances?v:[])}}for(var w=0,g=Object.keys(t);w<g.length;w++){var m=g[w];t[m]._addComponent(f)}return f.type==="PUBLIC"?r[p]:null}function l(f,p,y){var w,g=(w=cP[f])!==null&&w!==void 0?w:f;y&&(g+="-"+y);var m=g.match(/\s|\//),v=p.match(/\s|\//);if(m||v){var b=['Unable to register library "'+g+'" with version "'+p+'":'];m&&b.push('library name "'+g+'" contains illegal characters (whitespace or "/")'),m&&v&&b.push("and"),v&&b.push('version name "'+p+'" contains illegal characters (whitespace or "/")'),Do.warn(b.join(" "));return}u(new Ci(g+"-version",function(){return{library:g,version:p}},"VERSION"))}function c(f,p){if(f!==null&&typeof f!="function")throw io.create("invalid-log-argument");Q_(f,p)}function d(f,p){if(p==="serverAuth")return null;var y=p;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){var e=hP(hl);e.INTERNAL=Vt(Vt({},e.INTERNAL),{createFirebaseNamespace:x1,extendNamespace:t,createSubscribe:D_,ErrorFactory:au,deepExtend:Oa});function t(n){Oa(e,n)}return e}var Om=x1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dP=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(pP(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function pP(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t){e.INTERNAL.registerComponent(new Ci("platform-logger",function(n){return new dP(n)},"PRIVATE")),e.registerVersion(b1,Y_,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(I_()&&self.firebase!==void 0){Do.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Gv=self.firebase.SDK_VERSION;Gv&&Gv.indexOf("LITE")>=0&&Do.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var gP=Om.initializeApp;Om.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m1()&&Do.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),gP.apply(void 0,e)};var kn=Om;mP(kn);function yP(e){return Array.prototype.slice.call(e)}function S1(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Am(e,t,n){var r,i=new Promise(function(o,s){r=e[t].apply(e,n),S1(r).then(o,s)});return i.request=r,i}function vP(e,t,n){var r=Am(e,t,n);return r.then(function(i){if(i)return new Aa(i,r.request)})}function cs(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function Dm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Am(this[t],i,arguments)})})}function lf(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function E1(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return vP(this[t],i,arguments)})})}function Vi(e){this._index=e}cs(Vi,"_index",["name","keyPath","multiEntry","unique"]);Dm(Vi,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);E1(Vi,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Aa(e,t){this._cursor=e,this._request=t}cs(Aa,"_cursor",["direction","key","primaryKey","value"]);Dm(Aa,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Aa.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),S1(t._request).then(function(r){if(r)return new Aa(r,t._request)})})})});function Yn(e){this._store=e}Yn.prototype.createIndex=function(){return new Vi(this._store.createIndex.apply(this._store,arguments))};Yn.prototype.index=function(){return new Vi(this._store.index.apply(this._store,arguments))};cs(Yn,"_store",["name","keyPath","indexNames","autoIncrement"]);Dm(Yn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);E1(Yn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);lf(Yn,"_store",IDBObjectStore,["deleteIndex"]);function uu(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}uu.prototype.objectStore=function(){return new Yn(this._tx.objectStore.apply(this._tx,arguments))};cs(uu,"_tx",["objectStoreNames","mode"]);lf(uu,"_tx",IDBTransaction,["abort"]);function cf(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new uu(n)}cf.prototype.createObjectStore=function(){return new Yn(this._db.createObjectStore.apply(this._db,arguments))};cs(cf,"_db",["name","version","objectStoreNames"]);lf(cf,"_db",IDBDatabase,["deleteObjectStore","close"]);function ff(e){this._db=e}ff.prototype.transaction=function(){return new uu(this._db.transaction.apply(this._db,arguments))};cs(ff,"_db",["name","version","objectStoreNames"]);lf(ff,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Yn,Vi].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=yP(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Vi,Yn].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(t,function(s){if(!s){o(i);return}if(i.push(s.value),n!==void 0&&i.length==n){o(i);return}s.continue()})})})});function wP(e,t,n){var r=Am(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new cf(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new ff(o)})}var bP="@firebase/installations",T1="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1=1e4,k1="w:"+T1,C1="FIS_v2",xP="https://firebaseinstallations.googleapis.com/v1",SP=60*60*1e3,EP="installations",TP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,IP=(yr={},yr["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',yr["not-registered"]="Firebase Installation is not registered.",yr["installation-not-found"]="Firebase Installation not found.",yr["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',yr["app-offline"]="Could not process request. Application offline.",yr["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",yr),fr=new au(EP,TP,IP);function N1(e){return e instanceof _m&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(e){var t=e.projectId;return xP+"/projects/"+t+"/installations"}function _1(e){return{token:e.token,requestStatus:2,expiresIn:kP(e.expiresIn),creationTime:Date.now()}}function Lm(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,fr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function P1(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j1(e,t){var n=t.refreshToken,r=P1(e);return r.append("Authorization",CP(n)),r}function Fm(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function kP(e){return Number(e.replace("s","000"))}function CP(e){return C1+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e,t){var n=t.fid;return _(this,void 0,void 0,function(){var r,i,o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:return r=Rm(e),i=P1(e),o={fid:n,authVersion:C1,appId:e.appId,sdkVersion:k1},s={method:"POST",headers:i,body:JSON.stringify(o)},[4,Fm(function(){return fetch(r,s)})];case 1:return a=c.sent(),a.ok?[4,a.json()]:[3,3];case 2:return u=c.sent(),l={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:_1(u.authToken)},[2,l];case 3:return[4,Lm("Create Installation",a)];case 4:throw c.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(e){var t=btoa(String.fromCharCode.apply(String,Be([],Ws(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PP=/^[cdef][\w-]{21}$/,Rd="";function jP(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=OP(e);return PP.test(n)?n:Rd}catch{return Rd}}function OP(e){var t=_P(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=new Map;function A1(e,t){var n=fs(e);D1(n,t),RP(n,t)}function AP(e,t){R1();var n=fs(e),r=Ro.get(n);r||(r=new Set,Ro.set(n,r)),r.add(t)}function DP(e,t){var n=fs(e),r=Ro.get(n);r&&(r.delete(t),r.size===0&&Ro.delete(n),L1())}function D1(e,t){var n,r,i=Ro.get(e);if(i)try{for(var o=fa(i),s=o.next();!s.done;s=o.next()){var a=s.value;a(t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function RP(e,t){var n=R1();n&&n.postMessage({key:e,fid:t}),L1()}var pi=null;function R1(){return!pi&&"BroadcastChannel"in self&&(pi=new BroadcastChannel("[Firebase] FID Change"),pi.onmessage=function(e){D1(e.data.key,e.data.fid)}),pi}function L1(){Ro.size===0&&pi&&(pi.close(),pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LP="firebase-installations-database",FP=1,Ni="firebase-installations-store",Th=null;function Mm(){return Th||(Th=wP(LP,FP,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ni)}})),Th}function Gl(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s;return N(this,function(a){switch(a.label){case 0:return n=fs(e),[4,Mm()];case 1:return r=a.sent(),i=r.transaction(Ni,"readwrite"),o=i.objectStore(Ni),[4,o.get(n)];case 2:return s=a.sent(),[4,o.put(t,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),(!s||s.fid!==t.fid)&&A1(e,t.fid),[2,t]}})})}function $m(e){return _(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=fs(e),[4,Mm()];case 1:return n=i.sent(),r=n.transaction(Ni,"readwrite"),[4,r.objectStore(Ni).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function lu(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return N(this,function(u){switch(u.label){case 0:return n=fs(e),[4,Mm()];case 1:return r=u.sent(),i=r.transaction(Ni,"readwrite"),o=i.objectStore(Ni),[4,o.get(n)];case 2:return s=u.sent(),a=t(s),a!==void 0?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),a&&(!s||s.fid!==a.fid)&&A1(e,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e){return _(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,lu(e,function(o){var s=MP(o),a=$P(e,s);return t=a.registrationPromise,a.installationEntry})];case 1:return n=i.sent(),n.fid!==Rd?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function MP(e){var t=e||{fid:jP(),registrationStatus:0};return F1(t)}function $P(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(fr.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=UP(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:VP(e)}:{installationEntry:t}}function UP(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,NP(e,t)];case 1:return n=i.sent(),[2,Gl(e,n)];case 2:return r=i.sent(),N1(r)&&r.customData.serverCode===409?[4,$m(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Gl(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function VP(e){return _(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(o){switch(o.label){case 0:return[4,Wv(e)];case 1:t=o.sent(),o.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,O1(100)];case 3:return o.sent(),[4,Wv(e)];case 4:return t=o.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,Um(e)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function Wv(e){return lu(e,function(t){if(!t)throw fr.create("installation-not-found");return F1(t)})}function F1(e){return BP(e)?{fid:e.fid,registrationStatus:0}:e}function BP(e){return e.registrationStatus===1&&e.registrationTime+I1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return _(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d;return N(this,function(f){switch(f.label){case 0:return i=zP(n,t),o=j1(n,t),s=r.getImmediate({optional:!0}),s&&o.append("x-firebase-client",s.getPlatformInfoString()),a={installation:{sdkVersion:k1}},u={method:"POST",headers:o,body:JSON.stringify(a)},[4,Fm(function(){return fetch(i,u)})];case 1:return l=f.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=f.sent(),d=_1(c),[2,d];case 3:return[4,Lm("Generate Auth Token",l)];case 4:throw f.sent()}})})}function zP(e,t){var n=t.fid;return Rm(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(e,t){return t===void 0&&(t=!1),_(this,void 0,void 0,function(){var n,r,i,o;return N(this,function(s){switch(s.label){case 0:return[4,lu(e.appConfig,function(a){if(!M1(a))throw fr.create("not-registered");var u=a.authToken;if(!t&&WP(u))return a;if(u.requestStatus===1)return n=HP(e,t),a;if(!navigator.onLine)throw fr.create("app-offline");var l=QP(a);return n=GP(e,l),l})];case 1:return r=s.sent(),n?[4,n]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}})})}function HP(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Kv(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,O1(100)];case 3:return i.sent(),[4,Kv(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,Vm(e,t)]:[2,r]}})})}function Kv(e){return lu(e,function(t){if(!M1(t))throw fr.create("not-registered");var n=t.authToken;return XP(n)?Vt(Vt({},t),{authToken:{requestStatus:0}}):t})}function GP(e,t){return _(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,qP(e,t)];case 1:return n=o.sent(),i=Vt(Vt({},t),{authToken:n}),[4,Gl(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),N1(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,$m(e.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=Vt(Vt({},t),{authToken:{requestStatus:0}}),[4,Gl(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function M1(e){return e!==void 0&&e.registrationStatus===2}function WP(e){return e.requestStatus===2&&!KP(e)}function KP(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+SP}function QP(e){var t={requestStatus:1,requestTime:Date.now()};return Vt(Vt({},e),{authToken:t})}function XP(e){return e.requestStatus===1&&e.requestTime+I1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e){return _(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Um(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):Vm(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(e,t){return t===void 0&&(t=!1),_(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,ZP(e.appConfig)];case 1:return r.sent(),[4,Vm(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function ZP(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,Um(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(e,t){return _(this,void 0,void 0,function(){var n,r,i,o;return N(this,function(s){switch(s.label){case 0:return n=tj(e,t),r=j1(e,t),i={method:"DELETE",headers:r},[4,Fm(function(){return fetch(n,i)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,Lm("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function tj(e,t){var n=t.fid;return Rm(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,lu(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw fr.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw fr.create("app-offline");case 3:return[4,ej(t,n)];case 4:return r.sent(),[4,$m(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e,t){var n=e.appConfig;return AP(n,t),function(){DP(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(e){var t,n;if(!e||!e.options)throw Ih("App Configuration");if(!e.name)throw Ih("App Name");var r=["projectId","apiKey","appId"];try{for(var i=fa(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.options[s])throw Ih(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ih(e){return fr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(e){var t="installations";e.INTERNAL.registerComponent(new Ci(t,function(n){var r=n.getProvider("app").getImmediate(),i=ij(r),o=n.getProvider("platform-logger"),s={appConfig:i,platformLoggerProvider:o},a={app:r,getId:function(){return YP(s)},getToken:function(u){return JP(s,u)},delete:function(){return nj(s)},onIdChange:function(u){return rj(s,u)}};return a},"PUBLIC")),e.registerVersion(bP,T1)}oj(kn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sj="firebase_id",aj="origin",uj=60*1e3,lj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$1="https://www.googletagmanager.com/gtag/js",jt;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(jt||(jt={}));var Ld;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Ld||(Ld={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(e,t,n,r,i){return _(this,void 0,void 0,function(){var o,s;return N(this,function(a){switch(a.label){case 0:return i&&i.global?(e(jt.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=a.sent(),s=Vt(Vt({},r),{send_to:o}),e(jt.EVENT,n,s),a.label=3;case 3:return[2]}})})}function fj(e,t,n,r){return _(this,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:return r&&r.global?(e(jt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(jt.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function hj(e,t,n,r){return _(this,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:return r&&r.global?(e(jt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(jt.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function dj(e,t,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return e(jt.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=l.sent(),e(jt.CONFIG,u,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}})})}function pj(e,t){return _(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=new jm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(e,t){var n=document.createElement("script");n.src=$1+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function gj(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function yj(e,t,n,r,i,o){return _(this,void 0,void 0,function(){var s,a,u,l;return N(this,function(c){switch(c.label){case 0:s=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,t[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=c.sent(),u=a.find(function(d){return d.measurementId===i}),u?[4,t[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),yt.error(l),[3,8];case 8:return e(jt.CONFIG,i,o),[2]}})})}function vj(e,t,n,r,i){return _(this,void 0,void 0,function(){var o,s,a,u,l,c,d,f,p;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=y.sent(),u=function(w){var g=a.find(function(v){return v.measurementId===w}),m=g&&t[g.appId];if(m)o.push(m);else return o=[],"break"},l=0,c=s;l<c.length&&(d=c[l],f=u(d),f!=="break");l++);y.label=2;case 2:return o.length===0&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return y.sent(),e(jt.EVENT,r,i||{}),[3,5];case 4:return p=y.sent(),yt.error(p),[3,5];case 5:return[2]}})})}function wj(e,t,n,r){function i(o,s,a){return _(this,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),o!==jt.EVENT?[3,2]:[4,vj(e,t,n,s,a)];case 1:return l.sent(),[3,5];case 2:return o!==jt.CONFIG?[3,4]:[4,yj(e,t,n,r,s,a)];case 3:return l.sent(),[3,5];case 4:e(jt.SET,s),l.label=5;case 5:return[3,7];case 6:return u=l.sent(),yt.error(u),[3,7];case 7:return[2]}})})}return i}function bj(e,t,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=wj(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function xj(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes($1))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Sj=(Nn={},Nn["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Nn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Nn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Nn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Nn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Nn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Nn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Nn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Nn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Nn),Sn=new au("analytics","Analytics",Sj);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej=30,Tj=1e3,Ij=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=Tj),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),U1=new Ij;function kj(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Cj(e){var t;return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:kj(r)},o=lj.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(s=l.sent(),!(s.status!==200&&s.status!==304))return[3,6];a="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.json()];case 3:return u=l.sent(),!((t=u.error)===null||t===void 0)&&t.message&&(a=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw Sn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}})})}function Nj(e,t,n){return t===void 0&&(t=U1),_(this,void 0,void 0,function(){var r,i,o,s,a,u,l=this;return N(this,function(c){if(r=e.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Sn.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Sn.create("no-api-key")}return a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new jj,setTimeout(function(){return _(l,void 0,void 0,function(){return N(this,function(d){return u.abort(),[2]})})},uj),[2,V1({appId:i,apiKey:o,measurementId:s},a,u,t)]})})}function V1(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return r===void 0&&(r=U1),_(this,void 0,void 0,function(){var s,a,u,l,c,d,f;return N(this,function(p){switch(p.label){case 0:s=e.appId,a=e.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,_j(n,i)];case 2:return p.sent(),[3,4];case 3:if(u=p.sent(),a)return yt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]")),[2,{appId:s,measurementId:a}];throw u;case 4:return p.trys.push([4,6,,7]),[4,Cj(e)];case 5:return l=p.sent(),r.deleteThrottleMetadata(s),[2,l];case 6:if(c=p.sent(),!Pj(c)){if(r.deleteThrottleMetadata(s),a)return yt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:s,measurementId:a}];throw c}return d=Number(c.customData.httpStatus)===503?Hv(o,r.intervalMillis,Ej):Hv(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},r.setThrottleMetadata(s,f),yt.debug("Calling attemptFetch again in "+d+" millis"),[2,V1(e,f,n,r)];case 7:return[2]}})})}function _j(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Pj(e){if(!(e instanceof _m)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var jj=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){return _(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return g1()?[3,1]:(yt.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,y1()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),yt.warn(Sn.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Aj(e,t,n,r,i,o){return _(this,void 0,void 0,function(){var s,a,u,l,c,d,f;return N(this,function(p){switch(p.label){case 0:return s=Nj(e),s.then(function(y){n[y.measurementId]=y.appId,e.options.measurementId&&y.measurementId!==e.options.measurementId&&yt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return yt.error(y)}),t.push(s),a=Oj().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return u=p.sent(),l=u[0],c=u[1],xj()||mj(o,l.measurementId),i("js",new Date),d=(f={},f[aj]="firebase",f.update=!0,f),c!=null&&(d[sj]=c),i(jt.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn={},Qv=[],Xv={},dl="dataLayer",B1="gtag",Yv,Rs,Fd=!1;function Dj(e){if(Fd)throw Sn.create("already-initialized");e.dataLayerName&&(dl=e.dataLayerName),e.gtagName&&(B1=e.gtagName)}function Rj(){var e=[];if(Nm()&&e.push("This is a browser extension environment."),v1()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:t});yt.warn(n.message)}}function Lj(e,t){Rj();var n=e.options.appId;if(!n)throw Sn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)yt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Sn.create("no-api-key");if(Jn[n]!=null)throw Sn.create("already-exists",{id:n});if(!Fd){gj(dl);var r=bj(Jn,Qv,Xv,dl,B1),i=r.wrappedGtag,o=r.gtagCore;Rs=i,Yv=o,Fd=!0}Jn[n]=Aj(e,Qv,Xv,t,Yv,dl);var s={app:e,logEvent:function(a,u,l){cj(Rs,Jn[n],a,u,l).catch(function(c){return yt.error(c)})},setCurrentScreen:function(a,u){fj(Rs,Jn[n],a,u).catch(function(l){return yt.error(l)})},setUserId:function(a,u){hj(Rs,Jn[n],a,u).catch(function(l){return yt.error(l)})},setUserProperties:function(a,u){dj(Rs,Jn[n],a,u).catch(function(l){return yt.error(l)})},setAnalyticsCollectionEnabled:function(a){pj(Jn[n],a).catch(function(u){return yt.error(u)})},INTERNAL:{delete:function(){return delete Jn[n],Promise.resolve()}}};return s}var Fj="@firebase/analytics",Mj="0.6.18",Jv="analytics";function $j(e){e.INTERNAL.registerComponent(new Ci(Jv,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return Lj(r,i)},"PUBLIC").setServiceProps({settings:Dj,EventName:Ld,isSupported:Uj})),e.INTERNAL.registerComponent(new Ci("analytics-internal",t,"PRIVATE")),e.registerVersion(Fj,Mj);function t(n){try{var r=n.getProvider(Jv).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Sn.create("interop-component-reg-failed",{reason:i})}}}$j(kn);function Uj(){return _(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(Nm())return[2,!1];if(!v1())return[2,!1];if(!g1())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,y1()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}var Vj="firebase",q1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.registerVersion(Vj,q1,"app");kn.SDK_VERSION=q1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Md=function(e,t){return Md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Md(e,t)};function Bj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Md(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function z1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var qj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Bm=Bm||{},pe=qj||self;function Wl(){}function $d(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function hf(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function zj(e,t,n){return e.call.apply(e.bind,arguments)}function Hj(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=zj:wt=Hj,wt.apply(null,arguments)}function zu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function St(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function Xr(){this.s=this.s,this.o=this.o}var Gj=0;Xr.prototype.s=!1;Xr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Gj!=0)};Xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var H1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Wj(e){e:{for(var t=$O,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Zv(e){return Array.prototype.concat.apply([],arguments)}function qm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kl(e){return/^[\s\xa0]*$/.test(e)}var e0=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $t(e,t){return e.indexOf(t)!=-1}function kh(e,t){return e<t?-1:e>t?1:0}var Ut;e:{var t0=pe.navigator;if(t0){var n0=t0.userAgent;if(n0){Ut=n0;break e}}Ut=""}function zm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function W1(e){var t={};for(var n in e)t[n]=e[n];return t}var r0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K1(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<r0.length;o++)n=r0[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hm(e){return Hm[" "](e),e}Hm[" "]=Wl;function Kj(e){var t=Yj;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Qj=$t(Ut,"Opera"),Lo=$t(Ut,"Trident")||$t(Ut,"MSIE"),Q1=$t(Ut,"Edge"),Ud=Q1||Lo,X1=$t(Ut,"Gecko")&&!($t(Ut.toLowerCase(),"webkit")&&!$t(Ut,"Edge"))&&!($t(Ut,"Trident")||$t(Ut,"MSIE"))&&!$t(Ut,"Edge"),Xj=$t(Ut.toLowerCase(),"webkit")&&!$t(Ut,"Edge");function Y1(){var e=pe.document;return e?e.documentMode:void 0}var Ql;e:{var Ch="",Nh=function(){var e=Ut;if(X1)return/rv:([^\);]+)(\)|;)/.exec(e);if(Q1)return/Edge\/([\d\.]+)/.exec(e);if(Lo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Xj)return/WebKit\/(\S+)/.exec(e);if(Qj)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Nh&&(Ch=Nh?Nh[1]:""),Lo){var _h=Y1();if(_h!=null&&_h>parseFloat(Ch)){Ql=String(_h);break e}}Ql=Ch}var Yj={};function Jj(){return Kj(function(){for(var e=0,t=e0(String(Ql)).split("."),n=e0("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=kh(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||kh(o[2].length==0,s[2].length==0)||kh(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var Vd;if(pe.document&&Lo){var i0=Y1();Vd=i0||parseInt(Ql,10)||void 0}else Vd=void 0;var Zj=Vd,eO=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pe.addEventListener("test",Wl,t),pe.removeEventListener("test",Wl,t)}catch{}return e}();function Ot(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};function Da(e,t){if(Ot.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(X1){e:{try{Hm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:tO[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Da.Z.h.call(this)}}St(Da,Ot);var tO={2:"touch",3:"pen",4:"mouse"};Da.prototype.h=function(){Da.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),nO=0;function rO(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++nO,this.ca=this.fa=!1}function pf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function mf(e){this.src=e,this.g={},this.h=0}mf.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=qd(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new rO(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function Bd(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=H1(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(pf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function qd(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),Ph={};function J1(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)J1(e,t[o],n,r,i);return null}return n=tS(n),e&&e[df]?e.N(t,n,hf(r)?!!r.capture:!1,i):iO(e,t,n,!1,r,i)}function iO(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=hf(i)?!!i.capture:!!i,a=Km(e);if(a||(e[Gm]=a=new mf(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=oO(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)eO||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eS(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oO(){function e(n){return t.call(e.src,e.listener,n)}var t=sO;return e}function Z1(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Z1(e,t[o],n,r,i);else r=hf(r)?!!r.capture:!!r,n=tS(n),e&&e[df]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=qd(o,n,r,i),-1<n&&(pf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Km(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qd(t,n,r,i)),(n=-1<e?t[e]:null)&&Wm(n))}function Wm(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[df])Bd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Km(t))?(Bd(n,e),n.h==0&&(n.src=null,t[Gm]=null)):pf(e)}}}function eS(e){return e in Ph?Ph[e]:Ph[e]="on"+e}function sO(e,t){if(e.ca)e=!0;else{t=new Da(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Wm(e),e=n.call(r,t)}return e}function Km(e){return e=e[Gm],e instanceof mf?e:null}var jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function tS(e){return typeof e=="function"?e:(e[jh]||(e[jh]=function(t){return e.handleEvent(t)}),e[jh])}function lt(){Xr.call(this),this.i=new mf(this),this.P=this,this.I=null}St(lt,Xr);lt.prototype[df]=!0;lt.prototype.removeEventListener=function(e,t,n,r){Z1(this,e,t,n,r)};function bt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Ot(t,e);else if(t instanceof Ot)t.target=t.target||e;else{var i=t;t=new Ot(r,e),K1(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Hu(s,r,!0,t)&&i}if(s=t.g=e,i=Hu(s,r,!0,t)&&i,i=Hu(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Hu(s,r,!1,t)&&i}lt.prototype.M=function(){if(lt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)pf(n[r]);delete e.g[t],e.h--}}this.I=null};lt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};lt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Hu(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Bd(e.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qm=pe.JSON.stringify;function aO(){var e=rS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var uO=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=nS.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),nS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new lO},function(e){return e.reset()}),lO=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function cO(e){pe.setTimeout(function(){throw e},0)}function Xm(e,t){zd||fO(),Hd||(zd(),Hd=!0),rS.add(e,t)}var zd;function fO(){var e=pe.Promise.resolve(void 0);zd=function(){e.then(hO)}}var Hd=!1,rS=new uO;function hO(){for(var e;e=aO();){try{e.h.call(e.g)}catch(n){cO(n)}var t=nS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hd=!1}function gf(e,t){lt.call(this),this.h=e||1,this.g=t||pe,this.j=wt(this.kb,this),this.l=Date.now()}St(gf,lt);Q=gf.prototype;Q.da=!1;Q.S=null;Q.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bt(this,"tick"),this.da&&(Ym(this),this.start()))}};Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ym(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Q.M=function(){gf.Z.M.call(this),Ym(this),delete this.g};function Jm(e,t,n){if(typeof e=="function")n&&(e=wt(e,n));else if(e&&typeof e.handleEvent=="function")e=wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:pe.setTimeout(e,t||0)}function iS(e){e.g=Jm(function(){e.g=null,e.i&&(e.i=!1,iS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var dO=function(e){Bj(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:iS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Xr);function Ra(e){Xr.call(this),this.h=e,this.g={}}St(Ra,Xr);var o0=[];function oS(e,t,n,r){Array.isArray(n)||(n&&(o0[0]=n.toString()),n=o0);for(var i=0;i<n.length;i++){var o=J1(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function sS(e){zm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Wm(t)},e),e.g={}}Ra.prototype.M=function(){Ra.Z.M.call(this),sS(this)};Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function yf(){this.g=!0}yf.prototype.Aa=function(){this.g=!1};function pO(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function mO(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function po(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+yO(e,n)+(r?" "+r:"")})}function gO(e,t){e.info(function(){return"TIMEOUT: "+t})}yf.prototype.info=function(){};function yO(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Qm(n)}catch{return t}}var Bi={},s0=null;function vf(){return s0=s0||new lt}Bi.Ma="serverreachability";function aS(e){Ot.call(this,Bi.Ma,e)}St(aS,Ot);function La(e){var t=vf();bt(t,new aS(t))}Bi.STAT_EVENT="statevent";function uS(e,t){Ot.call(this,Bi.STAT_EVENT,e),this.stat=t}St(uS,Ot);function Bt(e){var t=vf();bt(t,new uS(t,e))}Bi.Na="timingevent";function lS(e,t){Ot.call(this,Bi.Na,e),this.size=t}St(lS,Ot);function cu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){e()},t)}var wf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cS={};function Zm(){}Zm.prototype.h=null;function a0(e){return e.h||(e.h=e.i())}function fS(){}var fu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eg(){Ot.call(this,"d")}St(eg,Ot);function tg(){Ot.call(this,"c")}St(tg,Ot);var Gd;function bf(){}St(bf,Zm);bf.prototype.g=function(){return new XMLHttpRequest};bf.prototype.i=function(){return{}};Gd=new bf;function hu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ra(this),this.P=vO,e=Ud?125:void 0,this.W=new gf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hS}function hS(){this.i=null,this.g="",this.h=!1}var vO=45e3,Wd={},Xl={};Q=hu.prototype;Q.setTimeout=function(e){this.P=e};function Kd(e,t,n){e.K=1,e.v=Sf(hr(t)),e.s=n,e.U=!0,dS(e,null)}function dS(e,t){e.F=Date.now(),du(e),e.A=hr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bS(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hS,e.g=US(e.l,n?t:null,!e.s),0<e.O&&(e.L=new dO(wt(e.Ia,e,e.g),e.O)),oS(e.V,e.g,"readystatechange",e.gb),t=e.H?W1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),La(),pO(e.j,e.u,e.A,e.m,e.X,e.s)}Q.gb=function(e){e=e.target;var t=this.L;t&&rr(e)==3?t.l():this.Ia(e)};Q.Ia=function(e){try{if(e==this.g)e:{var t=rr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Ud||this.g&&(this.h.h||this.g.ga()||f0(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?La(3):La(2)),xf(this);var i=this.g.ba();this.N=i;t:if(pS(this)){var o=f0(this.g);e="";var s=o.length,a=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),ha(this);var u="";break t}this.h.i=new pe.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,mO(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kl(l)){var d=l;break t}}d=null}if(i=d)po(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qd(this,i);else{this.i=!1,this.o=3,Bt(12),mi(this),ha(this);break e}}this.U?(mS(this,t,u),Ud&&this.i&&t==3&&(oS(this.V,this.W,"tick",this.fb),this.W.start())):(po(this.j,this.m,u,null),Qd(this,u)),t==4&&mi(this),this.i&&!this.I&&(t==4?LS(this.l,this):(this.i=!1,du(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,Bt(12)):(this.o=0,Bt(13)),mi(this),ha(this)}}}catch{}finally{}};function pS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function mS(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=wO(e,n),i==Xl){t==4&&(e.o=4,Bt(14),r=!1),po(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Wd){e.o=4,Bt(15),po(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else po(e.j,e.m,i,null),Qd(e,i);pS(e)&&i!=Xl&&i!=Wd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Bt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cg(t),t.L=!0,Bt(11))):(po(e.j,e.m,n,"[Invalid Chunked Response]"),mi(e),ha(e))}Q.fb=function(){if(this.g){var e=rr(this.g),t=this.g.ga();this.C<t.length&&(xf(this),mS(this,e,t),this.i&&e!=4&&du(this))}};function wO(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Xl:(n=Number(t.substring(n,r)),isNaN(n)?Wd:(r+=1,r+n>t.length?Xl:(t=t.substr(r,n),e.C=r+n,t)))}Q.cancel=function(){this.I=!0,mi(this)};function du(e){e.Y=Date.now()+e.P,gS(e,e.P)}function gS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=cu(wt(e.eb,e),t)}function xf(e){e.B&&(pe.clearTimeout(e.B),e.B=null)}Q.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(gO(this.j,this.A),this.K!=2&&(La(),Bt(17)),mi(this),this.o=2,ha(this)):gS(this,this.Y-e)};function ha(e){e.l.G==0||e.I||LS(e.l,e)}function mi(e){xf(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Ym(e.W),sS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qd(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Xd(n.i,e))){if(n.I=e.N,!e.J&&Xd(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ec(n),If(n);else break e;lg(n),Bt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=cu(wt(n.ab,n),6e3));if(1>=ES(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else gi(n,11)}else if((e.J||n.g==e)&&ec(n),!Kl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];a!=null&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var d=r.i;!d.g&&($t(c,"spdy")||$t(c,"quic")||$t(c,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(ig(d,d.h),d.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Me(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var p=e;if(r.oa=$S(r,r.H?r.la:null,r.W),p.J){TS(r.i,p);var y=p,w=r.K;w&&y.setTimeout(w),y.B&&(xf(y),du(y)),r.g=p}else DS(r);0<n.l.length&&kf(n)}else o[0]!="stop"&&o[0]!="close"||gi(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?gi(n,7):ug(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}La(4)}catch{}}function bO(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if($d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ng(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if($d(e)||typeof e=="string")G1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if($d(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=bO(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function hs(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hs)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Q=hs.prototype;Q.R=function(){rg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Q.T=function(){return rg(this),this.g.concat()};function rg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];_i(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],_i(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Q.get=function(e,t){return _i(this.h,e)?this.h[e]:t};Q.set=function(e,t){_i(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Q.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var yS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xO(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pi){this.g=t!==void 0?t:e.g,Yl(this,e.j),this.s=e.s,Jl(this,e.i),Zl(this,e.m),this.l=e.l,t=e.h;var n=new Fa;n.i=t.i,t.g&&(n.g=new hs(t.g),n.h=t.h),u0(this,n),this.o=e.o}else e&&(n=String(e).match(yS))?(this.g=!!t,Yl(this,n[1]||"",!0),this.s=da(n[2]||""),Jl(this,n[3]||"",!0),Zl(this,n[4]),this.l=da(n[5]||"",!0),u0(this,n[6]||"",!0),this.o=da(n[7]||"")):(this.g=!!t,this.h=new Fa(null,this.g))}Pi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ks(t,l0,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ks(t,l0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ks(n,n.charAt(0)=="/"?kO:IO,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ks(n,NO)),e.join("")};function hr(e){return new Pi(e)}function Yl(e,t,n){e.j=n?da(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jl(e,t,n){e.i=n?da(t,!0):t}function Zl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function u0(e,t,n){t instanceof Fa?(e.h=t,_O(e.h,e.g)):(n||(t=Ks(t,CO)),e.h=new Fa(t,e.g))}function Me(e,t,n){e.h.set(t,n)}function Sf(e){return Me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function SO(e){return e instanceof Pi?hr(e):new Pi(e,void 0)}function EO(e,t,n,r){var i=new Pi(null,void 0);return e&&Yl(i,e),t&&Jl(i,t),n&&Zl(i,n),r&&(i.l=r),i}function da(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ks(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,TO),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function TO(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var l0=/[#\/\?@]/g,IO=/[#\?:]/g,kO=/[#\?]/g,CO=/[#\?@]/g,NO=/#/g;function Fa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yr(e){e.g||(e.g=new hs,e.h=0,e.i&&xO(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=Fa.prototype;Q.add=function(e,t){Yr(this),this.i=null,e=ds(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vS(e,t){Yr(e),t=ds(e,t),_i(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,_i(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&rg(e)))}function wS(e,t){return Yr(e),t=ds(e,t),_i(e.g.h,t)}Q.forEach=function(e,t){Yr(this),this.g.forEach(function(n,r){G1(n,function(i){e.call(t,i,r,this)},this)},this)};Q.T=function(){Yr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};Q.R=function(e){Yr(this);var t=[];if(typeof e=="string")wS(this,e)&&(t=Zv(t,this.g.get(ds(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Zv(t,e[n])}return t};Q.set=function(e,t){return Yr(this),this.i=null,e=ds(this,e),wS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function bS(e,t,n){vS(e,t),0<n.length&&(e.i=null,e.g.set(ds(e,t),qm(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function ds(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _O(e,t){t&&!e.j&&(Yr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vS(this,r),bS(this,i,n))},e)),e.j=t}var PO=function(){function e(t,n){this.h=t,this.g=n}return e}();function xS(e){this.l=e||jO,pe.PerformanceNavigationTiming?(e=pe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(pe.g&&pe.g.Ea&&pe.g.Ea()&&pe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jO=10;function SS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ES(e){return e.h?1:e.g?e.g.size:0}function Xd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ig(e,t){e.g?e.g.add(t):e.h=t}function TS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}xS.prototype.cancel=function(){var e,t;if(this.i=IS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=z1(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function IS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=z1(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return qm(e.i)}function og(){}og.prototype.stringify=function(e){return pe.JSON.stringify(e,void 0)};og.prototype.parse=function(e){return pe.JSON.parse(e,void 0)};function OO(){this.g=new og}function AO(e,t,n){var r=n||"";try{ng(e,function(i,o){var s=i;hf(i)&&(s=Qm(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function DO(e,t){var n=new yf;if(pe.Image){var r=new Image;r.onload=zu(Gu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zu(Gu,n,r,"TestLoadImage: error",!1,t),r.onabort=zu(Gu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zu(Gu,n,r,"TestLoadImage: timeout",!1,t),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Gu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function pu(e){this.l=e.$b||null,this.j=e.ib||!1}St(pu,Zm);pu.prototype.g=function(){return new Ef(this.l,this.j)};pu.prototype.i=function(e){return function(){return e}}({});function Ef(e,t){lt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Ef,lt);var sg=0;Q=Ef.prototype;Q.open=function(e,t){if(this.readyState!=sg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ma(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mu(this)),this.readyState=sg};Q.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function kS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Q.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mu(this):Ma(this),this.readyState==3&&kS(this)}};Q.Ua=function(e){this.g&&(this.response=this.responseText=e,mu(this))};Q.Ta=function(e){this.g&&(this.response=e,mu(this))};Q.ha=function(){this.g&&mu(this)};function mu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ma(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var RO=pe.JSON.parse;function tt(e){lt.call(this),this.headers=new hs,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=CS,this.K=this.L=!1}St(tt,lt);var CS="",LO=/^https?$/i,FO=["POST","PUT"];Q=tt.prototype;Q.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gd.g(),this.C=this.u?a0(this.u):a0(Gd),this.g.onreadystatechange=wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){c0(this,o);return}e=n||"";var i=new hs(this.headers);r&&ng(r,function(o,s){i.set(s,o)}),r=Wj(i.T()),n=pe.FormData&&e instanceof pe.FormData,!(0<=H1(FO,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PS(this),0<this.B&&((this.K=MO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.pa,this)):this.A=Jm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){c0(this,o)}};function MO(e){return Lo&&Jj()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function $O(e){return e.toLowerCase()=="content-type"}Q.pa=function(){typeof Bm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function c0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,NS(e),Tf(e)}function NS(e){e.D||(e.D=!0,bt(e,"complete"),bt(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bt(this,"complete"),bt(this,"abort"),Tf(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tf(this,!0)),tt.Z.M.call(this)};Q.Fa=function(){this.s||(this.F||this.v||this.l?_S(this):this.cb())};Q.cb=function(){_S(this)};function _S(e){if(e.h&&typeof Bm<"u"&&(!e.C[1]||rr(e)!=4||e.ba()!=2)){if(e.v&&rr(e)==4)Jm(e.Fa,0,e);else if(bt(e,"readystatechange"),rr(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(yS)[1]||null;if(!o&&pe.self&&pe.self.location){var s=pe.self.location.protocol;o=s.substr(0,s.length-1)}i=!LO.test(o?o.toLowerCase():"")}r=i}if(r)bt(e,"complete"),bt(e,"success");else{e.m=6;try{var a=2<rr(e)?e.g.statusText:""}catch{a=""}e.j=a+" ["+e.ba()+"]",NS(e)}}finally{Tf(e)}}}}function Tf(e,t){if(e.g){PS(e);var n=e.g,r=e.C[0]?Wl:null;e.g=null,e.C=null,t||bt(e,"ready");try{n.onreadystatechange=r}catch{}}}function PS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pe.clearTimeout(e.A),e.A=null)}function rr(e){return e.g?e.g.readyState:0}Q.ba=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};Q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),RO(t)}};function f0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case CS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Da=function(){return this.m};Q.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function UO(e){var t="";return zm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ag(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UO(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Me(e,t,n))}function Ls(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jS(e){this.za=0,this.l=[],this.h=new yf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ls("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ls("baseRetryDelayMs",5e3,e),this.$a=Ls("retryDelaySeedMs",1e4,e),this.Ya=Ls("forwardChannelMaxRetries",2,e),this.ra=Ls("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new xS(e&&e.concurrentRequestLimit),this.Ca=new OO,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Q=jS.prototype;Q.ma=8;Q.G=1;function ug(e){if(OS(e),e.G==3){var t=e.V++,n=hr(e.F);Me(n,"SID",e.J),Me(n,"RID",t),Me(n,"TYPE","terminate"),gu(e,n),t=new hu(e,e.h,t,void 0),t.K=2,t.v=Sf(hr(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon&&(n=pe.navigator.sendBeacon(t.v.toString(),"")),!n&&pe.Image&&(new Image().src=t.v,n=!0),n||(t.g=US(t.l,null),t.g.ea(t.v)),t.F=Date.now(),du(t)}MS(e)}Q.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function If(e){e.g&&(cg(e),e.g.cancel(),e.g=null)}function OS(e){If(e),e.u&&(pe.clearTimeout(e.u),e.u=null),ec(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&pe.clearTimeout(e.m),e.m=null)}function Oh(e,t){e.l.push(new PO(e.Za++,t)),e.G==3&&kf(e)}function kf(e){SS(e.i)||e.m||(e.m=!0,Xm(e.Ha,e),e.C=0)}function VO(e,t){return ES(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=cu(wt(e.Ha,e,t),FS(e,e.C)),e.C++,!0)}Q.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new hu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=W1(n),K1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=AS(this,t,r),i=hr(this.F),Me(i,"RID",e),Me(i,"CVER",22),this.D&&Me(i,"X-HTTP-Session-Id",this.D),gu(this,i),this.o&&n&&ag(i,this.o,n),ig(this.i,t),this.Ra&&Me(i,"TYPE","init"),this.ja?(Me(i,"$req",r),Me(i,"SID","null"),t.$=!0,Kd(t,i,null)):Kd(t,i,r),this.G=2}}else this.G==3&&(e?h0(this,e):this.l.length==0||SS(this.i)||h0(this))};function h0(e,t){var n;t?n=t.m:n=e.V++;var r=hr(e.F);Me(r,"SID",e.J),Me(r,"RID",n),Me(r,"AID",e.U),gu(e,r),e.o&&e.s&&ag(r,e.o,e.s),n=new hu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=AS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ig(e.i,n),Kd(n,r,t)}function gu(e,t){e.j&&ng({},function(n,r){Me(t,r,n)})}function AS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?wt(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{AO(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function DS(e){e.g||e.u||(e.Y=1,Xm(e.Ga,e),e.A=0)}function lg(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=cu(wt(e.Ga,e),FS(e,e.A)),e.A++,!0)}Q.Ga=function(){if(this.u=null,RS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cu(wt(this.bb,this),e)}};Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bt(10),If(this),RS(this))};function cg(e){e.B!=null&&(pe.clearTimeout(e.B),e.B=null)}function RS(e){e.g=new hu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=hr(e.oa);Me(t,"RID","rpc"),Me(t,"SID",e.J),Me(t,"CI",e.N?"0":"1"),Me(t,"AID",e.U),gu(e,t),Me(t,"TYPE","xmlhttp"),e.o&&e.s&&ag(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Sf(hr(t)),n.s=null,n.U=!0,dS(n,e)}Q.ab=function(){this.v!=null&&(this.v=null,If(this),lg(this),Bt(19))};function ec(e){e.v!=null&&(pe.clearTimeout(e.v),e.v=null)}function LS(e,t){var n=null;if(e.g==t){ec(e),cg(e),e.g=null;var r=2}else if(Xd(e.i,t))n=t.D,TS(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=vf(),bt(r,new lS(r,n)),kf(e)}else DS(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&VO(e,t)||r==2&&lg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gi(e,5);break;case 4:gi(e,10);break;case 3:gi(e,6);break;default:gi(e,2)}}}function FS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function gi(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=wt(e.jb,e);n||(n=new Pi("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||Yl(n,"https"),Sf(n)),DO(n.toString(),r)}else Bt(2);e.G=0,e.j&&e.j.va(t),MS(e),OS(e)}Q.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bt(2)):(this.h.info("Failed to ping google.com"),Bt(1))};function MS(e){e.G=0,e.I=-1,e.j&&((IS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,qm(e.l),e.l.length=0),e.j.ua())}function $S(e,t,n){var r=SO(n);if(r.i!="")t&&Jl(r,t+"."+r.i),Zl(r,r.m);else{var i=pe.location;r=EO(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&zm(e.aa,function(o,s){Me(r,s,o)}),t=e.D,n=e.sa,t&&n&&Me(r,t,n),Me(r,"VER",e.ma),gu(e,r),r}function US(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new tt(new pu({ib:!0})):new tt(e.qa),t.L=e.H,t}function VS(){}Q=VS.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Oa=function(){};function tc(){if(Lo&&!(10<=Number(Zj)))throw Error("Environmental error: no available transport.")}tc.prototype.g=function(e,t){return new dn(e,t)};function dn(e,t){lt.call(this),this.g=new jS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Kl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ps(this)}St(dn,lt);dn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xm(wt(e.hb,e,t))),Bt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=$S(e,null,e.W),kf(e)};dn.prototype.close=function(){ug(this.g)};dn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Oh(this.g,t)}else this.v?(t={},t.__data__=Qm(e),Oh(this.g,t)):Oh(this.g,e)};dn.prototype.M=function(){this.g.j=null,delete this.j,ug(this.g),delete this.g,dn.Z.M.call(this)};function BS(e){eg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}St(BS,eg);function qS(){tg.call(this),this.status=1}St(qS,tg);function ps(e){this.g=e}St(ps,VS);ps.prototype.xa=function(){bt(this.g,"a")};ps.prototype.wa=function(e){bt(this.g,new BS(e))};ps.prototype.va=function(e){bt(this.g,new qS)};ps.prototype.ua=function(){bt(this.g,"b")};tc.prototype.createWebChannel=tc.prototype.g;dn.prototype.send=dn.prototype.u;dn.prototype.open=dn.prototype.m;dn.prototype.close=dn.prototype.close;wf.NO_ERROR=0;wf.TIMEOUT=8;wf.HTTP_ERROR=6;cS.COMPLETE="complete";fS.EventType=fu;fu.OPEN="a";fu.CLOSE="b";fu.ERROR="c";fu.MESSAGE="d";lt.prototype.listen=lt.prototype.N;tt.prototype.listenOnce=tt.prototype.O;tt.prototype.getLastError=tt.prototype.La;tt.prototype.getLastErrorCode=tt.prototype.Da;tt.prototype.getStatus=tt.prototype.ba;tt.prototype.getResponseJson=tt.prototype.Qa;tt.prototype.getResponseText=tt.prototype.ga;tt.prototype.send=tt.prototype.ea;var BO=function(){return new tc},qO=function(){return vf()},Ah=wf,zO=cS,HO=Bi,d0={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GO=pu,Wu=fS,WO=tt,KO={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();ln.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ue(t,e),t}(Error),On=new jm("@firebase/firestore");function Yd(){return On.logLevel}function G(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(On.logLevel<=Te.DEBUG){var r=t.map(fg);On.debug.apply(On,Be(["Firestore (8.10.1): "+e],r))}}function Ze(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(On.logLevel<=Te.ERROR){var r=t.map(fg);On.error.apply(On,Be(["Firestore (8.10.1): "+e],r))}}function nc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(On.logLevel<=Te.WARN){var r=t.map(fg);On.warn.apply(On,Be(["Firestore (8.10.1): "+e],r))}}function fg(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ze(t),new Error(t)}function le(e,t){e||re()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=QO(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function be(e,t){return e<t?-1:e>t?1:0}function Fo(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function HS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ye=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new en(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WS=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&re(),r===void 0?r=t.length-n:r>t.length-n&&re(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ie=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new F(C.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(WS),XO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return XO.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new F(C.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new F(C.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new F(C.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(WS),Mo=function(){function e(t){this.fields=t,t.sort(Rn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Fo(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),tn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();tn.EMPTY_BYTE_STRING=new tn("");var YO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(e){if(le(!!e),typeof e=="string"){var t=0,n=YO.exec(e);if(le(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Je(e.seconds),nanos:Je(e.nanos)}}function Je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $o(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KS(e){var t=e.mapValue.fields.__previous_value__;return hg(t)?KS(t):t}function $a(e){var t=Hr(e.mapValue.fields.__local_write_time__.timestampValue);return new en(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e){return e==null}function rc(e){return e===0&&1/e==-1/0}function QS(e){return typeof e=="number"&&Number.isInteger(e)&&!rc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ie.fromString(t))},e.fromName=function(t){return new e(Ie.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ie.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ie.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ie(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hg(e)?4:10:re()}function Wn(e,t){var n=ji(e);if(n!==ji(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $a(e).isEqual($a(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Hr(r.timestampValue),s=Hr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return $o(r.bytesValue).isEqual($o(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Je(r.doubleValue),s=Je(i.doubleValue);return o===s?rc(o)===rc(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Fo(e.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(p0(o)!==p0(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Wn(o[a],s[a])))return!1;return!0}(e,t);default:return re()}}function Ua(e,t){return(e.values||[]).find(function(n){return Wn(n,t)})!==void 0}function Uo(e,t){var n=ji(e),r=ji(t);if(n!==r)return be(n,r);switch(n){case 0:return 0;case 1:return be(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=Je(i.integerValue||i.doubleValue),a=Je(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(e,t);case 3:return m0(e.timestampValue,t.timestampValue);case 4:return m0($a(e),$a(t));case 5:return be(e.stringValue,t.stringValue);case 6:return function(i,o){var s=$o(i),a=$o(o);return s.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var l=be(s[u],a[u]);if(l!==0)return l}return be(s.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=be(Je(i.latitude),Je(o.latitude));return s!==0?s:be(Je(i.longitude),Je(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var l=Uo(s[u],a[u]);if(l)return l}return be(s.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(var c=0;c<a.length&&c<l.length;++c){var d=be(a[c],l[c]);if(d!==0)return d;var f=Uo(s[a[c]],u[l[c]]);if(f!==0)return f}return be(a.length,l.length)}(e.mapValue,t.mapValue);default:throw re()}}function m0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return be(e,t);var n=Hr(e),r=Hr(t),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function dg(e){return Jd(e)}function Jd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Hr(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$o(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oe.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=Jd(a[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+Jd(r.fields[u])}return i+"}"}(e.mapValue):re();var t,n}function ic(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Zd(e){return!!e&&"integerValue"in e}function pg(e){return!!e&&"arrayValue"in e}function g0(e){return!!e&&"nullValue"in e}function y0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pl(e){return!!e&&"mapValue"in e}function pa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qi(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=pa(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pa(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!pl(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pa(n)},e.prototype.setAll=function(t){var n=this,r=Rn.emptyPath(),i={},o=[];t.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var l=n.getFieldsMap(r);n.applyChanges(l,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=pa(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Wn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];pl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){qi(n,function(a,u){return t[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(pa(this.value))},e}();function XS(e){var t=[];return qi(e.fields,function(n,r){var i=new Rn([n]);if(pl(r)){var o=XS(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];t.push(i.child(u))}}else t.push(i)}),new Mo(t)}var Dt=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,ye.min(),an.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,an.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,an.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),JO=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new JO(e,t,n,r,i,o,s)}function yu(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+dg(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),zi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=sc(t.startAt)),t.endAt&&(n+="|ub:",n+=sc(t.endAt)),t.h=n}return t.h}function Cf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Wn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!b0(e.startAt,t.startAt)&&b0(e.endAt,t.endAt)}function oc(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var cn=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return ue(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new ZO(n,r,i):r==="array-contains"?new nA(n,i):r==="in"?new rA(n,i):r==="not-in"?new iA(n,i):r==="array-contains-any"?new oA(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new eA(n,i):new tA(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Uo(r,this.value)):r!==null&&ji(this.value)===ji(r)&&this.m(Uo(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return re()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),ZO=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=oe.fromName(i.referenceValue),o}return ue(t,e),t.prototype.matches=function(n){var r=oe.comparator(n.key,this.key);return this.m(r)},t}(cn),eA=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=YS("in",r),i}return ue(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(cn),tA=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=YS("not-in",r),i}return ue(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(cn);function YS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return oe.fromName(r.referenceValue)})}var nA=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ue(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return pg(r)&&Ua(r.arrayValue,this.value)},t}(cn),rA=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ue(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Ua(this.value.arrayValue,r)},t}(cn),iA=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ue(t,e),t.prototype.matches=function(n){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Ua(this.value.arrayValue,r)},t}(cn),oA=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ue(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!pg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return Ua(r.value.arrayValue,o)})},t}(cn),Va=function(e,t){this.position=e,this.before=t};function sc(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return dg(t)}).join(",")}var No=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function sA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function w0(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?oe.comparator(oe.fromName(s.referenceValue),n.key):Uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function b0(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(e,t,n,r,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function JS(e,t,n,r,i,o,s,a){return new pr(e,t,n,r,i,o,s,a)}function vu(e){return new pr(e)}function ml(e){return!zi(e.limit)&&e.limitType==="F"}function ac(e){return!zi(e.limit)&&e.limitType==="L"}function mg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gg(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function yg(e){return e.collectionGroup!==null}function Vo(e){var t=W(e);if(t.p===null){t.p=[];var n=gg(t),r=mg(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new No(n)),t.p.push(new No(Rn.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new No(Rn.keyField(),u))}}}return t.p}function Kn(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=v0(t.path,t.collectionGroup,Vo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Vo(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new No(o.field,s))}var a=t.endAt?new Va(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Va(t.startAt.position,!t.startAt.before):null;t.T=v0(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function ZS(e,t,n){return new pr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wu(e,t){return Cf(Kn(e),Kn(t))&&e.limitType===t.limitType}function eE(e){return yu(Kn(e))+"|lt:"+e.limitType}function ep(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+dg(i.value);var i}).join(", ")+"]"),zi(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+sc(t.startAt)),t.endAt&&(n+=", endAt: "+sc(t.endAt)),"Target("+n+")"}(Kn(e))+"; limitType="+e.limitType+")"}function bu(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!w0(n.startAt,Vo(n),r))&&(!n.endAt||!w0(n.endAt,Vo(n),r))}(e,t)}function tE(e){return function(t,n){for(var r=!1,i=0,o=Vo(e);i<o.length;i++){var s=o[i],a=aA(s,t,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function aA(e,t,n){var r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?Uo(a,u):re()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(t)?"-0":t}}function rE(e){return{integerValue:""+e}}function iE(e,t){return QS(t)?rE(t):nE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nf=function(){this._=void 0};function uA(e,t,n){return e instanceof Bo?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Oi?sE(e,t):e instanceof Ai?aE(e,t):function(r,i){var o=oE(r,i),s=x0(o)+x0(r.A);return Zd(o)&&Zd(r.A)?rE(s):nE(r.R,s)}(e,t)}function lA(e,t,n){return e instanceof Oi?sE(e,t):e instanceof Ai?aE(e,t):n}function oE(e,t){return e instanceof qo?Zd(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Bo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t}(Nf),Oi=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ue(t,e),t}(Nf);function sE(e,t){for(var n=uE(t),r=function(s){n.some(function(a){return Wn(a,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ai=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ue(t,e),t}(Nf);function aE(e,t){for(var n=uE(t),r=function(s){n=n.filter(function(a){return!Wn(a,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qo=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return ue(t,e),t}(Nf);function x0(e){return Je(e.integerValue||e.doubleValue)}function uE(e){return pg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu=function(e,t){this.field=e,this.transform=t},cA=function(e,t){this.version=e,this.transformResults=t},_t=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function gl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var _f=function(){};function fA(e,t,n){e instanceof Su?function(r,i,o){var s=r.value.clone(),a=T0(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Jr?function(r,i,o){if(gl(r.precondition,i)){var s=T0(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(lE(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function tp(e,t,n){e instanceof Su?function(r,i,o){if(gl(r.precondition,i)){var s=r.value.clone(),a=I0(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(E0(i),s).setHasLocalMutations()}}(e,t,n):e instanceof Jr?function(r,i,o){if(gl(r.precondition,i)){var s=I0(r.fieldTransforms,o,i),a=i.data;a.setAll(lE(r)),a.setAll(s),i.convertToFoundDocument(E0(i),a).setHasLocalMutations()}}(e,t,n):function(r,i){gl(r.precondition,i)&&i.convertToNoDocument(ye.min())}(e,t)}function hA(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=oE(o.transform,s||null);a!=null&&(n==null&&(n=an.empty()),n.set(o.field,a))}return n||null}function S0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Fo(n,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,l){return u instanceof Oi&&l instanceof Oi||u instanceof Ai&&l instanceof Ai?Fo(u.elements,l.elements,Wn):u instanceof qo&&l instanceof qo?Wn(u.A,l.A):u instanceof Bo&&l instanceof Bo}(s.transform,a.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function E0(e){return e.isFoundDocument()?e.version:ye.min()}var Su=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return ue(t,e),t}(_f),Jr=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return ue(t,e),t}(_f);function lE(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function T0(e,t,n){var r=new Map;le(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,lA(s,a,n[i]))}return r}function I0(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,uA(a,u,t))}return r}var Ye,Se,Eu=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ue(t,e),t}(_f),vg=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ue(t,e),t}(_f),dA=function(e){this.count=e};function cE(e){switch(e){case C.OK:return re();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return re()}}function fE(e){if(e===void 0)return Ze("GRPC error has no .code"),C.UNKNOWN;switch(e){case Ye.OK:return C.OK;case Ye.CANCELLED:return C.CANCELLED;case Ye.UNKNOWN:return C.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return C.INTERNAL;case Ye.UNAVAILABLE:return C.UNAVAILABLE;case Ye.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ye.NOT_FOUND:return C.NOT_FOUND;case Ye.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ye.ABORTED:return C.ABORTED;case Ye.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ye.DATA_LOSS:return C.DATA_LOSS;default:return re()}}(Se=Ye||(Ye={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt=function(){function e(t,n){this.comparator=t,this.root=n||Er.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Er.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Er.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ku(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ku(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ku(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ku(this.root,t,this.comparator,!0)},e}(),Ku=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Er=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();var t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)},e}();Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw re()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Er(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it=function(){function e(t){this.comparator=t,this.data=new Rt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new k0(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new k0(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),k0=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),pA=new Rt(oe.comparator);function An(){return pA}var mA=new Rt(oe.comparator);function np(){return mA}var gA=new Rt(oe.comparator);function yA(){return gA}var vA=new it(oe.comparator);function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=vA,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var wA=new it(be);function Pf(){return wA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wg=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,bg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ye.min(),r,Pf(),An(),Oe())},e}(),bg=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(tn.EMPTY_BYTE_STRING,n,Oe(),Oe(),Oe())},e}(),yl=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},hE=function(e,t){this.targetId=e,this.V=t},dE=function(e,t,n,r){n===void 0&&(n=tn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},C0=function(){function e(){this.S=0,this.D=_0(),this.C=tn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Oe(),n=Oe(),r=Oe();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new bg(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=_0()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),bA=function(){function e(t){this.W=t,this.G=new Map,this.H=An(),this.J=N0(),this.Y=new it(be)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:re()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(oc(o))if(r===0){var s=new oe(o.path);this.tt(n,s,Dt.newNoDocument(s,ye.min()))}else le(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,a){var u=n.ot(a);if(u){if(s.current&&oc(u.target)){var l=new oe(u.target.path);n.H.get(l)!==null||n.at(a,l)||n.tt(a,l,Dt.newNoDocument(l,t))}s.$&&(r.set(a,s.M()),s.L())}});var i=Oe();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new wg(t,r,this.Y,this.H,i);return this.H=An(),this.J=N0(),this.Y=new it(be),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new C0,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new it(be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||G("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new C0),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function N0(){return new Rt(oe.comparator)}function _0(){return new Rt(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xA={asc:"ASCENDING",desc:"DESCENDING"},SA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EA=function(e,t){this.databaseId=e,this.I=t};function Ba(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function pE(e,t){return e.I?t.toBase64():t.toUint8Array()}function TA(e,t){return Ba(e,t.toTimestamp())}function qt(e){return le(!!e),ye.fromTimestamp(function(t){var n=Hr(t);return new en(n.seconds,n.nanos)}(e))}function xg(e,t){return function(n){return new Ie(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function mE(e){var t=Ie.fromString(e);return le(SE(t)),t}function qa(e,t){return xg(e.databaseId,t.path)}function sr(e,t){var n=mE(t);if(n.get(1)!==e.databaseId.projectId)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(yE(n))}function rp(e,t){return xg(e.databaseId,t)}function gE(e){var t=mE(e);return t.length===4?Ie.emptyPath():yE(t)}function za(e){return new Ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yE(e){return le(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function P0(e,t,n){return{name:qa(e,t),fields:n.value.mapValue.fields}}function IA(e,t,n){var r=sr(e,t.name),i=qt(t.updateTime),o=new an({mapValue:{fields:t.fields}}),s=Dt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function uc(e,t){var n;if(t instanceof Su)n={update:P0(e,t.key,t.value)};else if(t instanceof Eu)n={delete:qa(e,t.key)};else if(t instanceof Jr)n={update:P0(e,t.key,t.data),updateMask:PA(t.fieldMask)};else{if(!(t instanceof vg))return re();n={verify:qa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Bo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof qo)return{fieldPath:o.field.canonicalString(),increment:s.A};throw re()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:TA(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re()}(e,t.precondition)),n}function j0(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?_t.updateTime(qt(l.updateTime)):l.exists!==void 0?_t.exists(l.exists):_t.none()}(t.currentDocument):_t.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,d){var f=null;if("setToServerValue"in d)le(d.setToServerValue==="REQUEST_TIME"),f=new Bo;else if("appendMissingElements"in d){var p=d.appendMissingElements.values||[];f=new Oi(p)}else if("removeAllFromArray"in d){var y=d.removeAllFromArray.values||[];f=new Ai(y)}else"increment"in d?f=new qo(c,d.increment):re();var w=Rn.fromServerFormat(d.fieldPath);return new xu(w,f)}(e,l)}):[];if(t.update){t.update.name;var i=sr(e,t.update.name),o=new an({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Mo(c.map(function(d){return Rn.fromServerFormat(d)}))}(t.updateMask);return new Jr(i,o,s,n,r)}return new Su(i,o,n,r)}if(t.delete){var a=sr(e,t.delete);return new Eu(a,n)}if(t.verify){var u=sr(e,t.verify);return new vg(u,n)}return re()}function vE(e,t){return{documents:[rp(e,t.path)]}}function wE(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=rp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(l){return function(c){if(c.op==="=="){if(y0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NAN"}};if(g0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(y0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NOT_NAN"}};if(g0(c.value))return{unaryFilter:{field:Ji(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(c.field),op:CA(c.op),value:c.value}}}(l)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(l){return{field:Ji(l.field),direction:kA(l.dir)}}(u)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(a,u){return a.I||zi(u)?u:{value:u}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=O0(t.startAt)),t.endAt&&(n.structuredQuery.endAt=O0(t.endAt)),n}function bE(e){var t=gE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){le(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=xE(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(d){return function(f){return new No(mo(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d)}));var u=null;n.limit&&(u=function(d){var f;return zi(f=typeof d=="object"?d.value:d)?null:f}(n.limit));var l=null;n.startAt&&(l=A0(n.startAt));var c=null;return n.endAt&&(c=A0(n.endAt)),JS(t,i,a,s,u,"F",l,c)}function xE(e){return e?e.unaryFilter!==void 0?[_A(e)]:e.fieldFilter!==void 0?[NA(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return xE(t)}).reduce(function(t,n){return t.concat(n)}):re():[]}function O0(e){return{before:e.before,values:e.position}}function A0(e){var t=!!e.before,n=e.values||[];return new Va(n,t)}function kA(e){return xA[e]}function CA(e){return SA[e]}function Ji(e){return{fieldPath:e.canonicalString()}}function mo(e){return Rn.fromServerFormat(e.fieldPath)}function NA(e){return cn.create(mo(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}function _A(e){switch(e.unaryFilter.op){case"IS_NAN":var t=mo(e.unaryFilter.field);return cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=mo(e.unaryFilter.field);return cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=mo(e.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=mo(e.unaryFilter.field);return cn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return re()}}function PA(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function SE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=D0(t)),t=jA(e.get(n),t);return D0(t)}function jA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function D0(e){return e+""}function ir(e){var t=e.length;if(le(t>=2),t===2)return le(e.charAt(0)===""&&e.charAt(1)===""),Ie.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&re(),e.charAt(s+1)){case"":var a=e.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:re()}o=s+2}return new Ie(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA=function(e,t){this.seconds=e,this.nanoseconds=t},on=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};on.store="owner",on.key="owner";var Mr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Mr.store="mutationQueues",Mr.keyPath="userId";var Le=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Le.store="mutations",Le.keyPath="batchId",Le.userMutationsIndex="userMutationsIndex",Le.userMutationsKeyPath=["userId","batchId"];var kt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Dn(n)]},e.key=function(t,n,r){return[t,Dn(n),r]},e}();kt.store="documentMutations",kt.PLACEHOLDER=new kt;var AA=function(e,t){this.path=e,this.readTime=t},DA=function(e,t){this.path=e,this.version=t},Ge=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ge.store="remoteDocuments",Ge.readTimeIndex="readTimeIndex",Ge.readTimeIndexPath="readTime",Ge.collectionReadTimeIndex="collectionReadTimeIndex",Ge.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(e){this.byteSize=e};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var Yt=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Yt.store="targets",Yt.keyPath="targetId",Yt.queryTargetsIndexName="queryTargetsIndex",Yt.queryTargetsKeyPath=["canonicalId","targetId"];var vt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};vt.store="targetDocuments",vt.keyPath=["targetId","path"],vt.documentTargetsIndex="documentTargetsIndex",vt.documentTargetsKeyPath=["path","targetId"];var sn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sn.key="targetGlobalKey",sn.store="targetGlobal";var bi=function(e,t){this.collectionId=e,this.parent=t};bi.store="collectionParents",bi.keyPath=["collectionId","parent"];var ar=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ar.store="clientMetadata",ar.keyPath="clientId";var zo=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};zo.store="bundles",zo.keyPath="bundleId";var Ho=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ho.store="namedQueries",Ho.keyPath="name";var RA=Be(Be([],Be(Be([],Be(Be([],Be(Be([],[Mr.store,Le.store,kt.store,Ge.store,Yt.store,on.store,sn.store,vt.store]),[ar.store])),[Vn.store])),[bi.store])),[zo.store,Ho.store]),EE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TE=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),nn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&n()},function(u){return r(u)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(a){return a?e.resolve(a):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),IE=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new nn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new ma(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Sg(i.target.error);r.ft.reject(new ma(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new ma(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(G("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new FA(n)},e}(),Go=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ki())===12.2&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return G("SimpleDb","Removing database:",t),ai(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ki(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=KO)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return _(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(G("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var l=u.target.result;o(l)},a.onblocked=function(){s(new ma(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var l=u.target.error;l.name==="VersionError"?s(new F(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new ma(t,l))},a.onupgradeneeded=function(u){G("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var l=u.target.result;r.wt.Rt(l,a.transaction,u.oldVersion,r.version).next(function(){G("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return _(this,void 0,void 0,function(){var o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:o=n==="readonly",s=0,a=function(){var d,f,p,y,w;return N(this,function(g){switch(g.label){case 0:++s,g.label=1;case 1:return g.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=g.sent(),d=IE.open(u.db,t,o?"readonly":"readwrite",r),f=i(d).catch(function(m){return d.abort(m),V.reject(m)}).toPromise(),p={},f.catch(function(){}),[4,d.dt];case 3:return[2,(p.value=(g.sent(),f),p)];case 4:return y=g.sent(),w=y.name!=="FirebaseError"&&s<3,G("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),u.close(),w?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),LA=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ai(this.Pt.delete())},e}(),ma=function(e){function t(n,r){var i=this;return(i=e.call(this,C.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ue(t,e),t}(F);function Hi(e){return e.name==="IndexedDbTransactionError"}var FA=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ai(r)},e.prototype.add=function(t){return G("SimpleDb","ADD",this.store.name,t,t),ai(this.store.add(t))},e.prototype.get=function(t){var n=this;return ai(this.store.get(t)).next(function(r){return r===void 0&&(r=null),G("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return G("SimpleDb","DELETE",this.store.name,t),ai(this.store.delete(t))},e.prototype.count=function(){return G("SimpleDb","COUNT",this.store.name),ai(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){G("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new V(function(r,i){n.onerror=function(o){var s=Sg(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var a=s.target.result;if(a){var u=new LA(a),l=n(a.primaryKey,a.value,u);if(l instanceof V){var c=l.catch(function(d){return u.done(),V.reject(d)});r.push(c)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ai(e){return new V(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Sg(r.target.error);n(i)}})}var R0=!1;function Sg(e){var t=Go._t(ki());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return R0||(R0=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L0=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return ue(t,e),t}(TE);function rn(e,t){var n=W(e);return Go.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eg=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&fA(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&tp(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&tp(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ye.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Oe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fo(this.mutations,t.mutations,function(n,r){return S0(n,r)})&&Fo(this.baseMutations,t.baseMutations,function(n,r){return S0(n,r)})},e}(),MA=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){le(t.mutations.length===r.length);for(var i=yA(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),jf=function(){function e(t,n,r,i,o,s,a){o===void 0&&(o=ye.min()),s===void 0&&(s=ye.min()),a===void 0&&(a=tn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),kE=function(e){this.Lt=e};function ip(e,t){if(t.document)return IA(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=oe.fromSegments(t.noDocument.path),r=Ko(t.noDocument.readTime),i=Dt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=oe.fromSegments(t.unknownDocument.path);return r=Ko(t.unknownDocument.version),Dt.newUnknownDocument(o,r)}return re()}function F0(e,t,n){var r=Tg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(d,f){return{name:qa(d,f.key),fields:f.data.value.mapValue.fields,updateTime:Ba(d,f.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Ge(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Wo(t.version);return s=t.hasCommittedMutations,new Ge(null,new AA(a,u),null,s,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Wo(t.version);return new Ge(new DA(l,c),null,null,!0,r,i)}return re()}function Tg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function CE(e){var t=new en(e[0],e[1]);return ye.fromTimestamp(t)}function Wo(e){var t=e.toTimestamp();return new OA(t.seconds,t.nanoseconds)}function Ko(e){var t=new en(e.seconds,e.nanoseconds);return ye.fromTimestamp(t)}function oo(e,t){for(var n=(t.baseMutations||[]).map(function(u){return j0(e.Lt,u)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(u){return j0(e.Lt,u)}),a=en.fromMillis(t.localWriteTimeMs);return new Eg(t.batchId,a,n,s)}function Qs(e){var t,n,r=Ko(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Ko(e.lastLimboFreeSnapshotVersion):ye.min();return e.query.documents!==void 0?(le((n=e.query).documents.length===1),t=Kn(vu(gE(n.documents[0])))):t=function(o){return Kn(bE(o))}(e.query),new jf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tn.fromBase64String(e.resumeToken))}function NE(e,t){var n,r=Wo(t.snapshotVersion),i=Wo(t.lastLimboFreeSnapshotVersion);n=oc(t.target)?vE(e.Lt,t.target):wE(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Yt(t.targetId,yu(t.target),r,o,t.sequenceNumber,i,n)}function _E(e){var t=bE({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ZS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $A=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return M0(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ko(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return M0(t).put({bundleId:(r=n).id,createTime:Wo(qt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return $0(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:_E(i.bundledQuery),readTime:Ko(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return $0(t).put(function(r){return{name:r.name,readTime:Wo(qt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function M0(e){return rn(e,zo.store)}function $0(e){return rn(e,Ho.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UA=function(){function e(){this.Bt=new Ig}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),Ig=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new it(Ie.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new it(Ie.comparator)).toArray()},e}(),VA=function(){function e(){this.qt=new Ig}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:Dn(o)};return U0(t).put(s)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[HS(n),""],!1,!0);return U0(t).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==n)break;r.push(ir(u.parent))}return r})},e}();function U0(e){return rn(e,bi.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fn=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t,n){var r=e.store(Le.store),i=e.store(kt.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(y,w,g){return a++,g.delete()});o.push(u.next(function(){le(a===1)}));for(var l=[],c=0,d=n.mutations;c<d.length;c++){var f=d[c],p=kt.key(t,f.key.path,n.batchId);o.push(i.delete(p)),l.push(f.key)}return V.waitFor(o).next(function(){return l})}function lc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw re();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);var BA=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return le(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vr(t).$t({index:Le.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=so(t),a=vr(t);return a.add({}).next(function(u){le(typeof u=="number");for(var l=new Eg(u,n,r,i),c=function(m,v,b){var x=b.baseMutations.map(function(S){return uc(m.Lt,S)}),T=b.mutations.map(function(S){return uc(m.Lt,S)});return new Le(v,b.batchId,b.localWriteTime.toMillis(),x,T)}(o.R,o.userId,l),d=[],f=new it(function(m,v){return be(m.canonicalString(),v.canonicalString())}),p=0,y=i;p<y.length;p++){var w=y[p],g=kt.key(o.userId,w.key.path,u);f=f.add(w.key.path.popLast()),d.push(a.put(c)),d.push(s.put(g,kt.PLACEHOLDER))}return f.forEach(function(m){d.push(o.Ut.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(function(){o.Kt[u]=l.keys()}),V.waitFor(d).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return vr(t).get(n).next(function(i){return i?(le(i.userId===r.userId),oo(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?V.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return vr(t).$t({index:Le.userMutationsIndex,range:o},function(a,u,l){u.userId===r.userId&&(le(u.batchId>=i),s=oo(r.R,u)),l.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return vr(t).$t({index:Le.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vr(t).Nt(Le.userMutationsIndex,r).next(function(i){return i.map(function(o){return oo(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=kt.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return so(t).$t({range:o},function(a,u,l){var c=a[0],d=a[1],f=a[2],p=ir(d);if(c===r.userId&&n.path.isEqual(p))return vr(t).get(f).next(function(y){if(!y)throw re();le(y.userId===r.userId),s.push(oo(r.R,y))});l.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new it(be),o=[];return n.forEach(function(s){var a=kt.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),l=so(t).$t({range:u},function(c,d,f){var p=c[0],y=c[1],w=c[2],g=ir(y);p===r.userId&&s.path.isEqual(g)?i=i.add(w):f.done()});o.push(l)}),V.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=kt.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new it(be);return so(t).$t({range:a},function(l,c,d){var f=l[0],p=l[1],y=l[2],w=ir(p);f===r.userId&&i.isPrefixOf(w)?w.length===o&&(u=u.add(y)):d.done()}).next(function(){return r.Wt(t,u)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(vr(t).get(s).next(function(a){if(a===null)throw re();le(a.userId===r.userId),i.push(oo(r.R,a))}))}),V.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return PE(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var i=IDBKeyRange.lowerBound(kt.prefixForUser(n.userId)),o=[];return so(t).$t({range:i},function(s,a,u){if(s[0]===n.userId){var l=ir(s[1]);o.push(l)}else u.done()}).next(function(){le(o.length===0)})})},e.prototype.containsKey=function(t,n){return jE(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return OE(t).get(this.userId).next(function(r){return r||new Mr(n.userId,-1,"")})},e}();function jE(e,t,n){var r=kt.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return so(e).$t({range:o,Ft:!0},function(a,u,l){var c=a[0],d=a[1];a[2],c===t&&d===i&&(s=!0),l.done()}).next(function(){return s})}function vr(e){return rn(e,Le.store)}function so(e){return rn(e,kt.store)}function OE(e){return rn(e,Mr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cc=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),qA=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new cc(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ye.fromTimestamp(new en(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Zi(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return le(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return Zi(t).$t(function(a,u){var l=Qs(u);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(t,l)))}).next(function(){return V.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return Zi(t).$t(function(r,i){var o=Qs(i);n(o)})},e.prototype.Xt=function(t){return B0(t).get(sn.key).next(function(n){return le(n!==null),n})},e.prototype.Zt=function(t,n){return B0(t).put(sn.key,n)},e.prototype.te=function(t,n){return Zi(t).put(NE(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=yu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Zi(t).$t({range:i,index:Yt.queryTargetsIndexName},function(s,a,u){var l=Qs(a);Cf(n,l.target)&&(o=l,u.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Tr(t);return n.forEach(function(a){var u=Dn(a.path);o.push(s.put(new vt(r,u))),o.push(i.referenceDelegate.addReference(t,r,a))}),V.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Tr(t);return V.forEach(n,function(s){var a=Dn(s.path);return V.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Tr(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Tr(t),o=Oe();return i.$t({range:r,Ft:!0},function(s,a,u){var l=ir(s[1]),c=new oe(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=Dn(n.path),i=IDBKeyRange.bound([r],[HS(r)],!1,!0),o=0;return Tr(t).$t({index:vt.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var l=s[0];s[1],l!==0&&(o++,u.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return Zi(t).get(n).next(function(r){return r?Qs(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){return rn(e,Yt.store)}function B0(e){return rn(e,sn.store)}function Tr(e){return rn(e,vt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e){return _(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==C.FAILED_PRECONDITION||e.message!==EE)throw e;return G("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=be(n,i);return s===0?be(r,o):s}var zA=function(){function e(t){this.ne=t,this.buffer=new it(q0),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();q0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),HA=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;G("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return _(n,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Hi(i=o.sent())?(G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Gi(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),GA=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(ln.o);var i=new zA(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(V0)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),V0):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,a,u,l,c=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(f){return f>c.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+f),i=c.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),c.nthSequenceNumber(t,i)}).next(function(f){return r=f,a=Date.now(),c.removeTargets(t,r,n)}).next(function(f){return o=f,u=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(f){return l=Date.now(),Yd()<=Te.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-d)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+f+" documents in "+(l-u)+`ms
Total Duration: `+(l-d)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})})},e}(),WA=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new GA(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Qu(t,r)},e.prototype.removeReference=function(t,n,r){return Qu(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Qu(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return OE(r).Ot(function(s){return jE(r,s,i).next(function(a){return a&&(o=!0),V.resolve(!a)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(a,u){if(u<=n){var l=r._e(t,a).next(function(c){if(!c)return s++,i.getEntry(t,a).next(function(){return i.removeEntry(a),Tr(t).delete([0,Dn(a.path)])})});o.push(l)}}).next(function(){return V.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Qu(t,n)},e.prototype.we=function(t,n){var r,i=Tr(t),o=ln.o;return i.$t({index:vt.documentTargetsIndex},function(s,a){var u=s[0];s[1];var l=a.path,c=a.sequenceNumber;u===0?(o!==ln.o&&n(new oe(ir(r)),o),o=c,r=l):o=ln.o}).next(function(){o!==ln.o&&n(new oe(ir(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Qu(e,t){return Tr(e).put(function(n,r){return new vt(0,Dn(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,t))return u}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){qi(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];t(a,u)}})},e.prototype.isEmpty=function(){return GS(this.inner)},e}(),AE=function(){function e(){this.changes=new ms(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ye.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Dt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),KA=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return xr(t).put(Xu(n),r)},e.prototype.removeEntry=function(t,n){var r=xr(t),i=Xu(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return xr(t).get(Xu(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return xr(t).get(Xu(n)).next(function(i){return{document:r.ye(n,i),size:lc(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=An();return this.pe(t,n,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=An(),o=new Rt(oe.comparator);return this.pe(t,n,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,lc(a))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return xr(t).$t({range:i},function(a,u,l){for(var c=oe.fromSegments(a);s&&oe.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=An(),s=n.path.length+1,a={};if(r.isEqual(ye.min())){var u=n.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var l=n.path.toArray(),c=Tg(r);a.range=IDBKeyRange.lowerBound([l,c],!0),a.index=Ge.collectionReadTimeIndex}return xr(t).$t(a,function(d,f,p){if(d.length===s){var y=ip(i.R,f);n.path.isPrefixOf(y.key.path)?bu(n,y)&&(o=o.insert(y.key,y)):p.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new QA(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return z0(t).get(Vn.key).next(function(n){return le(!!n),n})},e.prototype.me=function(t,n){return z0(t).put(Vn.key,n)},e.prototype.ye=function(t,n){if(n){var r=ip(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ye.min()))return r}return Dt.newInvalidDocument(t)},e}(),QA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new ms(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return ue(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new it(function(a,u){return be(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var l=r.Ae.get(a);if(u.document.isValidDocument()){var c=F0(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var d=lc(c);o+=d-l,i.push(r.Ie.addEntry(n,a,c))}else if(o-=l,r.trackRemovals){var f=F0(r.Ie.R,Dt.newNoDocument(a,ye.min()),r.getReadTime(a));i.push(r.Ie.addEntry(n,a,f))}else i.push(r.Ie.removeEntry(n,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(n,a))}),i.push(this.Ie.updateMetadata(n,o)),V.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},t}(AE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(e){return rn(e,Vn.store)}function xr(e){return rn(e,Ge.store)}function Xu(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XA=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;le(r<i&&r>=0&&i<=11);var s=new IE("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(on.store)}(t),function(u){u.createObjectStore(Mr.store,{keyPath:Mr.keyPath}),u.createObjectStore(Le.store,{keyPath:Le.keyPath,autoIncrement:!0}).createIndex(Le.userMutationsIndex,Le.userMutationsKeyPath,{unique:!0}),u.createObjectStore(kt.store)}(t),H0(t),function(u){u.createObjectStore(Ge.store)}(t));var a=V.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(vt.store),u.deleteObjectStore(Yt.store),u.deleteObjectStore(sn.store)}(t),H0(t)),a=a.next(function(){return function(u){var l=u.store(sn.store),c=new sn(0,0,ye.min().toTimestamp(),0);return l.put(sn.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,l){return l.store(Le.store).Nt().next(function(c){u.deleteObjectStore(Le.store),u.createObjectStore(Le.store,{keyPath:Le.keyPath,autoIncrement:!0}).createIndex(Le.userMutationsIndex,Le.userMutationsKeyPath,{unique:!0});var d=l.store(Le.store),f=c.map(function(p){return d.put(p)});return V.waitFor(f)})}(t,s)})),a=a.next(function(){(function(u){u.createObjectStore(ar.store,{keyPath:ar.keyPath})})(t)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(Vn.store)}(t),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(t),function(u){var l=u.objectStore(Ge.store);l.createIndex(Ge.readTimeIndex,Ge.readTimeIndexPath,{unique:!1}),l.createIndex(Ge.collectionReadTimeIndex,Ge.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(zo.store,{keyPath:zo.keyPath})})(t),function(u){u.createObjectStore(Ho.store,{keyPath:Ho.keyPath})}(t)})),a},e.prototype.be=function(t){var n=0;return t.store(Ge.store).$t(function(r,i){n+=lc(i)}).next(function(){var r=new Vn(n);return t.store(Vn.store).put(Vn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Mr.store),i=t.store(Le.store);return r.Nt().next(function(o){return V.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(Le.userMutationsIndex,a).next(function(u){return V.forEach(u,function(l){le(l.userId===s.userId);var c=oo(n.R,l);return PE(t,s.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(vt.store),r=t.store(Ge.store);return t.store(sn.store).get(sn.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new Ie(s),l=function(c){return[0,Dn(c)]}(u);o.push(n.get(l).next(function(c){return c?V.resolve():function(d){return n.put(new vt(0,Dn(d),i.highestListenSequenceNumber))}(u)}))}).next(function(){return V.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(bi.store,{keyPath:bi.keyPath});var r=n.store(bi.store),i=new Ig,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:Dn(u)})}};return n.store(Ge.store).$t({Ft:!0},function(s,a){var u=new Ie(s);return o(u.popLast())}).next(function(){return n.store(kt.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var l=ir(u);return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Yt.store);return r.$t(function(i,o){var s=Qs(o),a=NE(n.R,s);return r.put(a)})},e}();function H0(e){e.createObjectStore(vt.store,{keyPath:vt.keyPath}).createIndex(vt.documentTargetsIndex,vt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Yt.store,{keyPath:Yt.keyPath}).createIndex(Yt.queryTargetsIndexName,Yt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(sn.store)}var Dh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YA=function(){function e(t,n,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(d){return Promise.resolve()},!e.yt())throw new F(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WA(this,i),this.Le=n+"main",this.R=new kE(u),this.Be=new Go(this.Le,11,new XA(this.R)),this.qe=new qA(this.referenceDelegate,this.R),this.Ut=new VA,this.Ue=function(d,f){return new KA(d,f)}(this.R,this.Ut),this.Ke=new $A,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new F(C.FAILED_PRECONDITION,Dh);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new ln(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return _(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return _(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return _(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Yu(n).put(new ar(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Hi(n))return G("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Fs(t).get(on.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return Yu(t).delete(this.clientId)},e.prototype.nn=function(){return _(this,void 0,void 0,function(){var t,n,r,i,o=this;return N(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=rn(a,ar.store);return u.Nt().next(function(l){var c=o.rn(l,18e5),d=l.filter(function(f){return c.indexOf(f)===-1});return V.forEach(d,function(f){return u.delete(f.clientId)}).next(function(){return d})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):Fs(t).get(on.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new F(C.FAILED_PRECONDITION,Dh);return!1}}return!(!n.networkEnabled||!n.inForeground)||Yu(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,a=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&G("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return _(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[on.store,ar.store],function(r){var i=new L0(r,ln.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Yu(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return BA.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;G("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,RA,function(a){return o=new L0(a,i.Ne?i.Ne.next():ln.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw Ze("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new F(C.FAILED_PRECONDITION,EE);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},e.prototype.dn=function(t){var n=this;return Fs(t).get(on.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new F(C.FAILED_PRECONDITION,Dh)})},e.prototype.Ze=function(t){var n=new on(this.clientId,this.allowTabSynchronization,Date.now());return Fs(t).put(on.key,n)},e.yt=function(){return Go.yt()},e.prototype.Xe=function(t){var n=this,r=Fs(t);return r.get(on.key).next(function(i){return n.tn(i)?(G("IndexedDbPersistence","Releasing primary lease."),r.delete(on.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ze("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),P_()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return G("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ze("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ze("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Fs(e){return rn(e,on.store)}function Yu(e){return rn(e,ar.store)}function kg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var DE=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):yg(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new oe(n)).next(function(r){var i=np();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=np();return this.Ut.getCollectionParents(t,o).next(function(a){return V.forEach(a,function(u){var l=function(c,d){return new pr(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(d,f){s=s.insert(d,f)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(a){return o=a,s.Rn(t,o,i).next(function(u){i=u;for(var l=0,c=o;l<c.length;l++)for(var d=c[l],f=0,p=d.mutations;f<p.length;f++){var y=p[f],w=y.key,g=i.get(w);g==null&&(g=Dt.newInvalidDocument(w),i=i.insert(w,g)),tp(y,g,d.localWriteTime),g.isFoundDocument()||(i=i.remove(w))}})}).next(function(){return i.forEach(function(a,u){bu(n,u)||(i=i.remove(a))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Oe(),o=0,s=n;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var l=u[a];l instanceof Jr&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(d){return d.forEach(function(f,p){p.isFoundDocument()&&(c=c.insert(f,p))}),c})},e}(),JA=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Oe(),i=Oe(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),RE=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var a=o.Cn(n,s);return(ml(n)||ac(n))&&o.Nn(n.limitType,a,i,r)?o.Dn(t,n):(Yd()<=Te.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ep(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(u){return a.forEach(function(l){u=u.insert(l.key,l)}),u}))})},e.prototype.Cn=function(t,n){var r=new it(tE(t));return n.forEach(function(i,o){bu(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Yd()<=Te.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ep(n)),this.Sn.getDocumentsMatchingQuery(t,n,ye.min())},e}(),ZA=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Rt(be),this.Fn=new ms(function(o){return yu(o)},Cf),this.$n=ye.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new DE(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e,t,n,r){return new ZA(e,t,n,r)}function FE(e,t){return _(this,void 0,void 0,function(){var n,r,i,o;return N(this,function(s){switch(s.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(a){var u;return n._n.getAllMutationBatches(a).next(function(l){return u=l,r=n.persistence.getMutationQueue(t),i=new DE(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(l){for(var c=[],d=[],f=Oe(),p=0,y=u;p<y.length;p++){var w=y[p];c.push(w.batchId);for(var g=0,m=w.mutations;g<m.length;g++){var v=m[g];f=f.add(v.key)}}for(var b=0,x=l;b<x.length;b++){var T=x[b];d.push(T.batchId);for(var S=0,k=T.mutations;S<k.length;S++){var P=k[S];f=f.add(P.key)}}return i.pn(a,f).next(function(D){return{Ln:D,removedBatchIds:c,addedBatchIds:d}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function eD(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){var c=u.batch,d=c.keys(),f=V.resolve();return d.forEach(function(p){f=f.next(function(){return l.getEntry(a,p)}).next(function(y){var w=u.docVersions.get(p);le(w!==null),y.version.compareTo(w)<0&&(c.applyToRemoteDocument(y,u),y.isValidDocument()&&l.addEntry(y,u.commitVersion))})}),f.next(function(){return s._n.removeMutationBatch(a,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function ME(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function tD(e,t){var n=W(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(c,d){var f=i.get(d);if(f){a.push(n.qe.removeMatchingKeys(o,c.removedDocuments,d).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,d)}));var p=c.resumeToken;if(p.approximateByteSize()>0){var y=f.withResumeToken(p,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(d,y),function(w,g,m){return le(g.resumeToken.approximateByteSize()>0),w.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,y,c)&&a.push(n.qe.updateTargetData(o,y))}}});var u=An();if(t.documentUpdates.forEach(function(c,d){t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(nD(o,s,t.documentUpdates,r).next(function(c){u=c})),!r.isEqual(ye.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(l)}return V.waitFor(a).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.kn=i,o})}function nD(e,t,n,r,i){var o=Oe();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var a=An();return n.forEach(function(u,l){var c=s.get(u),d=r;l.isNoDocument()&&l.version.isEqual(ye.min())?(t.removeEntry(u,d),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,d),a=a.insert(u,l)):G("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}function rD(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function fc(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,V.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new jf(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Qo(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s;return N(this,function(a){switch(a.label){case 0:r=W(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Hi(s=a.sent()))throw s;return G("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function hc(e,t,n){var r=W(e),i=ye.min(),o=Oe();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,l){var c=W(a),d=c.Fn.get(l);return d!==void 0?V.resolve(c.kn.get(d)):c.qe.getTargetData(u,l)}(r,s,Kn(t)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:ye.min(),n?o:Oe())}).next(function(a){return{documents:a,Bn:o}})})}function $E(e,t){var n=W(e),r=W(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function UE(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=W(r),a=An(),u=Tg(o),l=xr(i),c=IDBKeyRange.lowerBound(u,!0);return l.$t({index:Ge.readTimeIndex,range:c},function(d,f){var p=ip(s.R,f);a=a.insert(p.key,p),u=f.readTime}).next(function(){return{wn:a,readTime:CE(u)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function iD(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=xr(i),s=ye.min();return o.$t({index:Ge.readTimeIndex,reverse:!0},function(a,u,l){u.readTime&&(s=CE(u.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oD=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:qt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:_E(r.bundledQuery),readTime:qt(r.readTime)}}(n)),V.resolve()},e}(),Cg=function(){function e(){this.Wn=new it(st.Gn),this.zn=new it(st.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new st(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new st(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new oe(new Ie([])),i=new st(r,t),o=new st(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(a){n.Yn(a),s.push(a.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new oe(new Ie([])),r=new st(n,t),i=new st(n,t+1),o=Oe();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new st(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),st=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return oe.comparator(t.key,n.key)||be(t.ns,n.ns)},e.Hn=function(t,n){return be(t.ns,n.ns)||oe.comparator(t.key,n.key)},e}(),sD=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new it(st.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new Eg(o,n,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var l=u[a];this.rs=this.rs.add(new st(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return V.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return V.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new st(n,0),o=new st(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),V.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new it(be);return n.forEach(function(o){var s=new st(o,0),a=new st(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),V.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));var s=new st(new oe(o),0),a=new it(be);return this.rs.forEachWhile(function(u){var l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ns)),!0)},s),V.resolve(this.us(a))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;le(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return V.forEach(n.mutations,function(o){var s=new st(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new st(n,0),i=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),aD=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Rt(oe.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():Dt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=An();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Dt.newInvalidDocument(o))}),V.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=An(),o=new oe(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,l=a.value,c=l.document,d=l.readTime;if(!n.path.isPrefixOf(u.path))break;d.compareTo(r)<=0||bu(n,c)&&(i=i.insert(c.key,c.clone()))}return V.resolve(i)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new uD(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),uD=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ue(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),V.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(AE),lD=function(){function e(t){this.persistence=t,this.ds=new ms(function(n){return yu(n)},Cf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ws=0,this._s=new Cg,this.targetCount=0,this.ys=cc.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new cc(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(t,u.targetId)),o++)}),V.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),V.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),cD=function(){function e(t,n){var r=this;this.gs={},this.Ne=new ln(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new lD(this),this.Ut=new UA,this.Ue=function(i,o){return new aD(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new kE(n),this.Ke=new oD(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new sD(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;G("MemoryPersistence","Starting transaction:",t);var o=new fD(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),fD=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ue(t,e),t}(TE),hD=function(){function e(t){this.persistence=t,this.As=new Cg,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw re()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(i){var o=oe.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),mt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(e,t){return"firestore_clients_"+e+"_"+t}function W0(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Rh(e,t){return"firestore_targets_"+e+"_"+t}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var K0=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new F(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Ze("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Lh=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new F(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ze("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Q0=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Pf(),s=0;i&&s<r.activeTargetIds.length;++s)i=QS(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Ze("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),dD=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ze("SharedClientState","Failed to parse online state: "+t),null)},e}(),op=function(){function e(){this.activeTargetIds=Pf()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Fh=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Rt(be),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=G0(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new op),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return _(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,l,c,d,f=this;return N(this,function(p){switch(p.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=p.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(G0(this.persistenceKey,i)))&&(s=Q0.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)d=c[l],this.ks(d);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Rh(this.persistenceKey,t));if(r){var i=Lh.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Rh(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return G("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){G("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){G("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(G("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return _(n,void 0,void 0,function(){var i,o,s,a,u,l;return N(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(l=function(d){var f=ln.o;if(d!=null)try{var p=JSON.parse(d);le(typeof p=="number"),f=p}catch(y){Ze("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(r.newValue))!==ln.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new K0(this.currentUser,t,n,r),o=W0(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=W0(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Rh(this.persistenceKey,t),o=new Lh(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Q0.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return K0.Vs(new mt(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Lh.Vs(i,n)},e.prototype.js=function(t){return dD.Vs(t)},e.prototype.ii=function(t){return _(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(G("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(l){o.has(l)||a.push(l)}),o.forEach(function(l){s.has(l)||u.push(l)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Pf();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),VE=function(){function e(){this.li=new op,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new op,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),pD=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),X0=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gD=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),yD=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return ue(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,a){var u=new WO;u.listenOnce(zO.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Ah.NO_ERROR:var c=u.getResponseJson();G("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Ah.TIMEOUT:G("Connection",'RPC "'+n+'" timed out'),a(new F(C.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:var d=u.getStatus();if(G("Connection",'RPC "'+n+'" failed with status:',d,"response text:",u.getResponseText()),d>0){var f=u.getResponseJson().error;if(f&&f.status&&f.message){var p=function(y){var w=y.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(w)>=0?w:C.UNKNOWN}(f.status);a(new F(p,f.message))}else a(new F(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(C.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{G("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);u.send(r,"POST",l,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=BO(),s=qO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new GO({})),this.ki(a.initMessageHeaders,r),T_()||k_()||C_()||N_()||__()||Nm()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");G("Connection","Creating WebChannel: "+u,a);var l=o.createWebChannel(u,a),c=!1,d=!1,f=new gD({Ei:function(y){d?G("Connection","Not sending because WebChannel is closed:",y):(c||(G("Connection","Opening WebChannel transport."),l.open(),c=!0),G("Connection","WebChannel sending:",y),l.send(y))},Ti:function(){return l.close()}}),p=function(y,w,g){y.listen(w,function(m){try{g(m)}catch(v){setTimeout(function(){throw v},0)}})};return p(l,Wu.EventType.OPEN,function(){d||G("Connection","WebChannel transport opened.")}),p(l,Wu.EventType.CLOSE,function(){d||(d=!0,G("Connection","WebChannel transport closed"),f.Vi())}),p(l,Wu.EventType.ERROR,function(y){d||(d=!0,nc("Connection","WebChannel transport errored:",y),f.Vi(new F(C.UNAVAILABLE,"The operation could not be completed")))}),p(l,Wu.EventType.MESSAGE,function(y){var w;if(!d){var g=y.data[0];le(!!g);var m=g,v=m.error||((w=m[0])===null||w===void 0?void 0:w.error);if(v){G("Connection","WebChannel received error:",v);var b=v.status,x=function(S){var k=Ye[S];if(k!==void 0)return fE(k)}(b),T=v.message;x===void 0&&(x=C.INTERNAL,T="Unknown error status: "+b+" with message "+v.message),d=!0,f.Vi(new F(x,T)),l.close()}else G("Connection","WebChannel received:",g),f.Si(g)}}),p(s,HO.STAT_EVENT,function(y){y.stat===d0.PROXY?G("Connection","Detected buffering proxy"):y.stat===d0.NOPROXY&&G("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Pi()},0),f},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);G("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(a){return G("RestConnection","Received: ",a),a},function(a){throw nc("RestConnection",t+" failed with error: ",a,"url: ",o,"request:",r),a})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=mD[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof window<"u"?window:null}function vl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(e){return new EA(e,!0)}var Ng=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&G("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),qE=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ng(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return _(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return _(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===C.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new F(C.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return _(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return G("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),vD=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return ue(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:re()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(g,m){return g.I?(le(m===void 0||typeof m=="string"),tn.fromBase64String(m||"")):(le(m===void 0||m instanceof Uint8Array),tn.fromUint8Array(m||new Uint8Array))}(o,s.targetChange.resumeToken),d=(f=s.targetChange.cause)&&function(g){var m=g.code===void 0?C.UNKNOWN:fE(g.code);return new F(m,g.message||"")}(f);a=new dE(u,l,c,d||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,l=sr(o,u.document.name),c=qt(u.document.updateTime);var f=new an({mapValue:{fields:u.document.fields}}),p=(d=Dt.newFoundDocument(l,c,f),u.targetIds||[]),y=u.removedTargetIds||[];a=new yl(p,y,d.key,d)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,l=sr(o,u.document),c=u.readTime?qt(u.readTime):ye.min(),f=Dt.newNoDocument(l,c),d=u.removedTargetIds||[],a=new yl([],d,f.key,f);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,l=sr(o,u.document),c=u.removedTargetIds||[],a=new yl([],c,l,null);else{if(!("filter"in s))return re();s.filter;var w=s.filter;w.targetId,u=w.count||0,l=new dA(u),c=w.targetId,a=new hE(c,l)}return a}(this.R,n),i=function(o){if(!("targetChange"in o))return ye.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?qt(s.readTime):ye.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=za(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=oc(u)?{documents:vE(o,u)}:{query:wE(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=pE(o,s.resumeToken):s.snapshotVersion.compareTo(ye.min())>0&&(a.readTime=Ba(o,s.snapshotVersion.toTimestamp())),a}(this.R,n);var i=function(o,s){var a=function(u,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return re()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=za(this.R),r.removeTarget=n,this.cr(r)},t}(qE),wD=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return ue(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(le(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(le(s!==void 0),o.map(function(a){return function(u,l){var c=u.updateTime?qt(u.updateTime):qt(l);return c.isEqual(ye.min())&&(c=qt(l)),new cA(c,u.transformResults||[])}(a,s)})):[]}(n.writeResults,n.commitTime),i=qt(n.commitTime);return this.listener.Tr(i,r)}return le(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=za(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return uc(r.R,o)})};this.cr(i)},t}(qE),bD=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return ue(t,e),t.prototype.br=function(){if(this.Rr)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new F(C.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new F(C.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),xD=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ze(n),this.Vr=!1):G("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),SD=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return _(o,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return Zr(this)?(G("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return _(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=W(u)).Or.add(4),[4,gs(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,Tu(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new xD(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!Zr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function gs(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Af(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),jg(n)?Pg(n):vs(n).er()&&_g(n,t))}function Ha(e,t){var n=W(e),r=vs(n);n.$r.delete(t),r.er()&&zE(n,t),n.$r.size===0&&(r.er()?r.ir():Zr(n)&&n.Br.set("Unknown"))}function _g(e,t){e.qr.U(t.targetId),vs(e).mr(t)}function zE(e,t){e.qr.U(t),vs(e).yr(t)}function Pg(e){e.qr=new bA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),vs(e).start(),e.Br.Sr()}function jg(e){return Zr(e)&&!vs(e).tr()&&e.$r.size>0}function Zr(e){return W(e).Or.size===0}function HE(e){e.qr=void 0}function ED(e){return _(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){_g(e,n)}),[2]})})}function TD(e,t){return _(this,void 0,void 0,function(){return N(this,function(n){return HE(e),jg(e)?(e.Br.Nr(t),Pg(e)):e.Br.set("Unknown"),[2]})})}function ID(e,t,n){return _(this,void 0,void 0,function(){var r,i,o;return N(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof dE&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return _(this,void 0,void 0,function(){var l,c,d,f;return N(this,function(p){switch(p.label){case 0:l=u.cause,c=0,d=u.targetIds,p.label=1;case 1:return c<d.length?(f=d[c],a.$r.has(f)?[4,a.remoteSyncer.rejectListen(f,l)]:[3,3]):[3,5];case 2:p.sent(),a.$r.delete(f),a.qr.removeTarget(f),p.label=3;case 3:p.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,dc(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof yl?e.qr.X(t):t instanceof hE?e.qr.rt(t):e.qr.et(t),n.isEqual(ye.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ME(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(a,u){var l=a.qr.ut(u);return l.targetChanges.forEach(function(c,d){if(c.resumeToken.approximateByteSize()>0){var f=a.$r.get(d);f&&a.$r.set(d,f.withResumeToken(c.resumeToken,u))}}),l.targetMismatches.forEach(function(c){var d=a.$r.get(c);if(d){a.$r.set(c,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),zE(a,c);var f=new jf(d.target,c,1,d.sequenceNumber);_g(a,f)}}),a.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return G("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,dc(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function dc(e,t,n){return _(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Hi(t))throw t;return e.Or.add(1),[4,gs(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return ME(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return _(r,void 0,void 0,function(){return N(this,function(o){switch(o.label){case 0:return G("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,Tu(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function GE(e,t){return t().catch(function(n){return dc(e,n,t)})}function ys(e){return _(this,void 0,void 0,function(){var t,n,r,i,o;return N(this,function(s){switch(s.label){case 0:t=W(e),n=Gr(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return Zr(a)&&a.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,rD(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var l=Gr(a);l.er()&&l.pr&&l.Er(u.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,dc(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return WE(t)&&KE(t),[2]}})})}function WE(e){return Zr(e)&&!Gr(e).tr()&&e.Fr.length>0}function KE(e){Gr(e).start()}function kD(e){return _(this,void 0,void 0,function(){return N(this,function(t){return Gr(e).Ar(),[2]})})}function CD(e){return _(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(o){for(t=Gr(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function ND(e,t,n){return _(this,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=MA.from(r,t,n),[4,GE(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ys(e)];case 2:return o.sent(),[2]}})})}function _D(e,t){return _(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&Gr(e).pr?[4,function(r,i){return _(this,void 0,void 0,function(){var o,s;return N(this,function(a){switch(a.label){case 0:return cE(s=i.code)&&s!==C.ABORTED?(o=r.Fr.shift(),Gr(r).sr(),[4,GE(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,ys(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return WE(e)&&KE(e),[2]}})})}function sp(e,t){return _(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,Tu(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,gs(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function vs(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=W(n);return o.br(),new vD(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:ED.bind(null,e),Ri:TD.bind(null,e),_r:ID.bind(null,e)}),e.Mr.push(function(n){return _(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),jg(e)?Pg(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),HE(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Gr(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=W(n);return o.br(),new wD(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:kD.bind(null,e),Ri:_D.bind(null,e),Ir:CD.bind(null,e),Tr:ND.bind(null,e)}),e.Mr.push(function(n){return _(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,ys(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(G("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var PD=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ws(e,t){if(Ze("AsyncQueue",t+": "+e),Hi(e))return new F(C.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QE=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||oe.comparator(n.key,r.key)}:function(n,r){return oe.comparator(n.key,r.key)},this.keyedMap=np(),this.sortedSet=new Rt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Y0=function(){function e(){this.Qr=new Rt(oe.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):re():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),pc=function(){function e(t,n,r,i,o,s,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,QE.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),jD=function(){this.Wr=void 0,this.listeners=[]},OD=function(){this.queries=new ms(function(e){return eE(e)},wu),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:if(n=W(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new jD),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return a=l.sent(),u=ws(a,"Initialization of query '"+ep(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Dg(n),[2]}})})}function Ag(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s;return N(this,function(a){return n=W(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function AD(e,t){for(var n=W(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&Dg(n)}function DD(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function Dg(e){e.Gr.forEach(function(t){t.next()})}var Rg=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new pc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=pc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(e){this.key=e},YE=function(e){this.key=e},JE=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Oe(),this.mutatedKeys=Oe(),this.lo=tE(t),this.fo=new QE(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Y0,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,a=o,u=!1,l=ml(this.query)&&o.size===this.query.limit?o.last():null,c=ac(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(f,p){var y=o.get(f),w=bu(r.query,p)?p:null,g=!!y&&r.mutatedKeys.has(y.key),m=!!w&&(w.hasLocalMutations||r.mutatedKeys.has(w.key)&&w.hasCommittedMutations),v=!1;y&&w?y.data.isEqual(w.data)?g!==m&&(i.track({type:3,doc:w}),v=!0):r.yo(y,w)||(i.track({type:2,doc:w}),v=!0,(l&&r.lo(w,l)>0||c&&r.lo(w,c)<0)&&(u=!0)):!y&&w?(i.track({type:0,doc:w}),v=!0):y&&!w&&(i.track({type:1,doc:y}),v=!0,(l||c)&&(u=!0)),v&&(w?(a=a.add(w),s=m?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),ml(this.query)||ac(this.query))for(;a.size>this.query.limit;){var d=ml(this.query)?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(c,d){return function(f,p){var y=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return y(f)-y(p)}(c.type,d.type)||i.lo(c.doc,d.doc)}),this.po(r);var a=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,l=u!==this.ao;return this.ao=u,s.length!==0||l?{snapshot:new pc(this.query,t.fo,o,s,t.mutatedKeys,u===0,l,!1),To:a}:{To:a}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Y0,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Oe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new YE(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new XE(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Oe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return pc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),RD=function(e,t,n){this.query=e,this.targetId=t,this.view=n},LD=function(e){this.key=e,this.bo=!1},FD=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new ms(function(a){return eE(a)},wu),this.Vo=new Map,this.So=new Set,this.Do=new Rt(oe.comparator),this.Co=new Map,this.No=new Cg,this.xo={},this.ko=new Map,this.Fo=cc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function MD(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return N(this,function(u){switch(u.label){case 0:return n=Ug(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,fc(n.localStore,Kn(t))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Lg(n,t,r,a==="current")];case 3:i=u.sent(),n.isPrimaryClient&&Af(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function Lg(e,t,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:return e.Oo=function(d,f,p){return function(y,w,g,m){return _(this,void 0,void 0,function(){var v,b,x;return N(this,function(T){switch(T.label){case 0:return v=w.view._o(g),v.Nn?[4,hc(y.localStore,w.query,!1).then(function(S){var k=S.documents;return w.view._o(k,v)})]:[3,2];case 1:v=T.sent(),T.label=2;case 2:return b=m&&m.targetChanges.get(w.targetId),x=w.view.applyChanges(v,y.isPrimaryClient,b),[2,(ap(y,w.targetId,x.To),x.snapshot)]}})})}(e,d,f,p)},[4,hc(e.localStore,t,!0)];case 1:return i=c.sent(),o=new JE(t,i.Bn),s=o._o(i.documents),a=bg.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=o.applyChanges(s,e.isPrimaryClient,a),ap(e,n,u.To),l=new RD(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function $D(e,t){return _(this,void 0,void 0,function(){var n,r,i;return N(this,function(o){switch(o.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!wu(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Qo(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ha(n.remoteStore,r.targetId),Xo(n,r.targetId)}).catch(Gi)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Xo(n,r.targetId),[4,Qo(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function UD(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s;return N(this,function(a){switch(a.label){case 0:r=Vg(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,l){var c,d=W(u),f=en.now(),p=l.reduce(function(y,w){return y.add(w.key)},Oe());return d.persistence.runTransaction("Locally write mutations","readwrite",function(y){return d.Mn.pn(y,p).next(function(w){c=w;for(var g=[],m=0,v=l;m<v.length;m++){var b=v[m],x=hA(b,c.get(b.key));x!=null&&g.push(new Jr(b.key,x,XS(x.value.mapValue),_t.exists(!0)))}return d._n.addMutationBatch(y,f,g,l)})}).then(function(y){return y.applyToLocalDocumentSet(c),{batchId:y.batchId,changes:c}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,l,c){var d=u.xo[u.currentUser.toKey()];d||(d=new Rt(be)),d=d.insert(l,c),u.xo[u.currentUser.toKey()]=d}(r,i.batchId,n),[4,ei(r,i.changes)];case 3:return a.sent(),[4,ys(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=ws(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function ZE(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tD(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var a=n.Co.get(s);a&&(le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?le(a.bo):o.removedDocuments.size>0&&(le(a.bo),a.bo=!1))}),[4,ei(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function J0(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(t);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=W(o);a.onlineState=s;var u=!1;a.queries.forEach(function(l,c){for(var d=0,f=c.listeners;d<f.length;d++)f[d].zr(s)&&(u=!0)}),u&&Dg(a)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function VD(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u;return N(this,function(l){switch(l.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Rt(oe.comparator)).insert(o,Dt.newNoDocument(o,ye.min())),a=Oe().add(o),u=new wg(ye.min(),new Map,new it(be),s,a),[4,ZE(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),$g(r),[3,4];case 2:return[4,Qo(r.localStore,t,!1).then(function(){return Xo(r,t,n)}).catch(Gi)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function BD(e,t){return _(this,void 0,void 0,function(){var n,r,i;return N(this,function(o){switch(o.label){case 0:n=W(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,eD(n.localStore,t)];case 2:return i=o.sent(),Mg(n,r,null),Fg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ei(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qD(e,t,n){return _(this,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:r=W(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=W(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return u._n.lookupMutationBatch(l,a).next(function(d){return le(d!==null),c=d.keys(),u._n.removeMutationBatch(l,d)}).next(function(){return u._n.performConsistencyCheck(l)}).next(function(){return u.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Mg(r,t,n),Fg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ei(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zD(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s;return N(this,function(a){switch(a.label){case 0:Zr((n=W(e)).remoteStore)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var l=W(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=a.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=ws(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function Fg(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Mg(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Xo(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||eT(e,s)})}function eT(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ha(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),$g(e))}function ap(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof XE?(e.No.addReference(o.key,t),HD(e,o)):o instanceof YE?(G("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||eT(e,o.key)):re()}}function HD(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(G("SyncEngine","New document in limbo: "+n),e.So.add(r),$g(e))}function $g(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new oe(Ie.fromString(t)),r=e.Fo.next();e.Co.set(r,new LD(n)),e.Do=e.Do.insert(n,r),Af(e.remoteStore,new jf(Kn(vu(n.path)),r,2,ln.o))}}function ei(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s;return N(this,function(a){switch(a.label){case 0:return r=W(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,l){s.push(r.Oo(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var d=JA.Pn(l.targetId,c);o.push(d)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,l){return _(this,void 0,void 0,function(){var c,d,f,p,y,w,g,m,v;return N(this,function(b){switch(b.label){case 0:c=W(u),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(x){return V.forEach(l,function(T){return V.forEach(T.bn,function(S){return c.persistence.referenceDelegate.addReference(x,T.targetId,S)}).next(function(){return V.forEach(T.vn,function(S){return c.persistence.referenceDelegate.removeReference(x,T.targetId,S)})})})})];case 2:return b.sent(),[3,4];case 3:if(!Hi(d=b.sent()))throw d;return G("LocalStore","Failed to update sequence numbers: "+d),[3,4];case 4:for(f=0,p=l;f<p.length;f++)y=p[f],w=y.targetId,y.fromCache||(g=c.kn.get(w),m=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(m),c.kn=c.kn.insert(w,v));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function GD(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(G("SyncEngine","User change. New user:",t.toKey()),[4,FE(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new F(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ei(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function WD(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return Oe().add(r.key);var i=Oe(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function KD(e,t){return _(this,void 0,void 0,function(){var n,r,i;return N(this,function(o){switch(o.label){case 0:return[4,hc((n=W(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&ap(n,t.targetId,i.To),i)]}})})}function QD(e){return _(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,UE((t=W(e)).localStore).then(function(r){return ei(t,r)})]})})}function XD(e,t,n,r){return _(this,void 0,void 0,function(){var i,o;return N(this,function(s){switch(s.label){case 0:return[4,function(a,u){var l=W(a),c=W(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(d){return c.jt(d,u).next(function(f){return f?l.Mn.pn(d,f):V.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ys(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Mg(i,t,r||null),Fg(i,t),function(a,u){W(W(a)._n).Gt(u)}(i.localStore,t)):re(),s.label=4;case 4:return[4,ei(i,o)];case 5:return s.sent(),[3,7];case 6:G("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function YD(e,t){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u,l;return N(this,function(c){switch(c.label){case 0:return Ug(n=W(e)),Vg(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Z0(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,sp(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],Af(n.remoteStore,a);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach(function(d,f){n.sharedClientState.isLocalQueryTarget(f)?u.push(f):l=l.then(function(){return Xo(n,f),Qo(n.localStore,f,!0)}),Ha(n.remoteStore,f)}),[4,l]);case 4:return c.sent(),[4,Z0(n,u)];case 5:return c.sent(),function(d){var f=W(d);f.Co.forEach(function(p,y){Ha(f.remoteStore,y)}),f.No.ts(),f.Co=new Map,f.Do=new Rt(oe.comparator)}(n),n.$o=!1,[4,sp(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Z0(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,d,f,p,y,w,g;return N(this,function(m){switch(m.label){case 0:r=W(e),i=[],o=[],s=0,a=t,m.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=r.Vo.get(u))&&c.length!==0?[4,fc(r.localStore,Kn(c[0]))]:[3,7]):[3,13];case 2:l=m.sent(),d=0,f=c,m.label=3;case 3:return d<f.length?(p=f[d],y=r.Po.get(p),[4,KD(r,y)]):[3,6];case 4:(w=m.sent()).snapshot&&o.push(w.snapshot),m.label=5;case 5:return d++,[3,3];case 6:return[3,11];case 7:return[4,$E(r.localStore,u)];case 8:return g=m.sent(),[4,fc(r.localStore,g)];case 9:return l=m.sent(),[4,Lg(r,tT(g),u,!1)];case 10:m.sent(),m.label=11;case 11:i.push(l),m.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function tT(e){return JS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function JD(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function ZD(e,t,n,r){return _(this,void 0,void 0,function(){var i,o,s;return N(this,function(a){switch(a.label){case 0:return(i=W(e)).$o?(G("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,UE(i.localStore)];case 3:return o=a.sent(),s=wg.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ei(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Qo(i.localStore,t,!0)];case 6:return a.sent(),Xo(i,t,r),[3,8];case 7:re(),a.label=8;case 8:return[2]}})})}function eR(e,t,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,d,f;return N(this,function(p){switch(p.label){case 0:if(!(r=Ug(e)).$o)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(G("SyncEngine","Adding an already active target "+s),[3,5]):[4,$E(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,fc(r.localStore,a)];case 3:return u=p.sent(),[4,Lg(r,tT(a),u.targetId,!1)];case 4:p.sent(),Af(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:l=function(y){return N(this,function(w){switch(w.label){case 0:return r.Vo.has(y)?[4,Qo(r.localStore,y,!1).then(function(){Ha(r.remoteStore,y),Xo(r,y)}).catch(Gi)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},c=0,d=n,p.label=7;case 7:return c<d.length?(f=d[c],[5,l(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function Ug(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VD.bind(null,t),t.vo._r=AD.bind(null,t.eventManager),t.vo.Mo=DD.bind(null,t.eventManager),t}function Vg(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qD.bind(null,t),t}var nT=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return _(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=Of(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return LE(this.persistence,new RE,t.initialUser,this.R)},e.prototype.qo=function(t){return new cD(hD.bs,this.R)},e.prototype.Bo=function(t){return new VE},e.prototype.terminate=function(){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),rT=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return ue(t,e),t.prototype.initialize=function(n){return _(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,iD(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Vg(this.Qo.syncEngine)];case 4:return i.sent(),[4,ys(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return LE(this.persistence,new RE,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new HA(r,n.asyncQueue)},t.prototype.qo=function(n){var r=kg(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new YA(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,BE(),vl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new VE},t}(nT),tR=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ue(t,e),t.prototype.initialize=function(n){return _(this,void 0,void 0,function(){var r,i=this;return N(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Fh?(this.sharedClientState.syncEngine={ui:XD.bind(null,r),ai:ZD.bind(null,r),hi:eR.bind(null,r),fn:JD.bind(null,r),ci:QD.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return _(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return[4,YD(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=BE();if(!Fh.yt(r))throw new F(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=kg(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Fh(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(rT),up=function(){function e(){}return e.prototype.initialize=function(t,n){return _(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return J0(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=GD.bind(null,this.syncEngine),[4,sp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new OD},e.prototype.createDatastore=function(t){var n,r=Of(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new yD(n));return function(o,s,a){return new bD(o,s,a)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,a=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(u){return J0(a.syncEngine,u,0)},s=X0.yt()?new X0:new pD,new SD(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,a,u,l){var c=new FD(r,i,o,s,a,u);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return _(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(t),G("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,gs(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Df=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),nR=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return _(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new F(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return _(this,void 0,void 0,function(){var a,u,l,c,d,f;return N(this,function(p){switch(p.label){case 0:return a=W(o),u=za(a.R)+"/documents",l={documents:s.map(function(y){return qa(a.R,y)})},[4,a.$i("BatchGetDocuments",u,l)];case 1:return c=p.sent(),d=new Map,c.forEach(function(y){var w=function(g,m){return"found"in m?function(v,b){le(!!b.found),b.found.name,b.found.updateTime;var x=sr(v,b.found.name),T=qt(b.found.updateTime),S=new an({mapValue:{fields:b.found.fields}});return Dt.newFoundDocument(x,T,S)}(g,m):"missing"in m?function(v,b){le(!!b.missing),le(!!b.readTime);var x=sr(v,b.missing),T=qt(b.readTime);return Dt.newNoDocument(x,T)}(g,m):re()}(a.R,y);d.set(w.key.toString(),w)}),f=[],[2,(s.forEach(function(y){var w=d.get(y.toString());le(!!w),f.push(w)}),f)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Eu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return _(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=oe.fromPath(o);n.mutations.push(new vg(s,n.precondition(s)))}),[4,function(i,o){return _(this,void 0,void 0,function(){var s,a,u;return N(this,function(l){switch(l.label){case 0:return s=W(i),a=za(s.R)+"/documents",u={writes:o.map(function(c){return uc(s.R,c)})},[4,s.Ni("Commit",a,u)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw re();n=ye.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new F(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?_t.updateTime(n):_t.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ye.min()))throw new F(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _t.updateTime(n)}return _t.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),rR=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Ng(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return _(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(o){return n=new nR(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!zi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!cE(n)}return!1},e}(),iR=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=mt.UNAUTHENTICATED,this.clientId=zS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return _(i,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return G("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return _(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return _(t,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=ws(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e,t){return _(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return _(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,FE(t.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function oT(e,t){return _(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Bg(e)];case 1:return n=i.sent(),G("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,a){return _(this,void 0,void 0,function(){var u,l;return N(this,function(c){switch(c.label){case 0:return(u=W(s)).asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials"),l=Zr(u),u.Or.add(3),[4,gs(u)];case 1:return c.sent(),l&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return c.sent(),u.Or.delete(3),[4,Tu(u)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function Bg(e){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(G("FirestoreClient","Using default OfflineComponentProvider"),[4,iT(e,new nT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Rf(e){return _(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(G("FirestoreClient","Using default OnlineComponentProvider"),[4,oT(e,new up)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function ew(e){return Bg(e).then(function(t){return t.persistence})}function sT(e){return Bg(e).then(function(t){return t.localStore})}function tw(e){return Rf(e).then(function(t){return t.remoteStore})}function aT(e){return Rf(e).then(function(t){return t.syncEngine})}function Yo(e){return _(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,Rf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=MD.bind(null,t.syncEngine),n.onUnlisten=$D.bind(null,t.syncEngine),n)]}})})}function nw(e,t,n){var r=this;n===void 0&&(n={});var i=new nn;return e.asyncQueue.enqueueAndForget(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,d){var f=new Df({next:function(y){u.enqueueAndForget(function(){return Ag(a,p)});var w=y.docs.has(l);!w&&y.fromCache?d.reject(new F(C.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&c&&c.source==="server"?d.reject(new F(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:function(y){return d.reject(y)}}),p=new Rg(vu(l.path),f,{includeMetadataChanges:!0,so:!0});return Og(a,p)},[4,Yo(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function rw(e,t,n){var r=this;n===void 0&&(n={});var i=new nn;return e.asyncQueue.enqueueAndForget(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,d){var f=new Df({next:function(y){u.enqueueAndForget(function(){return Ag(a,p)}),y.fromCache&&c.source==="server"?d.reject(new F(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:function(y){return d.reject(y)}}),p=new Rg(l,f,{includeMetadataChanges:!0,so:!0});return Og(a,p)},[4,Yo(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var oR=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},mc=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),iw=new Map,uT=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ow=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(mt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),sR=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),aR=function(){function e(t){var n=this;this.currentUser=mt.UNAUTHENTICATED,this.oc=new nn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){G("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(G("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(G("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(le(typeof i.accessToken=="string"),new uT(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return _(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string"),new mt(t)},e}(),uR=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=mt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),lR=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new uR(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(mt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e,t,n){if(!n)throw new F(C.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function zg(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new F(C.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function lT(e,t,n,r){if(t===!0&&r===!0)throw new F(C.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function sw(e){if(!oe.isDocumentKey(e))throw new F(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function aw(e){if(oe.isDocumentKey(e))throw new F(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":re()}function Ce(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lf(e);throw new F(C.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function uw(e,t){if(t<=0)throw new F(C.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lw=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new F(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,lT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Ga=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,t instanceof mc?(this._databaseId=t,this._credentials=new ow):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new F(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(r.options.projectId)}(t),this._credentials=new aR(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new ow;switch(n.type){case"gapi":var r=n.client;return le(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new lR(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new F(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=iw.get(t))&&(G("ComponentProvider","Removing Datastore"),iw.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),qe=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $r(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),hn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),$r=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,vu(i))||this)._path=i,o.type="collection",o}return ue(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new qe(this.firestore,null,new oe(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=et(e),qg("collection","path",t),e instanceof Ga)return aw(n=Ie.fromString.apply(Ie,Be([t],r))),new $r(e,null,n);if(!(e instanceof qe||e instanceof $r))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aw(n=Ie.fromString.apply(Ie,Be([e.path],r)).child(Ie.fromString(t))),new $r(e.firestore,null,n)}function wl(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=et(e),arguments.length===1&&(t=zS.u()),qg("doc","path",t),e instanceof Ga)return sw(n=Ie.fromString.apply(Ie,Be([t],r))),new qe(e,null,new oe(n));if(!(e instanceof qe||e instanceof $r))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sw(n=e._path.child(Ie.fromString.apply(Ie,Be([t],r)))),new qe(e.firestore,e instanceof $r?e.converter:null,new oe(n))}function fT(e,t){return e=et(e),t=et(t),(e instanceof qe||e instanceof $r)&&(t instanceof qe||t instanceof $r)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hT(e,t){return e=et(e),t=et(t),e instanceof hn&&t instanceof hn&&e.firestore===t.firestore&&wu(e._query,t._query)&&e.converter===t.converter}var cR=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ng(this,"async_queue_retry"),this.Ic=function(){var r=vl();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=vl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=vl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new nn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return _(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hi(t=r.sent()))throw t;return G("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=PD.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&re()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return _(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Jo(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var fR=-1,rt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new cR,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return ue(t,e),t.prototype._terminate=function(){return this._firestoreClient||dT(this),this._firestoreClient.terminate()},t}(Ga);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e){return e._firestoreClient||dT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dT(e){var t,n=e._freezeSettings(),r=function(i,o,s,a){return new oR(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new iR(e._credentials,e._queue,r)}function cw(e,t,n){var r=this,i=new nn;return e.asyncQueue.enqueue(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,iT(e,n)];case 1:return s.sent(),[4,oT(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===C.FAILED_PRECONDITION||a.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function fw(e){if(e._initialized||e._terminated)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new F(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Di=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(tn.fromBase64String(t))}catch(n){throw new F(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(tn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Wi=function(e){this._methodName=e},Ff=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return be(this._lat,t._lat)||be(this._long,t._long)},e}(),hR=/^__.*__$/,dR=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Su(t,this.data,n,this.fieldTransforms)},e}(),pT=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var gT=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return gc(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(mT(this.Nc)&&hR.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),pR=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Of(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new gT({Nc:t,methodName:n,qc:r,path:Rn.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ki(e){var t=e._freezeSettings(),n=Of(e._databaseId);return new pR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Mf(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Kg("Data must be an object, but it was:",s,r);var a,u,l=wT(r,s);if(o.merge)a=new Mo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],d=0,f=o.mergeFields;d<f.length;d++){var p=lp(t,f[d],n);if(!s.contains(p))throw new F(C.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");xT(c,p)||c.push(p)}a=new Mo(c),u=s.fieldTransforms.filter(function(y){return a.covers(y.field)})}else a=null,u=s.fieldTransforms;return new dR(new an(l),a,u)}var Hg=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Wi);function yT(e,t,n){return new gT({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var mR=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype._toFieldTransform=function(n){return new xu(n.path,new Bo)},t.prototype.isEqual=function(n){return n instanceof t},t}(Wi),gR=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ue(t,e),t.prototype._toFieldTransform=function(n){var r=yT(this,n,!0),i=this.Kc.map(function(s){return Qi(s,r)}),o=new Oi(i);return new xu(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Wi),yR=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ue(t,e),t.prototype._toFieldTransform=function(n){var r=yT(this,n,!0),i=this.Kc.map(function(s){return Qi(s,r)}),o=new Ai(i);return new xu(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Wi),vR=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return ue(t,e),t.prototype._toFieldTransform=function(n){var r=new qo(n.R,iE(n.R,this.Qc));return new xu(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Wi);function Gg(e,t,n,r){var i=e.Uc(1,t,n);Kg("Data must be an object, but it was:",i,r);var o=[],s=an.empty();qi(r,function(u,l){var c=Qg(t,u,n);l=et(l);var d=i.Oc(c);if(l instanceof Hg)o.push(c);else{var f=Qi(l,d);f!=null&&(o.push(c),s.set(c,f))}});var a=new Mo(o);return new pT(s,a,i.fieldTransforms)}function Wg(e,t,n,r,i,o){var s=e.Uc(1,t,n),a=[lp(t,r,n)],u=[i];if(o.length%2!=0)throw new F(C.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(lp(t,o[l])),u.push(o[l+1]);for(var c=[],d=an.empty(),f=a.length-1;f>=0;--f)if(!xT(c,a[f])){var p=a[f],y=u[f];y=et(y);var w=s.Oc(p);if(y instanceof Hg)c.push(p);else{var g=Qi(y,w);g!=null&&(c.push(p),d.set(p,g))}}var m=new Mo(c);return new pT(d,m,s.fieldTransforms)}function vT(e,t,n,r){return r===void 0&&(r=!1),Qi(n,e.Uc(r?4:3,t))}function Qi(e,t){if(bT(e=et(e)))return Kg("Unsupported field value:",t,e),wT(e,t);if(e instanceof Wi)return function(n,r){if(!mT(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,a=n;s<a.length;s++){var u=Qi(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iE(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=en.fromDate(n);return{timestampValue:Ba(r.R,i)}}if(n instanceof en)return i=new en(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ba(r.R,i)};if(n instanceof Ff)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Di)return{bytesValue:pE(r.R,n._byteString)};if(n instanceof qe){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:xg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Lf(n))}(e,t)}function wT(e,t){var n={};return GS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qi(e,function(r,i){var o=Qi(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof en||e instanceof Ff||e instanceof Di||e instanceof qe||e instanceof Wi)}function Kg(e,t,n){if(!bT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Lf(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function lp(e,t,n){if((t=et(t))instanceof Hn)return t._internalPath;if(typeof t=="string")return Qg(e,t);throw gc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var wR=new RegExp("[~\\*/\\[\\]]");function Qg(e,t,n){if(t.search(wR)>=0)throw gc("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Hn.bind.apply(Hn,Be([void 0],t.split("."))))()._internalPath}catch{throw gc("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function gc(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new F(C.INVALID_ARGUMENT,(a+=". ")+e+u)}function xT(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new qe(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new bR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(yc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),bR=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Wa);function yc(e,t){return typeof t=="string"?Qg(e,t):t instanceof Hn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ur=function(e){function t(n,r,i,o,s,a){var u=this;return(u=e.call(this,n,r,i,o,a)||this)._firestore=n,u._firestoreImpl=n,u.metadata=s,u}return ue(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(yc("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Wa),ga=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ur),Ir=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yi(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new ga(r._firestore,r._userDataWriter,i.key,i,new yi(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new ga(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new ga(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(c=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:xR(a.type),doc:u,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function xR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function ST(e,t){return e instanceof ur&&t instanceof ur?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ir&&t instanceof Ir&&e._firestore===t._firestore&&hT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(e){if(ac(e)&&e.explicitOrderBy.length===0)throw new F(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Iu=function(){};function wr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var SR=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return ue(t,e),t.prototype._apply=function(n){var r=Ki(n.firestore),i=function(o,s,a,u,l,c,d){var f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new F(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){gw(d,c);for(var p=[],y=0,w=d;y<w.length;y++){var g=w[y];p.push(mw(u,o,g))}f={arrayValue:{values:p}}}else f=mw(u,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||gw(d,c),f=vT(a,"where",d,c==="in"||c==="not-in");var m=cn.create(l,c,f);return function(v,b){if(b.g()){var x=gg(v);if(x!==null&&!x.isEqual(b.field))throw new F(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+x.toString()+"' and '"+b.field.toString()+"'");var T=mg(v);T!==null&&IT(v,b.field,T)}var S=function(k,P){for(var D=0,Y=k.filters;D<Y.length;D++){var se=Y[D];if(P.indexOf(se.op)>=0)return se.op}return null}(v,function(k){switch(k){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(b.op));if(S!==null)throw S===b.op?new F(C.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+b.op.toString()+"' filter."):new F(C.INVALID_ARGUMENT,"Invalid query. You cannot use '"+b.op.toString()+"' filters with '"+S.toString()+"' filters.")}(o,m),m}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new hn(n.firestore,n.converter,function(o,s){var a=o.filters.concat([s]);return new pr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Iu),ER=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return ue(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new F(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new No(o,s);return function(u,l){if(mg(u)===null){var c=gg(u);c!==null&&IT(u,c,l.field)}}(i,a),a}(n._query,this.jc,this.zc);return new hn(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new pr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Iu),hw=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return ue(t,e),t.prototype._apply=function(n){return new hn(n.firestore,n.converter,ZS(n._query,this.Hc,this.Jc))},t}(Iu),dw=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return ue(t,e),t.prototype._apply=function(n){var r=TT(n,this.type,this.Yc,this.Xc);return new hn(n.firestore,n.converter,function(i,o){return new pr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(Iu),pw=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return ue(t,e),t.prototype._apply=function(n){var r=TT(n,this.type,this.Yc,this.Xc);return new hn(n.firestore,n.converter,function(i,o){return new pr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(Iu);function TT(e,t,n,r){if(n[0]=et(n[0]),n[0]instanceof Wa)return function(o,s,a,u,l){if(!u)throw new F(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var c=[],d=0,f=Vo(o);d<f.length;d++){var p=f[d];if(p.field.isKeyField())c.push(ic(s,u.key));else{var y=u.data.field(p.field);if(hg(y))throw new F(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var w=p.field.canonicalString();throw new F(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}c.push(y)}}return new Va(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ki(e.firestore);return function(o,s,a,u,l,c){var d=o.explicitOrderBy;if(l.length>d.length)throw new F(C.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var f=[],p=0;p<l.length;p++){var y=l[p];if(d[p].field.isKeyField()){if(typeof y!="string")throw new F(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof y);if(!yg(o)&&y.indexOf("/")!==-1)throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+y+"' contains a slash.");var w=o.path.child(Ie.fromString(y));if(!oe.isDocumentKey(w))throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var g=new oe(w);f.push(ic(s,g))}else{var m=vT(a,u,y);f.push(m)}}return new Va(f,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function mw(e,t,n){if(typeof(n=et(n))=="string"){if(n==="")throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yg(t)&&n.indexOf("/")!==-1)throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ie.fromString(n));if(!oe.isDocumentKey(r))throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ic(e,new oe(r))}if(n instanceof qe)return ic(e,n._key);throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lf(n)+".")}function gw(e,t){if(!Array.isArray(e)||e.length===0)throw new F(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new F(C.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function IT(e,t,n){if(!n.isEqual(t))throw new F(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xg=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw re()}},e.prototype.convertObject=function(t,n){var r=this,i={};return qi(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new Ff(Je(t.latitude),Je(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=KS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($a(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Hr(t);return new en(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ie.fromString(t);le(SE(r));var i=new mc(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Ze("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var TR=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ue(t,e),t.prototype.convertBytes=function(n){return new Di(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new qe(this.firestore,null,r)},t}(Xg),IR=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ki(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=kr(t,this._firestore),o=$f(i.converter,n,r),s=Mf(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,_t.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=kr(t,this._firestore);return s=typeof(n=et(n))=="string"||n instanceof Hn?Wg(this._dataReader,"WriteBatch.update",a._key,n,r,i):Gg(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,_t.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=kr(t,this._firestore);return this._mutations=this._mutations.concat(new Eu(n._key,_t.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new F(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e,t){if((e=et(e)).firestore!==t)throw new F(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ue(t,e),t.prototype.convertBytes=function(n){return new Di(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new qe(this.firestore,null,r)},t}(Xg);function yw(e,t,n){e=Ce(e,qe);var r=Ce(e.firestore,rt),i=$f(e.converter,t,n);return ku(r,[Mf(Ki(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,_t.none())])}function vw(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ce(e,qe);var o=Ce(e.firestore,rt),s=Ki(o);return ku(o,[(typeof(t=et(t))=="string"||t instanceof Hn?Wg(s,"updateDoc",e._key,t,n,r):Gg(s,"updateDoc",e._key,t)).toMutation(e._key,_t.exists(!0))])}function kT(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=et(e);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||Jo(i[a])||(s=i[a],a++);var u,l,c,d={includeMetadataChanges:s.includeMetadataChanges};if(Jo(i[a])){var f=i[a];i[a]=(t=f.next)===null||t===void 0?void 0:t.bind(f),i[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),i[a+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}if(e instanceof qe)l=Ce(e.firestore,rt),c=vu(e._key.path),u={next:function(w){i[a]&&i[a](cp(l,e,w))},error:i[a+1],complete:i[a+2]};else{var p=Ce(e,hn);l=Ce(p.firestore,rt),c=p._query;var y=new xi(l);u={next:function(w){i[a]&&i[a](new Ir(l,y,p,w))},error:i[a+1],complete:i[a+2]},ET(e._query)}return function(w,g,m,v){var b=this,x=new Df(v),T=new Rg(g,x,m);return w.asyncQueue.enqueueAndForget(function(){return _(b,void 0,void 0,function(){var S;return N(this,function(k){switch(k.label){case 0:return S=Og,[4,Yo(w)];case 1:return[2,S.apply(void 0,[k.sent(),T])]}})})}),function(){x.Wo(),w.asyncQueue.enqueueAndForget(function(){return _(b,void 0,void 0,function(){var S;return N(this,function(k){switch(k.label){case 0:return S=Ag,[4,Yo(w)];case 1:return[2,S.apply(void 0,[k.sent(),T])]}})})})}}(Ct(l),c,d,u)}function ku(e,t){return function(n,r){var i=this,o=new nn;return n.asyncQueue.enqueueAndForget(function(){return _(i,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=UD,[4,aT(n)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(Ct(e),t)}function cp(e,t,n){var r=n.docs.get(t._key),i=new xi(e);return new ur(e,i,t._key,r,new yi(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kR=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return ue(t,e),t.prototype.get=function(n){var r=this,i=kr(n,this._firestore),o=new xi(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new ur(r._firestore,o,i._key,s._document,new yi(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ki(t)}return e.prototype.get=function(t){var n=this,r=kr(t,this._firestore),i=new TR(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return re();var s=o[0];if(s.isFoundDocument())return new Wa(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Wa(n._firestore,i,r._key,null,r.converter);throw re()})},e.prototype.set=function(t,n,r){var i=kr(t,this._firestore),o=$f(i.converter,n,r),s=Mf(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=kr(t,this._firestore);return s=typeof(n=et(n))=="string"||n instanceof Hn?Wg(this._dataReader,"Transaction.update",a._key,n,r,i):Gg(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this},e.prototype.delete=function(t){var n=kr(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){if(typeof Uint8Array>"u")throw new F(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bw(){if(typeof atob>"u")throw new F(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var CT=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return bw(),new e(Di.fromBase64String(t))},e.fromUint8Array=function(t){return ww(),new e(Di.fromUint8Array(t))},e.prototype.toBase64=function(){return bw(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ww(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),CR=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){fw(r=Ce(r,rt));var o=Ct(r),s=r._freezeSettings(),a=new up;return cw(o,a,new rT(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){fw(n=Ce(n,rt));var r=Ct(n),i=n._freezeSettings(),o=new up;return cw(r,o,new tR(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new F(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new nn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return _(r,void 0,void 0,function(){var o;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return _(this,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return Go.yt()?(u=a+"main",[4,Go.delete(u)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(kg(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),NT=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof mc||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||nc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var l=(i=Ce(i,Ga))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),a.mockUserToken){var c,d;if(typeof a.mockUserToken=="string")c=a.mockUserToken,d=mt.MOCK_USER;else{c=E_(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var f=a.mockUserToken.sub||a.mockUserToken.user_id;if(!f)throw new F(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new mt(f)}i._credentials=new sR(new uT(c,d))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return _(n,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return[4,ew(t)];case 1:return r=o.sent(),[4,tw(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=W(s);return a.Or.delete(0),Tu(a)}(i))]}})})})}(Ct(Ce(this._delegate,rt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return _(n,void 0,void 0,function(){var r,i;return N(this,function(o){switch(o.label){case 0:return[4,ew(t)];case 1:return r=o.sent(),[4,tw(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return _(this,void 0,void 0,function(){var a;return N(this,function(u){switch(u.label){case 0:return(a=W(s)).Or.add(0),[4,gs(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ct(Ce(this._delegate,rt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&lT("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new nn;return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var i;return N(this,function(o){switch(o.label){case 0:return i=zD,[4,aT(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Ct(Ce(this._delegate,rt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,a=new Df(o);return i.asyncQueue.enqueueAndForget(function(){return _(s,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return u=function(c,d){W(c).Gr.add(d),d.next()},[4,Yo(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return _(s,void 0,void 0,function(){var u;return N(this,function(l){switch(l.label){case 0:return u=function(c,d){W(c).Gr.delete(d)},[4,Yo(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})})}}(Ct(n=Ce(n,rt)),Jo(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vc(this,cT(this._delegate,t))}catch(n){throw Mt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Si(this,wl(this._delegate,t))}catch(n){throw Mt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Bf(this,function(n,r){if(n=Ce(n,Ga),qg("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new F(C.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hn(n,null,function(i){return new pr(Ie.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Mt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var a=this,u=new nn;return o.asyncQueue.enqueueAndForget(function(){return _(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return[4,function(d){return Rf(d).then(function(f){return f.datastore})}(o)];case 1:return l=c.sent(),new rR(o.asyncQueue,l,s,u).run(),[2]}})})}),u.promise}(Ct(r),function(o){return i(new kR(r,o))})}(this._delegate,function(r){return t(new _T(n,r))})},e.prototype.batch=function(){var t=this;return Ct(this._delegate),new PT(new IR(this._delegate,function(n){return ku(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new F(C.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new F(C.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Uf=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ue(t,e),t.prototype.convertBytes=function(n){return new CT(new Di(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Si.eu(r,this.firestore,null)},t}(Xg);function NR(e){var t;t=e,On.setLogLevel(t)}var _T=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Uf(t)}return e.prototype.get=function(t){var n=this,r=vi(t);return this._delegate.get(r).then(function(i){return new Ka(n._firestore,new ur(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=vi(t);return r?(zg("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=vi(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Be([a,n,r],o)),this},e.prototype.delete=function(t){var n=vi(t);return this._delegate.delete(n),this},e}(),PT=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=vi(t);return r?(zg("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=vi(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Be([a,n,r],o)),this},e.prototype.delete=function(t){var n=vi(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vf=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new ga(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qa(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Uf(t),n),i.set(n,o)),o},e}();Vf.su=new WeakMap;var Si=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Uf(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new F(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new qe(n._delegate,r,new oe(t)))},e.eu=function(t,n,r){return new e(n,new qe(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vc(this.firestore,cT(this._delegate,t))}catch(n){throw Mt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=et(t))instanceof qe&&fT(this._delegate,t)},e.prototype.set=function(t,n){n=zg("DocumentReference.set",n);try{return n?yw(this._delegate,t,n):yw(this._delegate,t)}catch(r){throw Mt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?vw(this._delegate,t):vw.apply(void 0,Be([this._delegate,t,n],r))}catch(o){throw Mt(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ku(Ce((t=this._delegate).firestore,rt),[new Eu(t._key,_t.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=jT(n),o=OT(n,function(s){return new Ka(t.firestore,new ur(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return kT(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,qe);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return function(a,u){var l=this,c=new nn;return a.asyncQueue.enqueueAndForget(function(){return _(l,void 0,void 0,function(){var d;return N(this,function(f){switch(f.label){case 0:return d=function(p,y,w){return _(this,void 0,void 0,function(){var g,m;return N(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,function(b,x){var T=W(b);return T.persistence.runTransaction("read document","readonly",function(S){return T.Mn.mn(S,x)})}(p,y)];case 1:return(m=v.sent()).isFoundDocument()?w.resolve(m):m.isNoDocument()?w.resolve(null):w.reject(new F(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return g=v.sent(),m=ws(g,"Failed to get document '"+y+" from cache"),w.reject(m),[3,3];case 3:return[2]}})})},[4,sT(a)];case 1:return[2,d.apply(void 0,[f.sent(),u,c])]}})})}),c.promise}(o,r._key).then(function(a){return new ur(i,s,r._key,a,new yi(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,qe);var i=Ce(r.firestore,rt);return nw(Ct(i),r._key,{source:"server"}).then(function(o){return cp(i,r,o)})}(this._delegate):function(r){r=Ce(r,qe);var i=Ce(r.firestore,rt);return nw(Ct(i),r._key).then(function(o){return cp(i,r,o)})}(this._delegate)).then(function(r){return new Ka(n.firestore,new ur(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Mt(e,t,n){return e.message=e.message.replace(t,n),e}function jT(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Jo(r))return r}return{}}function OT(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=Jo(e[0])?e[0]:Jo(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ka=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Si(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return ST(this._delegate,t._delegate)},e}(),Qa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ka),Bf=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Uf(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,wr(this._delegate,function(i,o,s){var a=o,u=yc("where",i);return new SR(u,a,s)}(t,n,r)))}catch(i){throw Mt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,wr(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=yc("orderBy",r);return new ER(s,o)}(t,n)))}catch(r){throw Mt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,wr(this._delegate,function(n){return uw("limit",n),new hw("limit",n,"F")}(t)))}catch(n){throw Mt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,wr(this._delegate,function(n){return uw("limitToLast",n),new hw("limitToLast",n,"L")}(t)))}catch(n){throw Mt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dw("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Mt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dw("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Mt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new pw("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Mt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wr(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new pw("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Mt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return hT(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,hn);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return function(a,u){var l=this,c=new nn;return a.asyncQueue.enqueueAndForget(function(){return _(l,void 0,void 0,function(){var d;return N(this,function(f){switch(f.label){case 0:return d=function(p,y,w){return _(this,void 0,void 0,function(){var g,m,v,b,x;return N(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,hc(p,y,!0)];case 1:return x=T.sent(),g=new JE(y,x.Bn),m=g._o(x.documents),v=g.applyChanges(m,!1),w.resolve(v.snapshot),[3,3];case 2:return b=T.sent(),x=ws(b,"Failed to execute query '"+y+" against cache"),w.reject(x),[3,3];case 3:return[2]}})})},[4,sT(a)];case 1:return[2,d.apply(void 0,[f.sent(),u,c])]}})})}),c.promise}(o,r._query).then(function(a){return new Ir(i,s,r,a)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,hn);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return rw(o,r._query,{source:"server"}).then(function(a){return new Ir(i,s,r,a)})}(this._delegate):function(r){r=Ce(r,hn);var i=Ce(r.firestore,rt),o=Ct(i),s=new xi(i);return ET(r._query),rw(o,r._query).then(function(a){return new Ir(i,s,r,a)})}(this._delegate)).then(function(r){return new fp(n.firestore,new Ir(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=jT(n),o=OT(n,function(s){return new fp(t.firestore,new Ir(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return kT(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),_R=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Qa(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),fp=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Bf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Qa(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new _R(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Qa(r._firestore,i))})},e.prototype.isEqual=function(t){return ST(this._delegate,t._delegate)},e}(),vc=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return ue(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Si(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Si(this.firestore,n===void 0?wl(this._delegate):wl(this._delegate,n))}catch(r){throw Mt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=Ce(i.firestore,rt),a=wl(i),u=$f(i.converter,o);return ku(s,[Mf(Ki(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,_t.exists(!1))]).then(function(){return a})}(this._delegate,n).then(function(i){return new Si(r.firestore,i)})},t.prototype.isEqual=function(n){return fT(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vf.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Bf);function vi(e){return Ce(e,qe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PR=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Hn.bind.apply(Hn,Be([void 0],t)))}return e.documentId=function(){return new e(Rn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=et(t))instanceof Hn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),jR=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new mR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Hg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gR("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new yR("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new vR("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),OR={Firestore:NT,GeoPoint:Ff,Timestamp:en,Blob:CT,Transaction:_T,WriteBatch:PT,DocumentReference:Si,DocumentSnapshot:Ka,Query:Bf,QueryDocumentSnapshot:Qa,QuerySnapshot:fp,CollectionReference:vc,FieldPath:PR,FieldValue:jR,setLogLevel:NR,CACHE_SIZE_UNLIMITED:fR};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e){(function(t,n){t.INTERNAL.registerComponent(new Ci("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},OR)))})(e,function(t,n){return new NT(t,new rt(t,n),new CR)}),e.registerVersion("@firebase/firestore","2.4.1")}AR(kn);const DR={apiKey:"demo",authDomain:"demo",projectId:"demo-project",storageBucket:"demo",messagingSenderId:"1234",appId:"1234",measurementId:"1234"};kn.initializeApp(DR);const pn="games",ti="players",Ln=kn.firestore();Ln.settings({experimentalAutoDetectLongPolling:!0});const RR=async(e,t)=>(await Ln.collection(pn).doc(e).set(t),!0),bs=async e=>{const n=await Ln.collection(pn).doc(e).get();let r;return n.exists&&(r=n.data()),r},qf=async e=>{const r=await kn.firestore().collection(pn).doc(e).collection(ti).get();let i=[];return r.forEach(o=>i.push(o.data())),i},AT=async(e,t)=>{const i=await kn.firestore().collection(pn).doc(e).collection(ti).doc(t).get();let o;return i.exists&&(o=i.data()),o},LR=e=>Ln.collection(pn).doc(e),FR=e=>Ln.collection(pn).doc(e).collection(ti),DT=async(e,t)=>(await kn.firestore().collection(pn).doc(e).update(t),!0),RT=async(e,t)=>(await Ln.collection(pn).doc(e).collection(ti).doc(t.id).set(t),!0),MR=async(e,t)=>(await Ln.collection(pn).doc(e).collection(ti).doc(t).delete(),!0),LT=async(e,t)=>(await Ln.collection(pn).doc(e).collection(ti).doc(t.id).update(t),!0),$R=async e=>(await Ln.collection(pn).doc(e).delete(),await Ln.collection(pn).doc(e).collection(ti).get().then(t=>{t.forEach(n=>{n.ref.delete()})}),!0),UR=async()=>{const t=new Date,n=new Date(t.setMonth(t.getMonth()-6)),r=await Ln.collection(pn).where("createdAt","<",n).get();if(console.log("Games length",r.docs.length),r.docs.length>0){const i=r.docs[0].data();console.log(i),console.log(r.docs[r.docs.length-1].data()),console.log(i.createdAt.toDate().toString()),console.log(r.docs[r.docs.length-1].data().createdAt.toDate().toString());const o=[];r.forEach(s=>{o.push(s)});for(let s of o){console.log("Deleting:",s.data().name);const a=await s.ref.collection(ti).get(),u=[];a.forEach(l=>{u.push(l)});for(let l of u)await l.ref.delete();await s.ref.delete(),console.log("deleted")}}return!0};var ze=(e=>(e.NotStarted="Not Started",e.Started="Started",e.InProgress="In Progress",e.Finished="Finished",e))(ze||{});const FT="playerGames",Cu=()=>{let e=[];const t=localStorage.getItem(FT);return t&&(e=JSON.parse(t)),e},MT=e=>{localStorage.setItem(FT,JSON.stringify(e))},VR=async(e,t)=>{await bs(e)&&MR(e,t)},BR=async(e,t,n,r)=>{const i=await AT(e,t);if(i){const o={...i,value:n,emoji:r,status:ze.Finished};return await LT(e,o),await ZR(e),!0}return!1},qR=async()=>Cu(),hp=e=>{const n=Cu().find(r=>r.id===e);return n&&n.playerId},$T=(e,t,n,r,i)=>{let o=Cu();o.push({id:e,name:t,createdById:r,createdBy:n,playerId:i}),MT(o)},zR=async e=>{const n=Cu().find(r=>r.id===e);return n?await AT(n.id,n.playerId)?!0:(UT(n.id),!1):!1},UT=e=>{const t=Cu();MT(t.filter(n=>n.id!==e))},HR=async(e,t)=>{const n=await bs(e);if(!n)return console.log("Game not found"),!1;const r={name:t,id:Ad(),status:ze.NotStarted};return $T(n.id,n.name,n.createdBy,n.createdById,r.id),await RT(e,r),!0},GR=async e=>{(await qf(e)).forEach(async n=>{const r={...n,status:ze.NotStarted,value:0};await LT(e,r)})},WR=async e=>{const t={name:e.createdBy,id:Ad(),status:ze.NotStarted},n={...e,id:Ad(),average:0,createdById:t.id,gameStatus:ze.Started};return await RR(n.id,n),await RT(n.id,t),$T(n.id,n.name,n.createdBy,n.createdById,t.id),n.id},KR=e=>LR(e),QR=e=>FR(e),VT=e=>bs(e),zf=async(e,t)=>(await DT(e,t),!0),XR=async e=>{if(await bs(e)){const n={average:0,gameStatus:ze.Started};await zf(e,n),await GR(e)}},xw=async e=>{const t=await bs(e),n=await qf(e);if(t&&n){const r={gameStatus:ze.Finished};await zf(e,r)}},YR=async(e,t)=>{const n=await bs(e),r=await qf(e);if(n&&r){const i={...n,storyName:t};zf(e,i)}},JR=e=>{let t=0;return e.forEach(n=>{n.status===ze.Finished&&t++}),t===0?ze.Started:ze.InProgress},ZR=async e=>{if(!await VT(e))return console.log("Game not found"),!1;const n=await qf(e);if(n){const i={gameStatus:JR(n)};return await DT(e,i)}return!1},BT=async e=>{await $R(e),UT(e)},eL=async()=>{await UR()},tL=()=>{const[e,t]=ae.useState(!1);return ae.useEffect(()=>{async function n(){await eL(),t(!1)}t(!0),n()},[t]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"flex flex-col items-center justify-center space-y-2",children:h.jsx("div",{className:"flex items-center justify-center sm:w-full lg:w-11/12 space-x-3",children:h.jsx("div",{className:"sm:w-full lg:w-1/2",children:e?h.jsx("div",{children:"Deleting old games....."}):h.jsx("div",{children:"Delete done!"})})})})})},nL=()=>h.jsx("div",{className:"flex flex-col items-center w-full",children:h.jsx(rL,{})}),rL=()=>h.jsx("div",{className:"flex flex-col items-center w-full",children:h.jsx("div",{className:"w-full max-w-3xl flex flex-col items-center justify-center my-8",children:h.jsxs("div",{className:"animate-fade-in-down",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Examples of User Story Estimation"}),h.jsxs("div",{className:"text-base",children:[h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to be able to log in to the application using my email and password.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 3 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team considers this user story to have medium complexity compared to other user stories. It involves implementing authentication logic, verifying credentials, and providing appropriate error handling. The team's collective experience and judgment led to the consensus estimation of 3 story points."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to search for products based on various filters (e.g., price, category, brand).",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 5 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team considers this user story to be more complex compared to simpler user stories. Implementing the search functionality involves handling multiple filter options, integrating with the database, and ensuring efficient search performance. The team estimates it to be a moderate-sized task."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As an administrator, I want to be able to generate monthly reports on user activity and sales performance.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 8 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team identifies this user story as a larger and more involved task. It requires designing and implementing reporting functionalities, gathering and aggregating data from multiple sources, and generating meaningful insights. The complexity and effort involved lead to a higher estimation."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to be able to reset my password if I forget it.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 2 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team considers this user story relatively simple and straightforward. Implementing a password reset functionality typically involves providing an email verification mechanism and updating the user's password in the database. The team estimates it to be a smaller task compared to others."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to be able to add products to my shopping cart and proceed to checkout.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," Medium (T-shirt size)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team uses T-shirt sizes for estimation. Adding products to a shopping cart and enabling the checkout process involves handling user interactions, managing cart state, updating inventory, and integrating with payment gateways. The team estimates it to be of medium size in terms of effort and complexity."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to be able to upload and attach files to my project tasks.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 3 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team considers this user story to be of moderate complexity. Implementing file upload functionality involves handling file storage, validation, and linking files to specific tasks or projects. The team estimates it to be a medium-sized task."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As an administrator, I want to be able to create and manage user roles and permissions.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 5 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team identifies this user story as a larger and more complex task. Implementing role-based access control requires designing a flexible permission system, defining roles, managing user permissions, and ensuring proper security measures. The effort and complexity involved lead to a higher estimation."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to receive email notifications for important updates and events.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 2 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team considers this user story relatively straightforward. Implementing email notifications involves integrating with an email service provider, setting up templates, and triggering emails based on specific events or triggers. The team estimates it to be a smaller task compared to others."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"User Story:"})," As a user, I want to be able to filter and sort search results based on different criteria.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Estimation:"})," 3 story points (Fibonacci sequence)",h.jsx("br",{}),h.jsx("br",{}),h.jsx("b",{children:"Rationale:"})," The team identifies this user story as a moderate-sized task. Implementing filtering and sorting functionality requires handling user preferences, building flexible search queries, and presenting sorted and filtered results. The team estimates it to be of medium complexity and effort."]}),h.jsx("hr",{className:"my-6 border-t border-gray-300"}),h.jsxs("p",{children:[h.jsx("b",{children:"Note:"})," These estimations are based on hypothetical scenarios, and actual estimations may vary based on project-specific factors, team dynamics, and technology considerations. The primary aim is to establish a relative understanding of effort or complexity to aid in prioritization and planning."]})]})]})})});var at=(e=>(e.Fibonacci="Fibonacci",e.ShortFibonacci="ShortFibonacci",e.TShirt="TShirt",e.TShirtAndNumber="TShirtAndNumber",e.Custom="Custom",e))(at||{});const Sw=[{value:0,displayValue:"0",color:"#e7edf3"},{value:1,displayValue:"1",color:"#9EC8FE"},{value:2,displayValue:"2",color:"#9EC8FE"},{value:3,displayValue:"3",color:"#A3DFF2"},{value:5,displayValue:"5",color:"#A3DFF2"},{value:8,displayValue:"8",color:"#9DD49A"},{value:13,displayValue:"13",color:"#9DD49A"},{value:21,displayValue:"21",color:"#F4DD94"},{value:34,displayValue:"34",color:"#F4DD94"},{value:55,displayValue:"55",color:"#F39893"},{value:89,displayValue:"89",color:"#F39893"},{value:-2,displayValue:"",color:"#e7edf3"},{value:-1,displayValue:"-1",color:"#e7edf3"}],iL=[{value:0,displayValue:"0",color:"#e7edf3"},{value:.5,displayValue:"",color:"#9EC8FE"},{value:1,displayValue:"1",color:"#9EC8FE"},{value:2,displayValue:"2",color:"#9EC8FE"},{value:3,displayValue:"3",color:"#A3DFF2"},{value:5,displayValue:"5",color:"#A3DFF2"},{value:8,displayValue:"8",color:"#9DD49A"},{value:13,displayValue:"13",color:"#9DD49A"},{value:21,displayValue:"20",color:"#F4DD94"},{value:34,displayValue:"40",color:"#F4DD94"},{value:55,displayValue:"100",color:"#F39893"},{value:-2,displayValue:"",color:"#e7edf3"},{value:-1,displayValue:"-1",color:"#e7edf3"}],oL=[{value:10,displayValue:"XXS",color:"#e7edf3"},{value:20,displayValue:"XS",color:"#9EC8FE"},{value:30,displayValue:"S",color:"#9EC8FE"},{value:40,displayValue:"M",color:"#A3DFF2"},{value:50,displayValue:"L",color:"#A3DFF2"},{value:60,displayValue:"XL",color:"#9DD49A"},{value:70,displayValue:"XXL",color:"#9DD49A"},{value:-2,displayValue:"",color:"#e7edf3"},{value:-1,displayValue:"-1",color:"#e7edf3"}],sL=[{value:10,displayValue:"S",color:"#9EC8FE"},{value:20,displayValue:"M",color:"#9EC8FE"},{value:30,displayValue:"L",color:"#A3DFF2"},{value:40,displayValue:"XL",color:"#A3DFF2"},{value:50,displayValue:"1",color:"#9DD49A"},{value:60,displayValue:"2",color:"#9DD49A"},{value:70,displayValue:"3",color:"#F4DD94"},{value:80,displayValue:"4",color:"#F4DD94"},{value:90,displayValue:"5",color:"#F39893"}],qT=[{value:0,displayValue:"0",color:"#e7edf3"},{value:1,displayValue:"1",color:"#9EC8FE"},{value:2,displayValue:"2",color:"#9EC8FE"},{value:3,displayValue:"3",color:"#A3DFF2"},{value:4,displayValue:"4",color:"#A3DFF2"},{value:5,displayValue:"5",color:"#9DD49A"},{value:6,displayValue:"6",color:"#9DD49A"},{value:7,displayValue:"7",color:"#F4DD94"},{value:8,displayValue:"8",color:"#F4DD94"},{value:9,displayValue:"9",color:"#F39893"},{value:10,displayValue:"10",color:"#F39893"},{value:11,displayValue:"11",color:"#D96C6C"},{value:12,displayValue:"12",color:"#D96C6C"},{value:13,displayValue:"13",color:"#9B59B6"},{value:14,displayValue:"14",color:"#9B59B6"}],Hf=e=>{switch(e){case at.Fibonacci:return Sw;case at.ShortFibonacci:return iL;case at.TShirt:return oL;case at.TShirtAndNumber:return sL;case at.Custom:return qT;default:return Sw}},Ew=()=>{const e=["","","","","","","","","","","","","","","","",""];return e[Math.floor(Math.random()*e.length)]},aL=e=>{const t=qT;return e.forEach((n,r)=>t[r].displayValue=n),t.filter(n=>n.displayValue!==void 0&&n.displayValue.trim()!=="")},uL=({game:e,players:t,currentPlayerId:n})=>{var u;const{t:r}=Xn(),[i,o]=ae.useState(Ew),s=(l,c,d)=>{e.gameStatus!==ze.Finished&&BR(l,c,d.value,i)};ae.useEffect(()=>{e.gameStatus===ze.Started&&o(Ew)},[e.gameStatus]);const a=(u=e.cards)!=null&&u.length?e.cards:Hf(e.gameType);return h.jsxs("div",{className:"w-full max-w-full animate-fade-in-down",children:[h.jsx("div",{className:"text-center text-lg font-semibold my-4",children:e.gameStatus!==ze.Finished?r("CardPicker.ClickOnTheCardToVote"):r("CardPicker.SessionNotReadyForVotingWaitForModeratorToStart")}),h.jsx("div",{className:"flex flex-wrap justify-center gap-6 py-4 ",children:a.map((l,c)=>{var f;const d=((f=t.find(p=>p.id===n))==null?void 0:f.value)===l.value;return h.jsx("div",{id:`card-${l.displayValue}`,className:`
              cursor-pointer select-none transition-all duration-300
              rounded shadow-md border
              border-gray-300
              flex flex-col items-center justify-center
              bg-white
              text-gray-800
              w-15 h-23
              md:w-20 md:h-30
              sm:w-15 sm:h-23
              ${d?"border-dashed border-2 border-gray-800 z-10 shadow-lg scale-115":"shadow-md scale-100"}
              ${e.gameStatus===ze.Finished?"pointer-events-none opacity-50 cursor-not-allowed":""}
            `,style:{backgroundColor:l.color},onClick:()=>s(e.id,n,l),children:h.jsxs("div",{className:"flex flex-col justify-between h-full w-full p-1",children:[l.value>=0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-xs text-gray-800 flex justify-start",children:l.displayValue}),h.jsx("span",{className:`${l.displayValue.length<2?"text-4xl":"text-3xl"}`,children:l.displayValue}),h.jsx("span",{className:"flex justify-end w-full text-xs text-gray-800",children:l.displayValue})]}),l.value===-1&&h.jsx("span",{className:"flex flex-col justify-center h-full text-4xl",children:i}),l.value===-2&&h.jsx("span",{className:"flex flex-col justify-center h-full text-4xl",children:""})]})},l.value)})}),h.jsx(Co,{})]})},Yg=(e,t,n)=>n?!0:e===t,dp=({className:e})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),lL=({game:e,player:t,currentPlayerId:n})=>{var i;const r=(o,s)=>{VR(o,s)};return h.jsxs("div",{className:"rounded shadow-lg w-25 bg-gray-200 dark:bg-gray-800 border-gray-300 dark:border-gray-600 border mb-2 m-3",style:{backgroundColor:cL(e,t.value)},children:[h.jsxs("div",{className:"text-center -mt-5 mx-auto w-[95%] bg-white dark:bg-gray-900 border-2  border-gray-400 dark:border-gray-700 rounded-2xl flex items-center justify-around px-3 py-1",children:[h.jsx("div",{className:"text-center font-semibold text-sm truncate",title:t.name,children:t.name}),Yg(e.createdById,n,e.isAllowMembersToManageSession)&&t.id!==n&&h.jsx("button",{title:"Remove",className:"cursor-pointer  p-0.5 mt-0.5 rounded hover:bg-red-100 transition",onClick:()=>r(e.id,t.id),"data-testid":"remove-button",children:h.jsx(dp,{className:"h-4 w-4 text-red-400"})})]}),h.jsx("div",{className:"flex items-center justify-center text-gray-800 py-6 mb-3",children:h.jsx("span",{className:`${((i=Tw(t,e))==null?void 0:i.length)<2?"text-4xl":"text-3xl"}`,children:Tw(t,e)})})]})},cL=(e,t)=>{if(e.gameStatus==ze.Finished){const n=Hf(e.gameType).find(r=>r.value===t);return n?n.color:""}return""},Tw=(e,t)=>t.gameStatus!==ze.Finished?e.status===ze.Finished?"":"":t.gameStatus===ze.Finished?e.status===ze.Finished?e.value&&e.value===-1?e.emoji||"":fL(t,e.value):"":"",fL=(e,t)=>{var r,i;return((i=(((r=e.cards)==null?void 0:r.length)>0?e.cards:Hf(e.gameType)).find(o=>o.value===t))==null?void 0:i.displayValue)||(t==null?void 0:t.toString())||""},hL=({game:e,players:t,currentPlayerId:n})=>h.jsx("div",{className:"animate-grow",children:h.jsx("div",{className:"flex flex-wrap justify-center gap-2 pt-8 w-full",children:t.map(r=>h.jsx(lL,{game:e,player:r,currentPlayerId:n},r.id))})}),zT=({children:e,id:t,message:n,onConfirm:r,onCancel:i=()=>{}})=>{const[o,s]=xe.useState(!1),a=`modelConfirm-${t}`,u=()=>{const d=document.getElementById(a);d&&(d.style.display="block",document.getElementsByTagName("body")[0].classList.add("overflow-y-hidden")),s(!0)},l=()=>{const d=document.getElementById(a);d&&(d.style.display="none",document.getElementsByTagName("body")[0].classList.remove("overflow-y-hidden")),s(!1),i()},c=()=>{const d=document.getElementById(a);d&&(d.style.display="none",document.getElementsByTagName("body")[0].classList.remove("overflow-y-hidden")),s(!1),r(t)};return h.jsxs("div",{children:[h.jsx("div",{onClick:u,children:e}),h.jsx("div",{id:a,"data-testid":"alert-dialog",className:"fixed hidden cursor-default z-50 inset-0 bg-gray-800/80 overflow-y-auto h-full w-full px-4 ",children:h.jsxs("div",{className:"relative top-40 mx-auto bg-white dark:bg-gray-900 shadow-xl rounded-md max-w-2xl",children:[h.jsx("div",{className:"flex justify-end p-2",children:h.jsx("button",{onClick:l,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),h.jsxs("div",{className:"p-6 pt-0 text-center",children:[h.jsx("svg",{className:"w-20 h-20 text-red-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("h3",{className:"text-xl font-normal text-wrap mt-5 mb-6 ",children:n}),h.jsx("button",{onClick:c,"data-testid":"alert-dialog-confirm",className:"cursor-pointer text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-base inline-flex items-center px-3 py-2.5 text-center mr-2",children:"Confirm"}),h.jsx("button",{onClick:l,className:"cursor-pointer text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-cyan-200 border border-gray-200 font-medium inline-flex items-center rounded-lg text-base px-3 py-2.5 text-center","data-modal-toggle":"delete-user-modal","data-testid":"alert-dialog-cancel",children:"Cancel"})]})]})})]},t)},dL=({className:e})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"})}),pL=({className:e})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),mL=({className:e})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12v7a1 1 0 01-1 1H5a1 1 0 01-1-1v-7"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12l4 4m0 0l4-4m-4 4V4"})]}),gL=({className:e})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h5M20 20v-5h-5M5.5 9A7 7 0 0112 5a7 7 0 017.5 4.5M18.5 15A7 7 0 0112 19a7 7 0 01-7.5-4.5"})}),yL=({game:e,players:t,currentPlayerId:n})=>{const r=ls(),{t:i}=Xn(),[o,s]=ae.useState(!1);ae.useEffect(()=>{e.autoReveal&&e.gameStatus==="In Progress"&&Array.isArray(t)&&t.length>0&&t.every(f=>f.status===ze.Finished)&&xw(e.id)},[e.autoReveal,e,JSON.stringify(t.map(f=>({id:f.id,value:f.value,status:f.status})))]);const a=f=>{zf(e.id,{autoReveal:f})},u=()=>{navigator.clipboard.writeText(`${window.location.origin}/join/${e.id}`),s(!0),setTimeout(()=>s(!1),5e3)},l=()=>r.push("/"),c=async f=>{await BT(f),window.location.href="/"},d=Yg(e.createdById,n,e.isAllowMembersToManageSession);return h.jsxs("div",{className:"flex flex-col items-center w-full px-2",children:[h.jsxs("div",{className:"w-full max-w-md bg-gray-200 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg my-5",children:[h.jsxs("div",{className:"flex items-center justify-between px-3 py-1 border-b border-gray-400 dark:border-gray-600",children:[h.jsx("div",{className:"text-lg font-semibold truncate flex-1/3",children:e.name}),h.jsx("div",{className:"mx-2 h-6 border-l border-gray-400 dark:border-gray-600"}),h.jsxs("span",{className:"text-sm font-medium",children:[e.gameStatus," ",wL(e.gameStatus)]}),h.jsx(bL,{game:e,players:t})]}),d&&h.jsx("div",{className:"flex justify-end p-2",title:"Auto Reveal when all members finished voting",children:h.jsx(vL,{autoReveal:e.autoReveal||!1,onAutoReveal:f=>a(f)})}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-6 px-2 pt-8 pb-2",children:[d&&h.jsxs(h.Fragment,{children:[h.jsx(Ms,{onClick:()=>xw(e.id),icon:h.jsx(pL,{className:"h-9 w-9 text-green-500"}),label:i("GameController.reveal"),colorClass:"bg-green-200",testId:"reveal-button"}),h.jsx(Ms,{onClick:()=>XR(e.id),icon:h.jsx(gL,{className:"h-9 w-9 text-red-400"}),label:i("GameController.restart"),colorClass:"bg-red-200",testId:"restart-button"}),h.jsx(Ms,{icon:h.jsx(dp,{className:"h-9 w-9 text-red-500"}),label:i("GameController.delete"),colorClass:"bg-red-200",testId:"delete-button",children:h.jsx(zT,{id:e.id,message:i("GameController.areYouSureDelete"),onConfirm:()=>c(e.id),"data-testid":"delete-button-dialog",children:h.jsx("button",{className:"p-2 cursor-pointer rounded-full bg-white dark:bg-gray-900 hover:bg-red-200 transition",title:i("GameController.delete"),children:h.jsx(dp,{className:"h-9 w-9 text-red-500"})})})})]}),h.jsx(Ms,{onClick:l,icon:h.jsx(dL,{className:"h-9 w-9 text-orange-500 "}),label:i("GameController.exit"),colorClass:"bg-red-200",testId:"exit-button"}),h.jsx(Ms,{onClick:u,icon:h.jsx(mL,{className:"h-9 w-9 text-blue-500"}),label:i("GameController.invite"),colorClass:"bg-blue-200",testId:"invite-button",title:"Copy invite link"}),h.jsxs("div",{className:"w-full text-xs mt-2",children:[h.jsxs("label",{className:"font-semibold",children:[i("GameController.storyName"),":"]}),h.jsx("input",{placeholder:i("GameController.enterStoryName"),className:"w-full italic p-2 mt-2 border bg-white dark:bg-gray-900 border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",type:"text","data-testid":"story-name-input",value:e.storyName||"",onChange:f=>YR(e.id,f.target.value||"")})]})]})]}),o&&h.jsx("div",{className:"fixed top-6 right-6 z-50",children:h.jsx("div",{className:"bg-green-100 border border-green-200  text-gray-800 opacity-85 px-4 py-3 text-xs rounded shadow",role:"alert",children:h.jsxs("span",{className:"block font-bold",children:[i("GameController.inviteLinkCopied"),"!"]})})})]})},Ms=({onClick:e,icon:t,label:n,colorClass:r,testId:i,title:o,children:s})=>h.jsxs("div",{className:"flex flex-col items-center",children:[s||h.jsx("button",{type:"button",role:"button","aria-label":n,id:i,onClick:e,"data-testid":i,className:`p-2 cursor-pointer rounded-full bg-white dark:bg-gray-900 hover:${r} transition`,title:o||n,children:t},i),h.jsx("span",{className:"text-xs mt-1",children:n})]}),vL=({autoReveal:e,onAutoReveal:t})=>{const{t:n}=Xn();return h.jsx("div",{className:"flex flex-col items-center",children:h.jsxs("label",{className:"flex items-center cursor-pointer",children:[h.jsx("span",{className:"mr-1 text-xs",children:n("GameController.autoReveal")}),h.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`relative inline-flex h-4 w-8 items-center rounded-full transition-colors focus:outline-none ${e?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,style:{minWidth:"2rem"},children:h.jsx("span",{className:`inline-block h-3 w-3 cursor-pointer transform rounded-full bg-white shadow transition-transform ${e?"translate-x-4":"translate-x-1"}`})})]})})},wL=e=>{switch(e){case"In Progress":return"";case"Finished":return"";default:return""}},bL=({game:e,players:t})=>{const n=e.gameType,r="N/A",i="-";if(!(n!==at.TShirt&&n!==at.TShirtAndNumber))return null;const{t:s}=Xn(),a=xL(e,t);let u=e.gameStatus===ze.Finished&&a?a.toFixed(2):i;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mx-2 h-6 border-l border-gray-400 dark:border-gray-600"}),h.jsxs("span",{className:"text-sm font-medium",children:[s("GameController.average"),":"]}),h.jsxs("span",{className:"px-2 py-1 ml-1 text-xs rounded-full bg-blue-100 dark:bg-blue-900 font-bold shadow-sm border border-gray-200 inline-flex items-center relative",children:[u,u!==i&&u!==r&&h.jsx(h.Fragment,{children:h.jsxs("span",{className:"relative group ml-1",children:[h.jsx("span",{className:"cursor-pointer group ml-1 flex",children:h.jsx(h1,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})}),h.jsx("span",{className:"absolute left-1/2 top-full mt-2 z-10 -translate-x-1/2 w-max min-w-[80px] rounded bg-white dark:bg-gray-900 bg-opacity-90 px-2 py-1 text-xs font-semibold border border-gray-200 dark:border-gray-700 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:`Rounded Average : ${Math.round(a)||0}`})]})})]})]})},xL=(e,t)=>{let n=0,r=0;const i=e.cards;return t.forEach(o=>{var a;const s=e.gameType===at.Custom?Number((a=i.find(u=>u.value===o.value))==null?void 0:a.displayValue):o.value;o.status===ze.Finished&&s!==void 0&&!isNaN(s)&&s&&s>=0&&(n=n+s,r++)}),Math.round(n/r*100)/100},SL=({game:e,players:t,currentPlayerId:n})=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col min-h-[60%] overflow-auto p-0.5 justify-center",children:[h.jsx(hL,{game:e,players:t,currentPlayerId:n}),h.jsx(yL,{game:e,players:t,currentPlayerId:n})]}),h.jsx("div",{className:"text-center flex justify-center",children:h.jsx(uL,{game:e,players:t,currentPlayerId:n})})]}),EL=()=>{let{id:e}=u1();const t=ls(),[n,r]=ae.useState(void 0),[i,o]=ae.useState(void 0),[s,a]=ae.useState(!0),[u,l]=ae.useState(void 0);return ae.useEffect(()=>{const c=t.block((d,f)=>{if(f==="POP"&&!window.confirm("Are you sure you want to go back?"))return!1});return()=>{c()}},[t]),ae.useEffect(()=>{let c=!0;if(c){const d=hp(e);d||t.push(`/join/${e}`),l(d),a(!0)}return KR(e).onSnapshot(d=>{if(c){if(d.exists){const f=d.data();if(f){r(f),a(!1);return}}a(!1)}}),QR(e).onSnapshot(d=>{if(c){const f=[];d.forEach(y=>{f.push(y.data())});const p=hp(e);f.find(y=>y.id===p)||t.push(`/join/${e}`),o(f)}}),()=>{c=!1}},[e,t]),s?h.jsx("div",{className:"flex items-center justify-center p-10",children:h.jsx(km,{})}):h.jsx(h.Fragment,{children:n&&i&&u?h.jsx(SL,{game:n,players:i,currentPlayerId:u}):h.jsx("p",{children:"Game not found"})})},TL=()=>h.jsx("div",{children:h.jsx(EL,{})}),IL=()=>h.jsxs("div",{className:"flex flex-col items-center w-full",children:[h.jsx(kL,{}),h.jsx(Co,{})]}),kL=()=>h.jsx("div",{className:"flex flex-col items-center w-full",children:h.jsx("div",{className:"w-full max-w-3xl flex flex-col items-center justify-center my-8",children:h.jsxs("div",{className:"animate-fade-in-down",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Guidelines on estimating user stories in Agile"}),h.jsxs("div",{className:"text-base",children:[h.jsxs("p",{children:["1. ",h.jsx("b",{children:"Understand the User Story"}),":",h.jsx("br",{}),"Before estimating, ensure that the team has a clear understanding of the user story. The product owner or the person responsible for defining the user story should provide sufficient context and answer any questions from the team. The team should have a shared understanding of the user story's purpose, functionality, and expected outcomes."]}),h.jsx("br",{}),h.jsxs("p",{children:["2. ",h.jsx("b",{children:"Determine Estimation Scale"}),":",h.jsx("br",{}),"Choose an estimation scale that suits your team's needs. The most common scales used in Agile are Fibonacci sequence (1, 2, 3, 5, 8, 13, 21, etc.), T-shirt sizes (XS, S, M, L, XL), or linear scale (1-10). Select a scale that allows for enough differentiation between estimations and avoids spending excessive time on fine-grained estimates."]}),h.jsx("br",{}),h.jsxs("p",{children:["3. ",h.jsx("b",{children:"Relative Sizing"}),":",h.jsx("br",{}),"Agile estimation focuses on relative sizing, where the team compares the effort or complexity of one user story with another. This approach helps avoid the pitfalls of trying to estimate absolute time. Relative sizing allows for a more straightforward and faster estimation process."]}),h.jsx("br",{}),h.jsxs("p",{children:["4. ",h.jsx("b",{children:"Use Reference User Stories"}),":",h.jsx("br",{}),"Create a set of reference user stories that the team collectively agrees on. These reference stories serve as benchmarks against which other user stories can be compared. The team can assign a standard estimation value to each reference story based on its complexity, effort, or size."]}),h.jsx("br",{}),h.jsxs("p",{children:["5. ",h.jsx("b",{children:"Conduct Estimation Sessions"}),":",h.jsx("br",{}),"Organize estimation sessions with the entire team present. The team members responsible for implementing the user stories should be actively involved in the estimation process. Use techniques such as Planning Poker, where team members privately select estimation values, and then reveal them simultaneously, allowing for discussion and convergence."]}),h.jsx("br",{}),h.jsxs("p",{children:["6. ",h.jsx("b",{children:"Discuss and Resolve Differences"}),":",h.jsx("br",{}),"Encourage open discussion during estimation sessions. If team members provide different estimations, have them share their reasoning and insights. This discussion helps to uncover assumptions, identify risks or dependencies, and clarify any misunderstandings. The goal is to reach a consensus estimation."]}),h.jsx("br",{}),h.jsxs("p",{children:["7. ",h.jsx("b",{children:"Update and Refine Estimations"}),":",h.jsx("br",{}),"After the estimation session, update the user story estimates in the product backlog or Agile management tool. As the project progresses, continue to refine the estimates based on actual effort or complexity experienced during implementation. This continuous refinement improves the accuracy of future estimations."]})]})]})})});var HT={exports:{}};(()=>{var e={296:(i,o,s)=>{var a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,f=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,p=typeof self=="object"&&self&&self.Object===Object&&self,y=f||p||Function("return this")(),w=Object.prototype.toString,g=Math.max,m=Math.min,v=function(){return y.Date.now()};function b(T){var S=typeof T;return!!T&&(S=="object"||S=="function")}function x(T){if(typeof T=="number")return T;if(function(P){return typeof P=="symbol"||function(D){return!!D&&typeof D=="object"}(P)&&w.call(P)=="[object Symbol]"}(T))return NaN;if(b(T)){var S=typeof T.valueOf=="function"?T.valueOf():T;T=b(S)?S+"":S}if(typeof T!="string")return T===0?T:+T;T=T.replace(a,"");var k=l.test(T);return k||c.test(T)?d(T.slice(2),k?2:8):u.test(T)?NaN:+T}i.exports=function(T,S,k){var P,D,Y,se,ie,me,ce=0,E=!1,A=!1,ee=!0;if(typeof T!="function")throw new TypeError("Expected a function");function K($){var te=P,he=D;return P=D=void 0,ce=$,se=T.apply(he,te)}function z($){var te=$-me;return me===void 0||te>=S||te<0||A&&$-ce>=Y}function R(){var $=v();if(z($))return j($);ie=setTimeout(R,function(te){var he=S-(te-me);return A?m(he,Y-(te-ce)):he}($))}function j($){return ie=void 0,ee&&P?K($):(P=D=void 0,se)}function M(){var $=v(),te=z($);if(P=arguments,D=this,me=$,te){if(ie===void 0)return function(he){return ce=he,ie=setTimeout(R,S),E?K(he):se}(me);if(A)return ie=setTimeout(R,S),K(me)}return ie===void 0&&(ie=setTimeout(R,S)),se}return S=x(S)||0,b(k)&&(E=!!k.leading,Y=(A="maxWait"in k)?g(x(k.maxWait)||0,S):Y,ee="trailing"in k?!!k.trailing:ee),M.cancel=function(){ie!==void 0&&clearTimeout(ie),ce=0,P=me=D=ie=void 0},M.flush=function(){return ie===void 0?se:j(v())},M}},96:(i,o,s)=>{var a="Expected a function",u=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt,w=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,g=typeof self=="object"&&self&&self.Object===Object&&self,m=w||g||Function("return this")(),v=Object.prototype.toString,b=Math.max,x=Math.min,T=function(){return m.Date.now()};function S(P){var D=typeof P;return!!P&&(D=="object"||D=="function")}function k(P){if(typeof P=="number")return P;if(function(se){return typeof se=="symbol"||function(ie){return!!ie&&typeof ie=="object"}(se)&&v.call(se)==l}(P))return u;if(S(P)){var D=typeof P.valueOf=="function"?P.valueOf():P;P=S(D)?D+"":D}if(typeof P!="string")return P===0?P:+P;P=P.replace(c,"");var Y=f.test(P);return Y||p.test(P)?y(P.slice(2),Y?2:8):d.test(P)?u:+P}i.exports=function(P,D,Y){var se=!0,ie=!0;if(typeof P!="function")throw new TypeError(a);return S(Y)&&(se="leading"in Y?!!Y.leading:se,ie="trailing"in Y?!!Y.trailing:ie),function(me,ce,E){var A,ee,K,z,R,j,M=0,$=!1,te=!1,he=!0;if(typeof me!="function")throw new TypeError(a);function ke(ht){var vn=A,Wt=ee;return A=ee=void 0,M=ht,z=me.apply(Wt,vn)}function Ae(ht){var vn=ht-j;return j===void 0||vn>=ce||vn<0||te&&ht-M>=K}function He(){var ht=T();if(Ae(ht))return Ft(ht);R=setTimeout(He,function(vn){var Wt=ce-(vn-j);return te?x(Wt,K-(vn-M)):Wt}(ht))}function Ft(ht){return R=void 0,he&&A?ke(ht):(A=ee=void 0,z)}function mr(){var ht=T(),vn=Ae(ht);if(A=arguments,ee=this,j=ht,vn){if(R===void 0)return function(Wt){return M=Wt,R=setTimeout(He,ce),$?ke(Wt):z}(j);if(te)return R=setTimeout(He,ce),ke(j)}return R===void 0&&(R=setTimeout(He,ce)),z}return ce=k(ce)||0,S(E)&&($=!!E.leading,K=(te="maxWait"in E)?b(k(E.maxWait)||0,ce):K,he="trailing"in E?!!E.trailing:he),mr.cancel=function(){R!==void 0&&clearTimeout(R),M=0,A=j=ee=R=void 0},mr.flush=function(){return R===void 0?z:Ft(T())},mr}(P,D,{leading:se,maxWait:D,trailing:ie})}},703:(i,o,s)=>{var a=s(414);function u(){}function l(){}l.resetWarningCache=u,i.exports=function(){function c(p,y,w,g,m,v){if(v!==a){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}function d(){return c}c.isRequired=c;var f={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:l,resetWarningCache:u};return f.PropTypes=f,f}},697:(i,o,s)=>{i.exports=s(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return n.d(o,{a:o}),o},n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>vn,LazyLoadImage:()=>uI,trackWindowScroll:()=>z});const i=ae;var o=n.n(i),s=n(697);function a(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function u(U){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},u(U)}function l(U,I){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(U);I&&(q=q.filter(function(ge){return Object.getOwnPropertyDescriptor(U,ge).enumerable})),B.push.apply(B,q)}return B}function c(U,I,B){return(I=f(I))in U?Object.defineProperty(U,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):U[I]=B,U}function d(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,f(q.key),q)}}function f(U){var I=function(B,q){if(u(B)!=="object"||B===null)return B;var ge=B[Symbol.toPrimitive];if(ge!==void 0){var ve=ge.call(B,"string");if(u(ve)!=="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(U);return u(I)==="symbol"?I:String(I)}function p(U,I){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},p(U,I)}function y(U){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},y(U)}var w=function(U){U.forEach(function(I){I.isIntersecting&&I.target.onVisible()})},g={},m=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&p(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=y(q);if(ge){var ne=y(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(u(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Z)}(this,O)});function Ne(O){var L;if(function(Z,J){if(!(Z instanceof J))throw new TypeError("Cannot call a class as a function")}(this,Ne),(L=ve.call(this,O)).supportsObserver=!O.scrollPosition&&O.useIntersectionObserver&&a(),L.supportsObserver){var ne=O.threshold;L.observer=function(Z){return g[Z]=g[Z]||new IntersectionObserver(w,{rootMargin:Z+"px"}),g[Z]}(ne)}return L}return I=Ne,B=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,L=this.placeholder.getBoundingClientRect(),ne=this.placeholder.style,Z=parseInt(ne.getPropertyValue("margin-left"),10)||0,J=parseInt(ne.getPropertyValue("margin-top"),10)||0;return{bottom:O.y+L.bottom+J,left:O.x+L.left+Z,right:O.x+L.right+Z,top:O.y+L.top+J}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var O=this.props,L=O.scrollPosition,ne=O.threshold,Z=this.getPlaceholderBoundingBox(L),J=L.y+window.innerHeight,we=L.x,Ue=L.x+window.innerWidth,Ve=L.y;return Ve-ne<=Z.bottom&&J+ne>=Z.top&&we-ne<=Z.right&&Ue+ne>=Z.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var O=this,L=this.props,ne=L.className,Z=L.height,J=L.placeholder,we=L.style,Ue=L.width;if(J&&typeof J.type!="function")return o().cloneElement(J,{ref:function(De){return O.placeholder=De}});var Ve=function(De){for(var dt=1;dt<arguments.length;dt++){var Xe=arguments[dt]!=null?arguments[dt]:{};dt%2?l(Object(Xe),!0).forEach(function(Et){c(De,Et,Xe[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(Xe)):l(Object(Xe)).forEach(function(Et){Object.defineProperty(De,Et,Object.getOwnPropertyDescriptor(Xe,Et))})}return De}({display:"inline-block"},we);return Ue!==void 0&&(Ve.width=Ue),Z!==void 0&&(Ve.height=Z),o().createElement("span",{className:ne,ref:function(De){return O.placeholder=De},style:Ve},J)}}],B&&d(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);m.propTypes={onVisible:s.PropTypes.func.isRequired,className:s.PropTypes.string,height:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),placeholder:s.PropTypes.element,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,scrollPosition:s.PropTypes.shape({x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired}),width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string])},m.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const v=m;var b=n(296),x=n.n(b),T=n(96),S=n.n(T),k=function(U){var I=getComputedStyle(U,null);return I.getPropertyValue("overflow")+I.getPropertyValue("overflow-y")+I.getPropertyValue("overflow-x")};const P=function(U){if(!(U instanceof HTMLElement))return window;for(var I=U;I&&I instanceof HTMLElement;){if(/(scroll|auto)/.test(k(I)))return I;I=I.parentNode}return window};function D(U){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},D(U)}var Y=["delayMethod","delayTime"];function se(){return se=Object.assign?Object.assign.bind():function(U){for(var I=1;I<arguments.length;I++){var B=arguments[I];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(U[q]=B[q])}return U},se.apply(this,arguments)}function ie(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,(ge=function(ve,Ne){if(D(ve)!=="object"||ve===null)return ve;var O=ve[Symbol.toPrimitive];if(O!==void 0){var L=O.call(ve,"string");if(D(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(q.key),D(ge)==="symbol"?ge:String(ge)),q)}var ge}function me(U,I){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},me(U,I)}function ce(U,I){if(I&&(D(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(U)}function E(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function A(U){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},A(U)}var ee=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},K=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const z=function(U){var I=function(B){(function(ne,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),Z&&me(ne,Z)})(L,B);var q,ge,ve,Ne,O=(ve=L,Ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ne,Z=A(ve);if(Ne){var J=A(this).constructor;ne=Reflect.construct(Z,arguments,J)}else ne=Z.apply(this,arguments);return ce(this,ne)});function L(ne){var Z;if(function(we,Ue){if(!(we instanceof Ue))throw new TypeError("Cannot call a class as a function")}(this,L),(Z=O.call(this,ne)).useIntersectionObserver=ne.useIntersectionObserver&&a(),Z.useIntersectionObserver)return ce(Z);var J=Z.onChangeScroll.bind(E(Z));return ne.delayMethod==="debounce"?Z.delayedScroll=x()(J,ne.delayTime):ne.delayMethod==="throttle"&&(Z.delayedScroll=S()(J,ne.delayTime)),Z.state={scrollPosition:{x:ee(),y:K()}},Z.baseComponentRef=o().createRef(),Z}return q=L,(ge=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||P(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=P(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ee(),y:K()}})}},{key:"render",value:function(){var ne=this.props,Z=(ne.delayMethod,ne.delayTime,function(we,Ue){if(we==null)return{};var Ve,De,dt=function(Et,Xi){if(Et==null)return{};var ni,Pu,ny={},ry=Object.keys(Et);for(Pu=0;Pu<ry.length;Pu++)ni=ry[Pu],Xi.indexOf(ni)>=0||(ny[ni]=Et[ni]);return ny}(we,Ue);if(Object.getOwnPropertySymbols){var Xe=Object.getOwnPropertySymbols(we);for(De=0;De<Xe.length;De++)Ve=Xe[De],Ue.indexOf(Ve)>=0||Object.prototype.propertyIsEnumerable.call(we,Ve)&&(dt[Ve]=we[Ve])}return dt}(ne,Y)),J=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(U,se({forwardRef:this.baseComponentRef,scrollPosition:J},Z))}}])&&ie(q.prototype,ge),Object.defineProperty(q,"prototype",{writable:!1}),L}(o().Component);return I.propTypes={delayMethod:s.PropTypes.oneOf(["debounce","throttle"]),delayTime:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool},I.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},I};function R(U){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},R(U)}function j(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,(ge=function(ve,Ne){if(R(ve)!=="object"||ve===null)return ve;var O=ve[Symbol.toPrimitive];if(O!==void 0){var L=O.call(ve,"string");if(R(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(q.key),R(ge)==="symbol"?ge:String(ge)),q)}var ge}function M(U,I){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},M(U,I)}function $(U){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},$(U)}var te=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&M(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=$(q);if(ge){var ne=$(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(R(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Z)}(this,O)});function Ne(O){return function(L,ne){if(!(L instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,Ne),ve.call(this,O)}return I=Ne,(B=[{key:"render",value:function(){return o().createElement(v,this.props)}}])&&j(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);const he=z(te);function ke(U){return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},ke(U)}function Ae(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,(ge=function(ve,Ne){if(ke(ve)!=="object"||ve===null)return ve;var O=ve[Symbol.toPrimitive];if(O!==void 0){var L=O.call(ve,"string");if(ke(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(q.key),ke(ge)==="symbol"?ge:String(ge)),q)}var ge}function He(U,I){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},He(U,I)}function Ft(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function mr(U){return mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},mr(U)}var ht=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&He(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=mr(q);if(ge){var ne=mr(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(ke(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(Z)}(this,O)});function Ne(O){var L;(function(Ue,Ve){if(!(Ue instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,Ne),L=ve.call(this,O);var ne=O.afterLoad,Z=O.beforeLoad,J=O.scrollPosition,we=O.visibleByDefault;return L.state={visible:we},we&&(Z(),ne()),L.onVisible=L.onVisible.bind(Ft(L)),L.isScrollTracked=!!(J&&Number.isFinite(J.x)&&J.x>=0&&Number.isFinite(J.y)&&J.y>=0),L}return I=Ne,(B=[{key:"componentDidUpdate",value:function(O,L){L.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var O=this.props,L=O.className,ne=O.delayMethod,Z=O.delayTime,J=O.height,we=O.placeholder,Ue=O.scrollPosition,Ve=O.style,De=O.threshold,dt=O.useIntersectionObserver,Xe=O.width;return this.isScrollTracked||dt&&a()?o().createElement(v,{className:L,height:J,onVisible:this.onVisible,placeholder:we,scrollPosition:Ue,style:Ve,threshold:De,useIntersectionObserver:dt,width:Xe}):o().createElement(he,{className:L,delayMethod:ne,delayTime:Z,height:J,onVisible:this.onVisible,placeholder:we,style:Ve,threshold:De,width:Xe})}}])&&Ae(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);ht.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool},ht.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const vn=ht;function Wt(U){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Wt(U)}var oI=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Zg(U,I){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(U);I&&(q=q.filter(function(ge){return Object.getOwnPropertyDescriptor(U,ge).enumerable})),B.push.apply(B,q)}return B}function ey(U){for(var I=1;I<arguments.length;I++){var B=arguments[I]!=null?arguments[I]:{};I%2?Zg(Object(B),!0).forEach(function(q){sI(U,q,B[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(B)):Zg(Object(B)).forEach(function(q){Object.defineProperty(U,q,Object.getOwnPropertyDescriptor(B,q))})}return U}function sI(U,I,B){return(I=ty(I))in U?Object.defineProperty(U,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):U[I]=B,U}function Nu(){return Nu=Object.assign?Object.assign.bind():function(U){for(var I=1;I<arguments.length;I++){var B=arguments[I];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(U[q]=B[q])}return U},Nu.apply(this,arguments)}function aI(U,I){for(var B=0;B<I.length;B++){var q=I[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,ty(q.key),q)}}function ty(U){var I=function(B,q){if(Wt(B)!=="object"||B===null)return B;var ge=B[Symbol.toPrimitive];if(ge!==void 0){var ve=ge.call(B,"string");if(Wt(ve)!=="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(U);return Wt(I)==="symbol"?I:String(I)}function Wf(U,I){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,q){return B.__proto__=q,B},Wf(U,I)}function _u(U){return _u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},_u(U)}var Kf=function(U){(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&Wf(O,L)})(Ne,U);var I,B,q,ge,ve=(q=Ne,ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,L=_u(q);if(ge){var ne=_u(this).constructor;O=Reflect.construct(L,arguments,ne)}else O=L.apply(this,arguments);return function(Z,J){if(J&&(Wt(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(Z)}(this,O)});function Ne(O){var L;return function(ne,Z){if(!(ne instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Ne),(L=ve.call(this,O)).state={loaded:!1},L}return I=Ne,(B=[{key:"onImageLoad",value:function(){var O=this;return this.state.loaded?null:function(L){O.props.onLoad(L),O.props.afterLoad(),O.setState({loaded:!0})}}},{key:"getImg",value:function(){var O=this.props,L=(O.afterLoad,O.beforeLoad,O.delayMethod,O.delayTime,O.effect,O.placeholder,O.placeholderSrc,O.scrollPosition,O.threshold,O.useIntersectionObserver,O.visibleByDefault,O.wrapperClassName,O.wrapperProps,function(ne,Z){if(ne==null)return{};var J,we,Ue=function(De,dt){if(De==null)return{};var Xe,Et,Xi={},ni=Object.keys(De);for(Et=0;Et<ni.length;Et++)Xe=ni[Et],dt.indexOf(Xe)>=0||(Xi[Xe]=De[Xe]);return Xi}(ne,Z);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(ne);for(we=0;we<Ve.length;we++)J=Ve[we],Z.indexOf(J)>=0||Object.prototype.propertyIsEnumerable.call(ne,J)&&(Ue[J]=ne[J])}return Ue}(O,oI));return o().createElement("img",Nu({},L,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var O=this.props,L=O.beforeLoad,ne=O.className,Z=O.delayMethod,J=O.delayTime,we=O.height,Ue=O.placeholder,Ve=O.scrollPosition,De=O.style,dt=O.threshold,Xe=O.useIntersectionObserver,Et=O.visibleByDefault,Xi=O.width;return o().createElement(vn,{beforeLoad:L,className:ne,delayMethod:Z,delayTime:J,height:we,placeholder:Ue,scrollPosition:Ve,style:De,threshold:dt,useIntersectionObserver:Xe,visibleByDefault:Et,width:Xi},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(O){var L=this.props,ne=L.effect,Z=L.height,J=L.placeholderSrc,we=L.width,Ue=L.wrapperClassName,Ve=L.wrapperProps,De=this.state.loaded,dt=De?" lazy-load-image-loaded":"",Xe=De||!J?{}:{backgroundImage:"url(".concat(J,")"),backgroundSize:"100% 100%"};return o().createElement("span",Nu({className:Ue+" lazy-load-image-background "+ne+dt,style:ey(ey({},Xe),{},{color:"transparent",display:"inline-block",height:Z,width:we})},Ve),O)}},{key:"render",value:function(){var O=this.props,L=O.effect,ne=O.placeholderSrc,Z=O.visibleByDefault,J=O.wrapperClassName,we=O.wrapperProps,Ue=this.getLazyLoadImage();return(L||ne)&&!Z||J||we?this.getWrappedLazyLoadImage(Ue):Ue}}])&&aI(I.prototype,B),Object.defineProperty(I,"prototype",{writable:!1}),Ne}(o().Component);Kf.propTypes={onLoad:s.PropTypes.func,afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,delayMethod:s.PropTypes.string,delayTime:s.PropTypes.number,effect:s.PropTypes.string,placeholderSrc:s.PropTypes.string,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool,wrapperClassName:s.PropTypes.string,wrapperProps:s.PropTypes.object},Kf.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const uI=Kf})(),HT.exports=r})();var CL=HT.exports;const NL=({className:e})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"20",height:"20",fill:"none","aria-hidden":"true",children:[h.jsx("circle",{cx:"16",cy:"16",r:"13",stroke:"#2563eb",strokeWidth:"2.5",fill:"none"}),h.jsx("text",{x:"16",y:"18",textAnchor:"middle",fontSize:"18",fontWeight:"bold",fill:"#2563eb",fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:"1",dominantBaseline:"middle",children:"C"})]}),_L=()=>h.jsxs("footer",{children:[h.jsx("div",{className:"border-b border-gray-300"}),h.jsxs("div",{className:"flex w-full items-center justify-between p-2",children:[h.jsxs("div",{className:"flex items-center justify-center pl-5",children:[h.jsx(NL,{}),h.jsx("p",{className:"text-sm pl-1 pb-0.5",children:"pankaj9057"})]}),h.jsx("div",{className:"border-r border-gray-300 mx-2 h-10"}),h.jsx("div",{className:"FooterItemContainer",children:h.jsx("p",{className:"text-sm",children:"Feedback: pankaj9057@gmail.com"})}),h.jsx("div",{className:"border-r border-gray-300 mx-2 h-10"}),h.jsx("a",{href:"https://github.com/pankaj9057/planning-poker/issues",children:"Submit an Issue"}),h.jsx("div",{className:"border-r border-gray-300 mx-2 h-10"}),h.jsx("div",{className:"pr-5",children:h.jsx("p",{className:"text-sm",children:h.jsx("a",{href:"https://www.buymeacoffee.com/pankaj9057",target:"_blank",rel:"noreferrer",children:h.jsx("img",{src:"https://cdn.buymeacoffee.com/buttons/v2/default-blue.png",alt:"Buy Me A Coffee",style:{height:"40px",width:"150px"}})})})})]})]}),Iw=e=>{e=1831565813+(e|=0)|0;let t=Math.imul(e^e>>>15,1|e);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296};class PL{constructor(t){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:n,separator:r,dictionaries:i,style:o,seed:s}=t;this.dictionaries=i,this.separator=r,this.length=n,this.style=o,this.seed=s}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let t=this.seed;return this.dictionaries.slice(0,this.length).reduce((n,r)=>{let i;t?(i=(s=>{if(typeof s=="string"){const a=s.split("").map(l=>l.charCodeAt(0)).reduce((l,c)=>l+c,1),u=Math.floor(Number(a));return Iw(u)}return Iw(s)})(t),t=4294967296*i):i=Math.random();let o=r[Math.floor(i*r.length)]||"";if(this.style==="lowerCase")o=o.toLowerCase();else if(this.style==="capital"){const[s,...a]=o.split("");o=s.toUpperCase()+a.join("")}else this.style==="upperCase"&&(o=o.toUpperCase());return n?`${n}${this.separator}${o}`:`${o}`},"")}}const kw={separator:"_",dictionaries:[]},Cw=e=>{const t=[...e&&e.dictionaries||kw.dictionaries],n={...kw,...e,length:e&&e.length||t.length,dictionaries:t};if(!e||!e.dictionaries||!e.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new PL(n).generate()};var jL=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],OL=["amaranth","amber","amethyst","apricot","aqua","aquamarine","azure","beige","black","blue","blush","bronze","brown","chocolate","coffee","copper","coral","crimson","cyan","emerald","fuchsia","gold","gray","green","harlequin","indigo","ivory","jade","lavender","lime","magenta","maroon","moccasin","olive","orange","peach","pink","plum","purple","red","rose","salmon","sapphire","scarlet","silver","tan","teal","tomato","turquoise","violet","white","yellow"],AL=["Ackbar","Adi Gallia","Anakin Skywalker","Arvel Crynyd","Ayla Secura","Bail Prestor Organa","Barriss Offee","Ben Quadinaros","Beru Whitesun lars","Bib Fortuna","Biggs Darklighter","Boba Fett","Bossk","C-3PO","Chewbacca","Cliegg Lars","Cord","Darth Maul","Darth Vader","Dexter Jettster","Dooku","Dorm","Dud Bolt","Eeth Koth","Finis Valorum","Gasgano","Greedo","Gregar Typho","Grievous","Han Solo","IG-88","Jabba Desilijic Tiure","Jango Fett","Jar Jar Binks","Jek Tono Porkins","Jocasta Nu","Ki-Adi-Mundi","Kit Fisto","Lama Su","Lando Calrissian","Leia Organa","Lobot","Luke Skywalker","Luminara Unduli","Mace Windu","Mas Amedda","Mon Mothma","Nien Nunb","Nute Gunray","Obi-Wan Kenobi","Owen Lars","Padm Amidala","Palpatine","Plo Koon","Poggle the Lesser","Quarsh Panaka","Qui-Gon Jinn","R2-D2","R4-P17","R5-D4","Ratts Tyerel","Raymus Antilles","Ric Oli","Roos Tarpals","Rugor Nass","Saesee Tiin","San Hill","Sebulba","Shaak Ti","Shmi Skywalker","Sly Moore","Tarfful","Taun We","Tion Medon","Wat Tambor","Watto","Wedge Antilles","Wicket Systri Warrick","Wilhuff Tarkin","Yarael Poof","Yoda","Zam Wesell"];const DL={dictionaries:[OL,jL],separator:" ",style:"capital"},RL={dictionaries:[AL]},LL=()=>{const e=ls(),[t,n]=ae.useState(Cw(DL)),[r,i]=ae.useState(localStorage.getItem("recentPlayerName")||Cw(RL)),[o,s]=ae.useState(at.Fibonacci),[a,u]=ae.useState({game:!0,name:!0}),[l,c]=ae.useState(!1),[d,f]=ae.useState(!1),[p,y]=xe.useState(Array(15).fill("")),[w,g]=xe.useState(!1),{t:m}=Xn(),v=async S=>{if(S.preventDefault(),o===at.Custom){const D=p.reduce((Y,se)=>se&&se.trim()!==""?Y+1:Y,0);if(g(D<2),D<2)return}c(!0);const k={name:t,createdBy:r,gameType:o,isAllowMembersToManageSession:d,cards:o===at.Custom?aL(p):Hf(o),createdAt:new Date},P=await WR(k);P&&(localStorage.setItem("recentPlayerName",r),c(!1)),e.push(`/game/${P}`)},b=(S,k)=>{const P=[...p];P[S]=k,y(P)},x=()=>{a.game&&(n(""),a.game=!1,u({...a}))},T=()=>{a.name&&(i(""),a.name=!1,u({...a}))};return h.jsx("form",{onSubmit:v,className:"w-full flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:m("CreateGame.newSessionHeader")}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:m("CreateGame.sessionNameLabel")}),h.jsx("input",{required:!0,type:"text",className:"w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Enter a session name",value:t||"",onClick:x,onChange:S=>n(S.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:m("CreateGame.yourNameLabel")}),h.jsx("input",{required:!0,type:"text",className:"w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Enter your name",value:r||"",onClick:T,onChange:S=>i(S.target.value)})]}),h.jsxs("fieldset",{children:[h.jsx("legend",{className:"block text-sm font-medium mb-2",children:m("CreateGame.sessionSizingType")}),h.jsx("div",{className:"flex flex-col gap-2",children:[{type:at.Fibonacci,label:m("CreateGame.fibonacci")},{type:at.ShortFibonacci,label:m("CreateGame.shortFibonacci")},{type:at.TShirt,label:m("CreateGame.tShirt")},{type:at.TShirtAndNumber,label:m("CreateGame.tShirtAndNumber")},{type:at.Custom,label:m("CreateGame.custom")}].map(({type:S,label:k})=>h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"radio",className:"form-radio text-blue-600",name:"gameType",value:S,checked:o===S,onChange:()=>s(S)}),h.jsx("span",{className:"ml-2",children:k})]},S))})]}),o===at.Custom&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.map((S,k)=>h.jsx("input",{type:"text",maxLength:3,className:"w-12 border rounded px-2 py-1 text-xs text-center focus:outline-none focus:ring-2 focus:ring-blue-500",value:S,onChange:P=>b(k,P.target.value),"data-testid":`custom-option-${k}`},k))}),w&&h.jsx("p",{className:"text-red-600 text-xs mt-1",children:m("CreateGame.pleaseEnterValues")})]}),h.jsxs("label",{className:"inline-flex items-center mt-2",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox text-blue-600",checked:d,onChange:()=>f(!d)}),h.jsx("span",{className:"ml-2",children:m("CreateGame.allowMembersToManageSession")})]})]}),h.jsx("div",{className:"flex justify-end mt-6",children:h.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-6 py-2 rounded font-semibold shadow hover:bg-blue-700 transition ${l?"opacity-50 cursor-not-allowed":""}`,disabled:l,"data-testid":"loading",children:m(l?"CreateGame.creating":"CreateGame.create")})})]})})},GT=()=>{const e=ls();let{id:t}=u1();const[n,r]=ae.useState(t),[i,o]=ae.useState(()=>localStorage.getItem("recentPlayerName")||""),[s,a]=ae.useState(!0),[u,l]=ae.useState(!1),[c,d]=ae.useState(!1);ae.useEffect(()=>{async function p(){n&&(await VT(n)?(a(!0),await zR(n)&&e.push(`/game/${n}`)):(l(!0),setTimeout(()=>{e.push("/")},5e3)))}p()},[n,e]);const f=async p=>{var m,v;p.preventDefault();const y=p.target,w=(m=y.elements.namedItem("joinGameId"))==null?void 0:m.value,g=(v=y.elements.namedItem("playerName"))==null?void 0:v.value;if(d(!0),n){localStorage.setItem("recentPlayerName",g);const b=await HR(w,g);a(b),b&&e.push(`/game/${n}`),d(!1)}};return h.jsxs("div",{className:"w-full",children:[h.jsx("form",{onSubmit:f,className:"w-full flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg  border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Join a Session"}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session ID"}),h.jsx("input",{id:"joinGameId",required:!0,type:"text",className:`w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400 ${s?"":"border-red-500"}`,placeholder:"xyz...",value:n||"",onChange:p=>r(p.target.value)}),!s&&h.jsx("p",{className:"text-red-600 text-xs mt-1",children:"Session not found, check the ID"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Your Name"}),h.jsx("input",{required:!0,id:"playerName",type:"text",className:"w-full border border-gray-400 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Enter your name",value:i,onChange:p=>o(p.target.value)})]})]}),h.jsx("div",{className:"flex justify-end mt-6",children:h.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-6 py-2 rounded font-semibold shadow hover:bg-blue-700 transition ${c?"opacity-50 cursor-not-allowed":""}`,disabled:c,children:c?"Joining...":"Join"})})]})}),u&&h.jsx("div",{className:"fixed top-6 right-6 z-50",children:h.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow",role:"alert",children:h.jsx("span",{className:"block font-bold",children:"Session was deleted and doesn't exist anymore!"})})})]})},FL=({className:e})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",className:e,children:h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),ML=()=>{const e=ls(),[t,n]=ae.useState(void 0),[r,i]=ae.useState(!1);ae.useEffect(()=>{let a=!0;async function u(){const l=await qR();l&&a&&n(l)}return u(),()=>{a=!1}},[r]);const o=()=>!!(!t||t&&t.length===0),s=async a=>{await BT(a),i(!r)};return h.jsxs("div",{className:"border border-gray-400 rounded-md shadow-sm",children:[h.jsx("div",{className:"text-center -mt-5 mx-auto w-[95%] border-2 bg-white dark:bg-gray-800 border-gray-400 rounded-2xl flex items-center justify-center px-3 py-1",children:h.jsx("h6",{className:"text-lg font-medium  truncate",children:"Recent Session"})}),h.jsxs("div",{className:"p-4",children:[o()&&h.jsx("p",{className:"text-sm",children:"No recent sessions found"}),t&&t.length>0&&h.jsx("div",{className:"overflow-x-auto",style:{maxHeight:250},children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-800 px-6 py-3 text-left text-xs font-bold tracking-wider",children:"Name"}),h.jsx("th",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-800 px-6 py-3 text-left text-xs font-bold  tracking-wider",children:"Created By"}),h.jsx("th",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-800 px-6 py-3 text-left text-xs font-medium  tracking-wider"})]})}),h.jsx("tbody",{className:"",children:t.map(a=>a.name&&h.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer border-t border-gray-200",onClick:()=>e.push(`/game/${a.id}`),children:[h.jsx("td",{className:"px-6 py-4 text-sm",children:a.name}),h.jsx("td",{className:"px-6 py-4 text-sm",children:a.createdBy}),Yg(a.createdById,hp(a.id),a.isAllowMembersToManageSession)?h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",onClick:u=>u.stopPropagation(),children:h.jsx(zT,{id:a.id,message:`Are you sure? That will delete the session: ${a.name} and remove all players from the session.`,onConfirm:u=>s(u),children:h.jsx(FL,{className:"h-5 w-5 text-red-400"})})}):h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"})]},a.id))})]})})]})]})},$L="/planning-poker/assets/Session-Bb4dtvfN.jpg",UL="/planning-poker/assets/background-DerjLgBG.jpg",VL=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col items-center w-full animate-fade-in-down",children:[h.jsx(BL,{}),h.jsx(Co,{}),h.jsx(ko,{}),h.jsx(qL,{}),h.jsx(ko,{}),h.jsx(zL,{}),h.jsx(Co,{}),h.jsx(ko,{}),h.jsx(HL,{}),h.jsx(Co,{})]}),h.jsx(_L,{})]}),Jg=({children:e,maxWidth:t="max-w-7xl",className:n=""})=>h.jsx("div",{className:`flex flex-col lg:flex-row w-full ${t} items-center justify-center ${n}`,children:e}),Zo=({children:e,className:t="",...n})=>h.jsx("div",{className:`w-full lg:w-1/2 px-4 ${t}`,...n,children:e}),BL=()=>{const e=kN("/join"),{t}=Xn();return h.jsxs(Jg,{className:"pt-8",children:[h.jsxs(Zo,{className:"flex flex-col items-center",children:[h.jsx("h1",{className:"text-2xl font-semibold text-center mb-4",children:t("HomePage.heroSection.title")}),h.jsx("div",{className:"p-4",children:h.jsx(CL.LazyLoadImage,{loading:"lazy",alt:t("HomePage.heroSection.title"),className:"w-[500px] h-auto rounded-lg shadow-md",src:UL})}),h.jsx("p",{className:"text-base text-center mb-4",children:t("HomePage.heroSection.description")})]}),h.jsx(Zo,{className:"flex flex-col items-center",children:h.jsx("div",{className:"w-full max-w-md",children:e?h.jsx(GT,{}):h.jsx(LL,{})})})]})},qL=()=>{const{t:e}=Xn();return h.jsxs(Jg,{children:[h.jsx(Zo,{className:"mb-8 lg:mb-0",children:h.jsx("div",{className:"p-6 flex flex-col items-center justify-center",children:h.jsx(ML,{})})}),h.jsx(Zo,{children:h.jsx("div",{className:"p-6 flex flex-col items-center justify-center",children:h.jsx("p",{className:"text-base",children:e("HomePage.recentSessions","Here is your recent Planning/Refinement sessions, click on the session name to join the session again.")})})})]})},zL=()=>{const{t:e}=Xn();return h.jsxs(Jg,{maxWidth:"max-w-5xl",children:[h.jsx(Zo,{className:"mb-8 lg:mb-0",children:h.jsxs("div",{className:"p-6 flex flex-col items-center justify-center",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("HomePage.uiDesignTitle","Intuitive UI Design")}),h.jsx("p",{className:"text-base",children:e("HomePage.uiDesignDesc","Beautiful design for voting the story points, showing team members voting status with emojis( - Voting Done,  - Yet to Vote). Once the card values are revealed, the card color helps to understand if the team's voting is sync or not. Session Moderator has full control on revealing story points and restarting the session.")})]})}),h.jsx(Zo,{children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"p-4",children:h.jsx("img",{className:"-mt-2 w-[600px] h-auto rounded-lg shadow-md",alt:"Session controller",src:$L})})})})]})},HL=()=>h.jsx("div",{className:"w-full max-w-7xl my-8",children:h.jsx(d1,{})}),GL=()=>h.jsx("div",{className:"flex flex-col items-center w-full py-8 flex-1",children:h.jsx("div",{className:"w-full max-w-5xl flex justify-center",children:h.jsx("div",{className:"w-full max-w-xl animate-fade-in-down",children:h.jsx(GT,{})})})});EC();function WL(){return h.jsx("div",{className:"bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 min-h-screen",children:h.jsx(ae.Suspense,{fallback:h.jsx("div",{className:"text-center items-center justify-center flex",children:h.jsx(km,{})}),children:h.jsxs(CN,{basename:"/planning-poker",children:[h.jsx(i_,{}),h.jsxs(TN,{children:[h.jsx(ri,{path:"/game/:id",component:TL}),h.jsx(ri,{path:"/delete-old-games",component:tL}),h.jsx(ri,{path:"/join/:id",component:GL}),h.jsx(ri,{path:"/about-planning-poker",component:l_}),h.jsx(ri,{path:"/examples",component:nL}),h.jsx(ri,{path:"/guide",component:IL}),h.jsx(ri,{exact:!0,path:"/*",component:VL})]})]})})})}const de=e=>typeof e=="string",$s=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},Nw=e=>e==null?"":""+e,KL=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},QL=/###/g,_w=e=>e&&e.indexOf("###")>-1?e.replace(QL,"."):e,Pw=e=>!e||de(e),ya=(e,t,n)=>{const r=de(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(Pw(e))return{};const o=_w(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return Pw(e)?{}:{obj:e,k:_w(r[i])}},jw=(e,t,n)=>{const{obj:r,k:i}=ya(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],s=t.slice(0,t.length-1),a=ya(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=ya(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},XL=(e,t,n,r)=>{const{obj:i,k:o}=ya(e,t,Object);i[o]=i[o]||[],i[o].push(n)},wc=(e,t)=>{const{obj:n,k:r}=ya(e,t);if(n)return n[r]},YL=(e,t,n)=>{const r=wc(e,n);return r!==void 0?r:wc(t,n)},WT=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?de(e[r])||e[r]instanceof String||de(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):WT(e[r],t[r],n):e[r]=t[r]);return e},eo=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var JL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ZL=e=>de(e)?e.replace(/[&<>"'\/]/g,t=>JL[t]):e;class eF{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const tF=[" ",",","?","!",";"],nF=new eF(20),rF=(e,t,n)=>{t=t||"",n=n||"";const r=tF.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=nF.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},pp=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let u=o;u<r.length;++u)if(u!==o&&(a+=n),a+=r[u],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&u<r.length-1)continue;o+=u-o+1;break}i=s}return i},bc=e=>e&&e.replace("_","-"),iF={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class xc{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||iF,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(de(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new xc(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new xc(this.logger,t)}}var Bn=new xc;class Gf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[a,u]=s;for(let l=0;l<u;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,u]=s;for(let l=0;l<u;l++)a.apply(a,[t,...r])})}}class Ow extends Gf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):de(r)&&o?a.push(...r.split(o)):a.push(r)));const u=wc(this.data,a);return!u&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),u||!s||!de(r)?u:pp(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),jw(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(de(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let u=wc(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?WT(u,r,o):u={...u,...r},jw(this.data,a,u),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var KT={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const Aw={};class Sc extends Gf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),KL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Bn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!rF(t,r,i);if(s&&!a){const u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:de(o)?[o]:o};const l=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),t=l.join(i)}return{key:t,namespaces:de(o)?[o]:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),u=a[a.length-1],l=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${x}${s}`,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${x}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:s}const d=this.resolve(t,n);let f=d&&d.res;const p=d&&d.usedKey||s,y=d&&d.exactUsedKey||s,w=Object.prototype.toString.apply(f),g=["[object Number]","[object Function]","[object RegExp]"],m=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!de(f)&&typeof f!="boolean"&&typeof f!="number";if(v&&f&&b&&g.indexOf(w)<0&&!(de(m)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(d.res=x,d.usedParams=this.getUsedParamsDetails(n),d):x}if(o){const x=Array.isArray(f),T=x?[]:{},S=x?y:p;for(const k in f)if(Object.prototype.hasOwnProperty.call(f,k)){const P=`${S}${o}${k}`;T[k]=this.translate(P,{...n,joinArrays:!1,ns:a}),T[k]===P&&(T[k]=f[k])}f=T}}else if(v&&de(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,t,n,r));else{let x=!1,T=!1;const S=n.count!==void 0&&!de(n.count),k=Sc.hasDefaultValue(n),P=S?this.pluralResolver.getSuffix(l,n.count,n):"",D=n.ordinal&&S?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",Y=S&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),se=Y&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${P}`]||n[`defaultValue${D}`]||n.defaultValue;!this.isValidLookup(f)&&k&&(x=!0,f=se),this.isValidLookup(f)||(T=!0,f=s);const me=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:f,ce=k&&se!==f&&this.options.updateMissing;if(T||x||ce){if(this.logger.log(ce?"updateKey":"missingKey",l,u,s,ce?se:f),o){const K=this.resolve(s,{...n,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let E=[];const A=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&A&&A[0])for(let K=0;K<A.length;K++)E.push(A[K]);else this.options.saveMissingTo==="all"?E=this.languageUtils.toResolveHierarchy(n.lng||this.language):E.push(n.lng||this.language);const ee=(K,z,R)=>{const j=k&&R!==f?R:me;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,z,j,ce,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(K,u,z,j,ce,n),this.emit("missingKey",K,u,z,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?E.forEach(K=>{const z=this.pluralResolver.getSuffixes(K,n);Y&&n[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(R=>{ee([K],s+R,n[`defaultValue${R}`]||se)})}):ee(E,s,se))}f=this.extendTranslation(f,t,n,d,r),T&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${u}:${s}`),(T||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${s}`:s,x?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(d.res=f,d.usedParams=this.getUsedParamsDetails(n),d):f}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=de(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const f=t.match(this.interpolator.nestingRegexp);c=f&&f.length}let d=r.replace&&!de(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,r.lng||this.language||i.usedLng,r),l){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];return o&&o[0]===p[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):s.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,u=de(a)?[a]:a;return t!=null&&u&&u.length&&r.applyPostProcessor!==!1&&(t=KT.handle(u,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return de(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(u,n),c=l.key;i=c;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!de(n.count),p=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(de(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(g=>{this.isValidLookup(r)||(a=g,!Aw[`${w[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Aw[`${w[0]}-${g}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(m=>{if(this.isValidLookup(r))return;s=m;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,m,g,n);else{let x;f&&(x=this.pluralResolver.getSuffix(m,n.count,n));const T=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(v.push(c+x),n.ordinal&&x.indexOf(S)===0&&v.push(c+x.replace(S,this.options.pluralSeparator)),p&&v.push(c+T)),y){const k=`${c}${this.options.contextSeparator}${n.context}`;v.push(k),f&&(v.push(k+x),n.ordinal&&x.indexOf(S)===0&&v.push(k+x.replace(S,this.options.pluralSeparator)),p&&v.push(k+T))}}let b;for(;b=v.pop();)this.isValidLookup(r)||(o=b,r=this.getResource(m,g,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!de(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const Mh=e=>e.charAt(0).toUpperCase()+e.slice(1);class Dw{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Bn.create("languageUtils")}getScriptPartFromCode(t){if(t=bc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=bc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(de(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Mh(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Mh(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Mh(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),de(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return de(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):de(t)&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let oF=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],sF={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const aF=["v1","v2","v3"],uF=["v4"],Rw={zero:0,one:1,two:2,few:3,many:4,other:5},lF=()=>{const e={};return oF.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:sF[t.fc]}})}),e};class cF{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Bn.create("pluralResolver"),(!this.options.compatibilityJSON||uF.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=lF(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=bc(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!t.match(/-|_/))return;const u=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(u,n)}return this.pluralRulesCache[o]=s,s}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Rw[i]-Rw[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!aF.includes(this.options.compatibilityJSON)}}const Lw=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=YL(e,t,n);return!o&&i&&de(n)&&(o=pp(e,n,r),o===void 0&&(o=pp(t,n,r))),o},$h=e=>e.replace(/\$/g,"$$$$");class fF{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bn.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:u,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:w,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:ZL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?eo(o):s||"{{",this.suffix=a?eo(a):u||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?eo(f):p||eo("$t("),this.nestingSuffix=y?eo(y):w||eo(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,s,a;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=p=>{if(p.indexOf(this.formatSeparator)<0){const m=Lw(n,u,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...n,interpolationkey:p}):m}const y=p.split(this.formatSeparator),w=y.shift().trim(),g=y.join(this.formatSeparator).trim();return this.format(Lw(n,u,w,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...i,...n,interpolationkey:w})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>$h(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?$h(this.escape(p)):$h(p)}].forEach(p=>{for(a=0;o=p.regex.exec(t);){const y=o[1].trim();if(s=l(y),s===void 0)if(typeof c=="function"){const g=c(t,o,i);s=de(g)?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(d){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),s="";else!de(s)&&!this.useRawValueToEscape&&(s=Nw(s));const w=p.safeValue(s);if(t=t.replace(o[0],w),d?(p.regex.lastIndex+=s.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(u,l)=>{const c=this.nestingOptionsSeparator;if(u.indexOf(c)<0)return u;const d=u.split(new RegExp(`${c}[ ]*{`));let f=`{${d[1]}`;u=d[0],f=this.interpolate(f,s);const p=f.match(/'/g),y=f.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(f=f.replace(/'/g,'"'));try{s=JSON.parse(f),l&&(s={...l,...s})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,w),`${u}${c}${f}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,u};for(;i=this.nestingRegexp.exec(t);){let u=[];s={...r},s=s.replace&&!de(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let l=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=c.shift(),u=c,l=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&!de(o))return o;de(o)||(o=Nw(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),l&&(o=u.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const hF=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...u]=s.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=l),l==="false"&&(n[c]=!1),l==="true"&&(n[c]=!0),isNaN(l)||(n[c]=parseInt(l,10))}})}return{formatName:t,formatOptions:n}},to=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(bc(r),i),t[s]=a),a(n)}};class dF{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bn.create("formatter"),this.options=t,this.formats={number:to((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:to((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:to((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:to((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:to((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=to(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,u)=>{const{formatName:l,formatOptions:c}=hF(u);if(this.formats[l]){let d=a;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=f.locale||f.lng||i.locale||i.lng||r;d=this.formats[l](a,p,{...c,...i,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${l}`);return a},t)}}const pF=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class mF extends Gf{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Bn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},u={};return t.forEach(l=>{let c=!0;n.forEach(d=>{const f=`${l}|${d}`;!r.reload&&this.store.hasResourceBundle(l,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?s[f]===void 0&&(s[f]=!0):(this.state[f]=1,c=!1,s[f]===void 0&&(s[f]=!0),o[f]===void 0&&(o[f]=!0),u[d]===void 0&&(u[d]=!0)))}),c||(a[l]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(u=>{XL(u.loaded,[o],s),pF(u,t),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{a[l]||(a[l]={});const c=u.loaded[l];c.length&&c.forEach(d=>{a[l][d]===void 0&&(a[l][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(u=>!u.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(l,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(l&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(l,c)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const l=u(t,n);l&&typeof l.then=="function"?l.then(c=>a(null,c)).catch(a):a(null,l)}catch(l){a(l)}return}return u(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();de(t)&&(t=this.languageUtils.toResolveHierarchy(t)),de(n)&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const u={...s,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let c;l.length===5?c=l(t,n,r,i,u):c=l(t,n,r,i),c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}else l(t,n,r,i,a,u)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const Fw=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),de(e[1])&&(t.defaultValue=e[1]),de(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Mw=e=>(de(e.ns)&&(e.ns=[e.ns]),de(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),de(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Ju=()=>{},gF=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Xa extends Gf{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Mw(t),this.services={},this.logger=Bn,this.modules={external:[]},gF(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(de(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Fw();this.options={...i,...this.options,...Mw(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Bn.init(o(this.modules.logger),this.options):Bn.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=dF);const d=new Dw(this.options);this.store=new Ow(this.options.resources,this.options);const f=this.services;f.logger=Bn,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new cF(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=o(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new fF(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new mF(o(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),g=1;g<y;g++)w[g-1]=arguments[g];t.emit(p,...w)}),this.modules.languageDetector&&(f.languageDetector=o(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=o(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Sc(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),g=1;g<y;g++)w[g-1]=arguments[g];t.emit(p,...w)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ju),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const u=$s(),l=()=>{const c=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(f),r(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ju;const i=de(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{l!=="cimode"&&o.indexOf(l)<0&&o.push(l)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>s(u)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=$s();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Ju),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&KT.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=$s();this.emit("languageChanging",t);const o=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},s=(u,l)=>{l?(o(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},a=u=>{!t&&!u&&this.services.languageDetector&&(u=[]);const l=de(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);l&&(this.language||o(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,c=>{s(c,l)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let u;if(typeof a!="object"){for(var l=arguments.length,c=new Array(l>2?l-2:0),d=2;d<l;d++)c[d-2]=arguments[d];u=i.options.overloadTranslationOptionHandler([s,a].concat(c))}else u={...a};u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);const f=i.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(s)?p=s.map(y=>`${u.keyPrefix}${f}${y}`):p=u.keyPrefix?`${u.keyPrefix}${f}${s}`:s,i.t(p,u)};return de(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,u)=>{const l=this.services.backendConnector.state[`${a}|${u}`];return l===-1||l===0||l===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=$s();return this.options.ns?(de(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=$s();de(t)&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Dw(Fw());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Xa(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ju;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Xa(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new Ow(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Sc(o.services,i),o.translator.on("*",function(a){for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];o.emit(a,...l)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lt=Xa.createInstance();Lt.createInstance=Xa.createInstance;Lt.createInstance;Lt.dir;Lt.init;Lt.loadResources;Lt.reloadResources;Lt.use;Lt.changeLanguage;Lt.getFixedT;Lt.t;Lt.exists;Lt.setDefaultNamespace;Lt.hasLoadedNamespace;Lt.loadNamespaces;Lt.loadLanguages;function yF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function vF(e,t){if(Ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wF(e){var t=vF(e,"string");return Ya(t)=="symbol"?t:t+""}function bF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wF(r.key),r)}}function xF(e,t,n){return t&&bF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var QT=[],SF=QT.forEach,EF=QT.slice;function TF(e){return SF.call(EF.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var $w=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,IF=function(t,n,r){var i=r||{};i.path=i.path||"/";var o=encodeURIComponent(n),s="".concat(t,"=").concat(o);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!$w.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain=".concat(i.domain)}if(i.path){if(!$w.test(i.path))throw new TypeError("option path is invalid");s+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite){var u=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(u){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},Uw={create:function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),i&&(o.domain=i),document.cookie=IF(t,encodeURIComponent(n),o)},read:function(t){for(var n="".concat(t,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},kF={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var r=Uw.read(t.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&Uw.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},CF={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),o=i.split("&"),s=0;s<o.length;s++){var a=o[s].indexOf("=");if(a>0){var u=o[s].substring(0,a);u===t.lookupQuerystring&&(n=o[s].substring(a+1))}}}return n}},Us=null,Vw=function(){if(Us!==null)return Us;try{Us=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Us=!1}return Us},NF={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&Vw()){var r=window.localStorage.getItem(t.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&Vw()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},Vs=null,Bw=function(){if(Vs!==null)return Vs;try{Vs=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Vs=!1}return Vs},_F={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&Bw()){var r=window.sessionStorage.getItem(t.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&Bw()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},PF={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},jF={name:"htmlTag",lookup:function(t){var n,r=t.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},OF={name:"path",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof r[t.lookupFromPathIndex]!="string")return;n=r[t.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},AF={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}},XT=!1;try{document.cookie,XT=!0}catch{}var YT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];XT||YT.splice(1,1);function DF(){return{order:YT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var JT=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yF(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return xF(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=TF(r,this.options||{},DF()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(kF),this.addDetector(CF),this.addDetector(NF),this.addDetector(_F),this.addDetector(PF),this.addDetector(jF),this.addDetector(OF),this.addDetector(AF)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(o){if(r.detectors[o]){var s=r.detectors[o].lookup(r.options);s&&typeof s=="string"&&(s=[s]),s&&(i=i.concat(s))}}),i=i.map(function(o){return r.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(n,i.options)}))}}])}();JT.type="languageDetector";function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function ZT(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":mp(XMLHttpRequest))==="object"}function RF(e){return!!e&&typeof e.then=="function"}function LF(e){return RF(e)?e:Promise.resolve(e)}function FF(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gp={exports:{}},Zu={exports:{}},qw;function MF(){return qw||(qw=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Xs<"u"&&Xs,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof a<"u"&&a,u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(E){return E&&DataView.prototype.isPrototypeOf(E)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(E){return E&&c.indexOf(Object.prototype.toString.call(E))>-1};function f(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function p(E){return typeof E!="string"&&(E=String(E)),E}function y(E){var A={next:function(){var ee=E.shift();return{done:ee===void 0,value:ee}}};return u.iterable&&(A[Symbol.iterator]=function(){return A}),A}function w(E){this.map={},E instanceof w?E.forEach(function(A,ee){this.append(ee,A)},this):Array.isArray(E)?E.forEach(function(A){this.append(A[0],A[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(A){this.append(A,E[A])},this)}w.prototype.append=function(E,A){E=f(E),A=p(A);var ee=this.map[E];this.map[E]=ee?ee+", "+A:A},w.prototype.delete=function(E){delete this.map[f(E)]},w.prototype.get=function(E){return E=f(E),this.has(E)?this.map[E]:null},w.prototype.has=function(E){return this.map.hasOwnProperty(f(E))},w.prototype.set=function(E,A){this.map[f(E)]=p(A)},w.prototype.forEach=function(E,A){for(var ee in this.map)this.map.hasOwnProperty(ee)&&E.call(A,this.map[ee],ee,this)},w.prototype.keys=function(){var E=[];return this.forEach(function(A,ee){E.push(ee)}),y(E)},w.prototype.values=function(){var E=[];return this.forEach(function(A){E.push(A)}),y(E)},w.prototype.entries=function(){var E=[];return this.forEach(function(A,ee){E.push([ee,A])}),y(E)},u.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function g(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function m(E){return new Promise(function(A,ee){E.onload=function(){A(E.result)},E.onerror=function(){ee(E.error)}})}function v(E){var A=new FileReader,ee=m(A);return A.readAsArrayBuffer(E),ee}function b(E){var A=new FileReader,ee=m(A);return A.readAsText(E),ee}function x(E){for(var A=new Uint8Array(E),ee=new Array(A.length),K=0;K<A.length;K++)ee[K]=String.fromCharCode(A[K]);return ee.join("")}function T(E){if(E.slice)return E.slice(0);var A=new Uint8Array(E.byteLength);return A.set(new Uint8Array(E)),A.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:u.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:u.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():u.arrayBuffer&&u.blob&&l(E)?(this._bodyArrayBuffer=T(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||d(E))?this._bodyArrayBuffer=T(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var E=g(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=g(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var E=g(this);if(E)return E;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(E){var A=E.toUpperCase();return k.indexOf(A)>-1?A:E}function D(E,A){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var ee=A.body;if(E instanceof D){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,A.headers||(this.headers=new w(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!ee&&E._bodyInit!=null&&(ee=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new w(A.headers)),this.method=P(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ee)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ee),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var z=/\?/;this.url+=(z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function Y(E){var A=new FormData;return E.trim().split("&").forEach(function(ee){if(ee){var K=ee.split("="),z=K.shift().replace(/\+/g," "),R=K.join("=").replace(/\+/g," ");A.append(decodeURIComponent(z),decodeURIComponent(R))}}),A}function se(E){var A=new w,ee=E.replace(/\r?\n[\t ]+/g," ");return ee.split("\r").map(function(K){return K.indexOf(`
`)===0?K.substr(1,K.length):K}).forEach(function(K){var z=K.split(":"),R=z.shift().trim();if(R){var j=z.join(":").trim();A.append(R,j)}}),A}S.call(D.prototype);function ie(E,A){if(!(this instanceof ie))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new w(A.headers),this.url=A.url||"",this._initBody(E)}S.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},ie.error=function(){var E=new ie(null,{status:0,statusText:""});return E.type="error",E};var me=[301,302,303,307,308];ie.redirect=function(E,A){if(me.indexOf(A)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:A,headers:{location:E}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(A,ee){this.message=A,this.name=ee;var K=Error(A);this.stack=K.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function ce(E,A){return new Promise(function(ee,K){var z=new D(E,A);if(z.signal&&z.signal.aborted)return K(new s.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function j(){R.abort()}R.onload=function(){var $={status:R.status,statusText:R.statusText,headers:se(R.getAllResponseHeaders()||"")};$.url="responseURL"in R?R.responseURL:$.headers.get("X-Request-URL");var te="response"in R?R.response:R.responseText;setTimeout(function(){ee(new ie(te,$))},0)},R.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},R.onabort=function(){setTimeout(function(){K(new s.DOMException("Aborted","AbortError"))},0)};function M($){try{return $===""&&a.location.href?a.location.href:$}catch{return $}}R.open(z.method,M(z.url),!0),z.credentials==="include"?R.withCredentials=!0:z.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(u.blob?R.responseType="blob":u.arrayBuffer&&z.headers.get("Content-Type")&&z.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(R.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof w)?Object.getOwnPropertyNames(A.headers).forEach(function($){R.setRequestHeader($,p(A.headers[$]))}):z.headers.forEach(function($,te){R.setRequestHeader(te,$)}),z.signal&&(z.signal.addEventListener("abort",j),R.onreadystatechange=function(){R.readyState===4&&z.signal.removeEventListener("abort",j)}),R.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return ce.polyfill=!0,a.fetch||(a.fetch=ce,a.Headers=w,a.Request=D,a.Response=ie),s.Headers=w,s.Request=D,s.Response=ie,s.fetch=ce,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Zu,Zu.exports)),Zu.exports}(function(e,t){var n=typeof fetch=="function"?fetch:void 0;if(typeof Xs<"u"&&Xs.fetch?n=Xs.fetch:typeof window<"u"&&window.fetch&&(n=window.fetch),typeof FF<"u"&&typeof window>"u"){var r=n||MF();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(gp,gp.exports);var eI=gp.exports;const tI=Za(eI),zw=lI({__proto__:null,default:tI},[eI]);function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){$F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $F(e,t,n){return(t=UF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UF(e){var t=VF(e,"string");return Ri(t)=="symbol"?t:t+""}function VF(e,t){if(Ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}var Wr=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Wr=global.fetch:typeof window<"u"&&window.fetch&&(Wr=window.fetch);var Ja;ZT()&&(typeof global<"u"&&global.XMLHttpRequest?Ja=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ja=window.XMLHttpRequest));var Ec;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Ec=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Ec=window.ActiveXObject));!Wr&&zw&&!Ja&&!Ec&&(Wr=tI||zw);typeof Wr!="function"&&(Wr=void 0);var yp=function(t,n){if(n&&Ri(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},Ww=function(t,n,r,i){var o=function(u){if(!u.ok)return r(u.statusText||"Error",{status:u.status});u.text().then(function(l){r(null,{status:u.status,data:l})}).catch(r)};if(i){var s=i(t,n);if(s instanceof Promise){s.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):Wr(t,n).then(o).catch(r)},Kw=!1,BF=function(t,n,r,i){t.queryStringParams&&(n=yp(n,t.queryStringParams));var o=Gw({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var s=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=Gw({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},Kw?{}:s),u=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{Ww(n,a,i,u)}catch(l){if(!s||Object.keys(s).length===0||!l.message||l.message.indexOf("not implemented")<0)return i(l);try{Object.keys(s).forEach(function(c){delete a[c]}),Ww(n,a,i,u),Kw=!0}catch(c){i(c)}}},qF=function(t,n,r,i){r&&Ri(r)==="object"&&(r=yp("",r).slice(1)),t.queryStringParams&&(n=yp(n,t.queryStringParams));try{var o;Ja?o=new Ja:o=new Ec("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=t.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(u){console&&console.log(u)}},zF=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Wr&&n.indexOf("file:")!==0)return BF(t,n,r,i);if(ZT()||typeof ActiveXObject=="function")return qF(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(r){nI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rI(r.key),r)}}function WF(e,t,n){return t&&GF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nI(e,t,n){return(t=rI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rI(e){var t=KF(e,"string");return es(t)=="symbol"?t:t+""}function KF(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QF=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return nI({},r,i||"")},parseLoadPayload:function(n,r){},request:zF,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},iI=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};HF(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return WF(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=Uh(Uh(Uh({},QF()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);es(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,u=this.options.loadPath;typeof this.options.loadPath=="function"&&(u=this.options.loadPath(n,i)),u=LF(u),u.then(function(l){if(!l)return s(null,{});var c=a.services.interpolator.interpolate(l,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(c,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,u=typeof o=="string"?[o]:o,l=this.options.parseLoadPayload(a,u);this.options.request(this.options,n,l,function(c,d){if(d&&(d.status>=500&&d.status<600||!d.status))return r("failed loading "+n+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return r("failed loading "+n+"; status code: "+d.status,!1);if(!d&&c&&c.message){var f=c.message.toLowerCase(),p=["failed","fetch","network","load"].find(function(g){return f.indexOf(g)>-1});if(p)return r("failed loading "+n+": "+c.message,!0)}if(c)return r(c,!1);var y,w;try{typeof d.data=="string"?y=s.options.parse(d.data,i,o):y=d.data}catch{w="failed parsing "+n+" to json"}if(w)return r(w,!1);r(null,y)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var u=this.options.parsePayload(r,i,o),l=0,c=[],d=[];n.forEach(function(f){var p=a.options.addPath;typeof a.options.addPath=="function"&&(p=a.options.addPath(f,r));var y=a.services.interpolator.interpolate(p,{lng:f,ns:r});a.options.request(a.options,y,u,function(w,g){l+=1,c.push(w),d.push(g),l===n.length&&typeof s=="function"&&s(c,d)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var u=[],l=function(d){var f=o.toResolveHierarchy(d);f.forEach(function(p){u.indexOf(p)<0&&u.push(p)})};l(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return l(c)}),u.forEach(function(c){n.allOptions.ns.forEach(function(d){i.read(c,d,"read",null,null,function(f,p){f&&s.warn("loading namespace ".concat(d," for language ").concat(c," failed"),f),!f&&p&&s.log("loaded namespace ".concat(d," for language ").concat(c),p),i.loaded("".concat(c,"|").concat(d),f,p)})})})}}}])}();iI.type="backend";Lt.use(iI).use(JT).use(qN).init({fallbackLng:"en",fallbackNS:"US",debug:!1,backend:{loadPath:"/planning-poker/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!0},interpolation:{escapeValue:!1}});kn.analytics();bC.render(h.jsx(WL,{}),document.getElementById("root"));
